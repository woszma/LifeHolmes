const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-IE2X5DAH-EXdlyHCG.js","assets/graph-QEYYjHoT.js","assets/_baseUniq-DlAA5gym.js","assets/layout-BXY-0hV7.js","assets/_basePickBy-DtzZqEST.js","assets/clone-Cro_l_r4.js","assets/c4Diagram-E5VUS4TQ-CuYTKzjS.js","assets/chunk-WZLT4MVT-na7zx8-z.js","assets/flowDiagram-OUUYVNGO-32kzAeaE.js","assets/chunk-UIWBPB2F-Bah106kp.js","assets/chunk-HPOVUXKZ-C7ULNB_I.js","assets/channel-CREDrJd9.js","assets/erDiagram-FWMTN743-CqnLNWsf.js","assets/gitGraphDiagram-SOPYED2O-C96MvFKm.js","assets/chunk-44GW5IO5-silFy8Zr.js","assets/chunk-BQPDZTM5-DHLqbX-m.js","assets/radar-VG2SY3DT-Co-kWHcH.js","assets/ganttDiagram-Y4ZJHTSR-DIOeg6pH.js","assets/linear-DUYwt4Tk.js","assets/init-Gi6I4Gst.js","assets/infoDiagram-LZPS564M-rteYhD5t.js","assets/pieDiagram-JVH3GP2A-D_xaHGCy.js","assets/arc-CC0-3EqW.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-2GFVJBMM-C-9ZfF5B.js","assets/xychartDiagram-4SJQ7YKO-CmlPZ3yM.js","assets/requirementDiagram-PBTKI7ZP-DR1rZg6L.js","assets/sequenceDiagram-BLN7LXEI-D9fRL0-I.js","assets/classDiagram-EGQPL23Y-DgT700vZ.js","assets/chunk-YQZZRAKN-DwY9KqPx.js","assets/classDiagram-v2-4EBKGCBT-DgT700vZ.js","assets/stateDiagram-WEXRT5W7-BfremYbs.js","assets/chunk-GOYUR5SG-cQqqjcjb.js","assets/stateDiagram-v2-SNKRMT2F-CAaf2-Fw.js","assets/journeyDiagram-KRBQ73NG-DBGh1izk.js","assets/timeline-definition-GH3MJCYT-C1IZ6xZT.js","assets/mindmap-definition-RDSO3R44-CZuClqCa.js","assets/cytoscape.esm-BY7v1xhs.js","assets/kanban-definition-TWHLSRP4-D2G5wJ0y.js","assets/sankeyDiagram-XYA53EP7-D0FDT5rI.js","assets/diagram-3XXCIKAB-B15MOS-3.js","assets/diagram-DTTGSU4T-BQQiD66P.js","assets/blockDiagram-ZUX3OVTL-jEcc4jSo.js","assets/architectureDiagram-KYWUMXXP-DjU6tvnS.js"])))=>i.map(i=>d[i]);
var VL=Object.defineProperty;var XL=(e,t,i)=>t in e?VL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var bt=(e,t,i)=>XL(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();function IS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qg={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function ZL(){if(Ov)return Yt;Ov=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function S(O,W,ht){this.props=O,this.context=W,this.refs=_,this.updater=ht||x}S.prototype.isReactComponent={},S.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function w(){}w.prototype=S.prototype;function T(O,W,ht){this.props=O,this.context=W,this.refs=_,this.updater=ht||x}var M=T.prototype=new w;M.constructor=T,v(M,S.prototype),M.isPureReactComponent=!0;var z=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function R(O,W,ht,nt,gt,yt){return ht=yt.ref,{$$typeof:e,type:O,key:W,ref:ht!==void 0?ht:null,props:yt}}function I(O,W){return R(O.type,W,void 0,void 0,void 0,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function K(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ht){return W[ht]})}var P=/\/+/g;function it(O,W){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):W.toString(36)}function et(){}function G(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(et,et):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,W,ht,nt,gt){var yt=typeof O;(yt==="undefined"||yt==="boolean")&&(O=null);var st=!1;if(O===null)st=!0;else switch(yt){case"bigint":case"string":case"number":st=!0;break;case"object":switch(O.$$typeof){case e:case t:st=!0;break;case p:return st=O._init,q(st(O._payload),W,ht,nt,gt)}}if(st)return gt=gt(O),st=nt===""?"."+it(O,0):nt,z(gt)?(ht="",st!=null&&(ht=st.replace(P,"$&/")+"/"),q(gt,W,ht,"",function(Gt){return Gt})):gt!=null&&(J(gt)&&(gt=I(gt,ht+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+st)),W.push(gt)),1;st=0;var Ct=nt===""?".":nt+":";if(z(O))for(var zt=0;zt<O.length;zt++)nt=O[zt],yt=Ct+it(nt,zt),st+=q(nt,W,ht,yt,gt);else if(zt=y(O),typeof zt=="function")for(O=zt.call(O),zt=0;!(nt=O.next()).done;)nt=nt.value,yt=Ct+it(nt,zt++),st+=q(nt,W,ht,yt,gt);else if(yt==="object"){if(typeof O.then=="function")return q(G(O),W,ht,nt,gt);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return st}function L(O,W,ht){if(O==null)return O;var nt=[],gt=0;return q(O,nt,"","",function(yt){return W.call(ht,yt,gt++)}),nt}function F(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ht){(O._status===0||O._status===-1)&&(O._status=1,O._result=ht)},function(ht){(O._status===0||O._status===-1)&&(O._status=2,O._result=ht)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var j=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ut(){}return Yt.Children={map:L,forEach:function(O,W,ht){L(O,function(){W.apply(this,arguments)},ht)},count:function(O){var W=0;return L(O,function(){W++}),W},toArray:function(O){return L(O,function(W){return W})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Yt.Component=S,Yt.Fragment=i,Yt.Profiler=r,Yt.PureComponent=T,Yt.StrictMode=n,Yt.Suspense=u,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},Yt.cache=function(O){return function(){return O.apply(null,arguments)}},Yt.cloneElement=function(O,W,ht){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var nt=v({},O.props),gt=O.key,yt=void 0;if(W!=null)for(st in W.ref!==void 0&&(yt=void 0),W.key!==void 0&&(gt=""+W.key),W)!E.call(W,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&W.ref===void 0||(nt[st]=W[st]);var st=arguments.length-2;if(st===1)nt.children=ht;else if(1<st){for(var Ct=Array(st),zt=0;zt<st;zt++)Ct[zt]=arguments[zt+2];nt.children=Ct}return R(O.type,gt,void 0,void 0,yt,nt)},Yt.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Yt.createElement=function(O,W,ht){var nt,gt={},yt=null;if(W!=null)for(nt in W.key!==void 0&&(yt=""+W.key),W)E.call(W,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(gt[nt]=W[nt]);var st=arguments.length-2;if(st===1)gt.children=ht;else if(1<st){for(var Ct=Array(st),zt=0;zt<st;zt++)Ct[zt]=arguments[zt+2];gt.children=Ct}if(O&&O.defaultProps)for(nt in st=O.defaultProps,st)gt[nt]===void 0&&(gt[nt]=st[nt]);return R(O,yt,void 0,void 0,null,gt)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(O){return{$$typeof:c,render:O}},Yt.isValidElement=J,Yt.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:F}},Yt.memo=function(O,W){return{$$typeof:f,type:O,compare:W===void 0?null:W}},Yt.startTransition=function(O){var W=D.T,ht={};D.T=ht;try{var nt=O(),gt=D.S;gt!==null&&gt(ht,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(ut,j)}catch(yt){j(yt)}finally{D.T=W}},Yt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Yt.use=function(O){return D.H.use(O)},Yt.useActionState=function(O,W,ht){return D.H.useActionState(O,W,ht)},Yt.useCallback=function(O,W){return D.H.useCallback(O,W)},Yt.useContext=function(O){return D.H.useContext(O)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(O,W){return D.H.useDeferredValue(O,W)},Yt.useEffect=function(O,W,ht){var nt=D.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(O,W)},Yt.useId=function(){return D.H.useId()},Yt.useImperativeHandle=function(O,W,ht){return D.H.useImperativeHandle(O,W,ht)},Yt.useInsertionEffect=function(O,W){return D.H.useInsertionEffect(O,W)},Yt.useLayoutEffect=function(O,W){return D.H.useLayoutEffect(O,W)},Yt.useMemo=function(O,W){return D.H.useMemo(O,W)},Yt.useOptimistic=function(O,W){return D.H.useOptimistic(O,W)},Yt.useReducer=function(O,W,ht){return D.H.useReducer(O,W,ht)},Yt.useRef=function(O){return D.H.useRef(O)},Yt.useState=function(O){return D.H.useState(O)},Yt.useSyncExternalStore=function(O,W,ht){return D.H.useSyncExternalStore(O,W,ht)},Yt.useTransition=function(){return D.H.useTransition()},Yt.version="19.1.0",Yt}var Rv;function P0(){return Rv||(Rv=1,Qg.exports=ZL()),Qg.exports}var xt=P0();const PS=IS(xt);var Kg={exports:{}},cc={},Jg={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function QL(){return zv||(zv=1,function(e){function t(L,F){var j=L.length;L.push(F);t:for(;0<j;){var ut=j-1>>>1,O=L[ut];if(0<r(O,F))L[ut]=F,L[j]=O,j=ut;else break t}}function i(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var F=L[0],j=L.pop();if(j!==F){L[0]=j;t:for(var ut=0,O=L.length,W=O>>>1;ut<W;){var ht=2*(ut+1)-1,nt=L[ht],gt=ht+1,yt=L[gt];if(0>r(nt,j))gt<O&&0>r(yt,nt)?(L[ut]=yt,L[gt]=j,ut=gt):(L[ut]=nt,L[ht]=j,ut=ht);else if(gt<O&&0>r(yt,j))L[ut]=yt,L[gt]=j,ut=gt;else break t}}return F}function r(L,F){var j=L.sortIndex-F.sortIndex;return j!==0?j:L.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],f=[],p=1,g=null,y=3,x=!1,v=!1,_=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function z(L){for(var F=i(f);F!==null;){if(F.callback===null)n(f);else if(F.startTime<=L)n(f),F.sortIndex=F.expirationTime,t(u,F);else break;F=i(f)}}function D(L){if(_=!1,z(L),!v)if(i(u)!==null)v=!0,E||(E=!0,it());else{var F=i(f);F!==null&&q(D,F.startTime-L)}}var E=!1,R=-1,I=5,J=-1;function K(){return S?!0:!(e.unstable_now()-J<I)}function P(){if(S=!1,E){var L=e.unstable_now();J=L;var F=!0;try{t:{v=!1,_&&(_=!1,T(R),R=-1),x=!0;var j=y;try{e:{for(z(L),g=i(u);g!==null&&!(g.expirationTime>L&&K());){var ut=g.callback;if(typeof ut=="function"){g.callback=null,y=g.priorityLevel;var O=ut(g.expirationTime<=L);if(L=e.unstable_now(),typeof O=="function"){g.callback=O,z(L),F=!0;break e}g===i(u)&&n(u),z(L)}else n(u);g=i(u)}if(g!==null)F=!0;else{var W=i(f);W!==null&&q(D,W.startTime-L),F=!1}}break t}finally{g=null,y=j,x=!1}F=void 0}}finally{F?it():E=!1}}}var it;if(typeof M=="function")it=function(){M(P)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,G=et.port2;et.port1.onmessage=P,it=function(){G.postMessage(null)}}else it=function(){w(P,0)};function q(L,F){R=w(function(){L(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var j=y;y=F;try{return L()}finally{y=j}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var j=y;y=L;try{return F()}finally{y=j}},e.unstable_scheduleCallback=function(L,F,j){var ut=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ut+j:ut):j=ut,L){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=j+O,L={id:p++,callback:F,priorityLevel:L,startTime:j,expirationTime:O,sortIndex:-1},j>ut?(L.sortIndex=j,t(f,L),i(u)===null&&L===i(f)&&(_?(T(R),R=-1):_=!0,q(D,j-ut))):(L.sortIndex=O,t(u,L),v||x||(v=!0,E||(E=!0,it()))),L},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(L){var F=y;return function(){var j=y;y=F;try{return L.apply(this,arguments)}finally{y=j}}}}(tm)),tm}var Nv;function KL(){return Nv||(Nv=1,Jg.exports=QL()),Jg.exports}var em={exports:{}},Ti={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function JL(){if(Fv)return Ti;Fv=1;var e=P0();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(u,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ti.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(u,f,null,p)},Ti.flushSync=function(u){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=f,n.p=p,n.d.f()}},Ti.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Ti.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Ti.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&n.d.X(u,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ti.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Ti.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);n.d.L(u,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ti.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Ti.requestFormReset=function(u){n.d.r(u)},Ti.unstable_batchedUpdates=function(u,f){return u(f)},Ti.useFormState=function(u,f,p){return l.H.useFormState(u,f,p)},Ti.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ti.version="19.1.0",Ti}var $v;function t3(){if($v)return em.exports;$v=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),em.exports=JL(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function e3(){if(jv)return cc;jv=1;var e=KL(),t=P0(),i=t3();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,h=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(h=s.return),a=s.return;while(a)}return s.tag===3?h:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(n(188))}function u(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(n(188));return s!==a?null:a}for(var h=a,d=s;;){var m=h.return;if(m===null)break;var b=m.alternate;if(b===null){if(d=m.return,d!==null){h=d;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===h)return c(m),a;if(b===d)return c(m),s;b=b.sibling}throw Error(n(188))}if(h.return!==d.return)h=m,d=b;else{for(var k=!1,A=m.child;A;){if(A===h){k=!0,h=m,d=b;break}if(A===d){k=!0,d=m,h=b;break}A=A.sibling}if(!k){for(A=b.child;A;){if(A===h){k=!0,h=b,d=m;break}if(A===d){k=!0,d=b,h=m;break}A=A.sibling}if(!k)throw Error(n(189))}}if(h.alternate!==d)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:s}function f(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=f(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function it(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var et=Symbol.for("react.client.reference");function G(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===et?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case E:return"SuspenseList";case J:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case M:return(a.displayName||"Context")+".Provider";case T:return(a._context.displayName||"Context")+".Consumer";case z:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return s=a.displayName||null,s!==null?s:G(a.type)||"Memo";case I:s=a._payload,a=a._init;try{return G(a(s))}catch{}}return null}var q=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},ut=[],O=-1;function W(a){return{current:a}}function ht(a){0>O||(a.current=ut[O],ut[O]=null,O--)}function nt(a,s){O++,ut[O]=a.current,a.current=s}var gt=W(null),yt=W(null),st=W(null),Ct=W(null);function zt(a,s){switch(nt(st,s),nt(yt,a),nt(gt,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?ov(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=ov(s),a=lv(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ht(gt),nt(gt,a)}function Gt(){ht(gt),ht(yt),ht(st)}function It(a){a.memoizedState!==null&&nt(Ct,a);var s=gt.current,h=lv(s,a.type);s!==h&&(nt(yt,a),nt(gt,h))}function Jt(a){yt.current===a&&(ht(gt),ht(yt)),Ct.current===a&&(ht(Ct),rc._currentValue=j)}var Te=Object.prototype.hasOwnProperty,ue=e.unstable_scheduleCallback,_i=e.unstable_cancelCallback,qs=e.unstable_shouldYield,oe=e.unstable_requestPaint,ae=e.unstable_now,ri=e.unstable_getCurrentPriorityLevel,$n=e.unstable_ImmediatePriority,na=e.unstable_UserBlockingPriority,bn=e.unstable_NormalPriority,Us=e.unstable_LowPriority,Cr=e.unstable_IdlePriority,en=e.log,jn=e.unstable_setDisableYieldValue,fi=null,Le=null;function Si(a){if(typeof en=="function"&&jn(a),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(fi,a)}catch{}}var di=Math.clz32?Math.clz32:tr,Jn=Math.log,Ws=Math.LN2;function tr(a){return a>>>=0,a===0?32:31-(Jn(a)/Ws|0)|0}var Di=256,ai=4194304;function pi(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function nn(a,s,h){var d=a.pendingLanes;if(d===0)return 0;var m=0,b=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var A=d&134217727;return A!==0?(d=A&~b,d!==0?m=pi(d):(k&=A,k!==0?m=pi(k):h||(h=A&~a,h!==0&&(m=pi(h))))):(A=d&~b,A!==0?m=pi(A):k!==0?m=pi(k):h||(h=d&~a,h!==0&&(m=pi(h)))),m===0?0:s!==0&&s!==m&&(s&b)===0&&(b=m&-m,h=s&-s,b>=h||b===32&&(h&4194048)!==0)?s:m}function rn(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Ys(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var a=Di;return Di<<=1,(Di&4194048)===0&&(Di=256),a}function wr(){var a=ai;return ai<<=1,(ai&62914560)===0&&(ai=4194304),a}function er(a){for(var s=[],h=0;31>h;h++)s.push(a);return s}function Ci(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ua(a,s,h,d,m,b){var k=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var A=a.entanglements,N=a.expirationTimes,X=a.hiddenUpdates;for(h=k&~h;0<h;){var rt=31-di(h),ot=1<<rt;A[rt]=0,N[rt]=-1;var Z=X[rt];if(Z!==null)for(X[rt]=null,rt=0;rt<Z.length;rt++){var Q=Z[rt];Q!==null&&(Q.lane&=-536870913)}h&=~ot}d!==0&&Gs(a,d,0),b!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=b&~(k&~s))}function Gs(a,s,h){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-di(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|h&4194090}function Ae(a,s){var h=a.entangledLanes|=s;for(a=a.entanglements;h;){var d=31-di(h),m=1<<d;m&s|a[d]&s&&(a[d]|=s),h&=~m}}function an(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function vn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Wa(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:Av(a.type))}function Ya(a,s){var h=F.p;try{return F.p=a,s()}finally{F.p=h}}var sn=Math.random().toString(36).slice(2),Se="__reactFiber$"+sn,Ge="__reactProps$"+sn,Qe="__reactContainer$"+sn,on="__reactEvents$"+sn,ra="__reactListeners$"+sn,Vs="__reactHandles$"+sn,aa="__reactResources$"+sn,ir="__reactMarker$"+sn;function Oi(a){delete a[Se],delete a[Ge],delete a[on],delete a[ra],delete a[Vs]}function In(a){var s=a[Se];if(s)return s;for(var h=a.parentNode;h;){if(s=h[Qe]||h[Se]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(a=fv(a);a!==null;){if(h=a[Se])return h;a=fv(a)}return s}a=h,h=a.parentNode}return null}function Ri(a){if(a=a[Se]||a[Qe]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function nr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function Pn(a){var s=a[aa];return s||(s=a[aa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $e(a){a[ir]=!0}var kt=new Set,H={};function ft(a,s){pt(a,s),pt(a+"Capture",s)}function pt(a,s){for(H[a]=s,a=0;a<s.length;a++)kt.add(s[a])}var ye=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pe={},ze={};function re(a){return Te.call(ze,a)?!0:Te.call(Pe,a)?!1:ye.test(a)?ze[a]=!0:(Pe[a]=!0,!1)}function wi(a,s,h){if(re(s))if(h===null)a.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+h)}}function _n(a,s,h){if(h===null)a.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+h)}}function zi(a,s,h,d){if(d===null)a.removeAttribute(h);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(s,h,""+d)}}var Ne,sa;function tt(a){if(Ne===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);Ne=s&&s[1]||"",sa=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+a+sa}var lt=!1;function Ot(a,s){if(!a||lt)return"";lt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(Q){var Z=Q}Reflect.construct(a,[],ot)}else{try{ot.call()}catch(Q){Z=Q}a.call(ot.prototype)}}else{try{throw Error()}catch(Q){Z=Q}(ot=a())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(Q){if(Q&&Z&&typeof Q.stack=="string")return[Q.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),k=b[0],A=b[1];if(k&&A){var N=k.split(`
`),X=A.split(`
`);for(m=d=0;d<N.length&&!N[d].includes("DetermineComponentFrameRoot");)d++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(d===N.length||m===X.length)for(d=N.length-1,m=X.length-1;1<=d&&0<=m&&N[d]!==X[m];)m--;for(;1<=d&&0<=m;d--,m--)if(N[d]!==X[m]){if(d!==1||m!==1)do if(d--,m--,0>m||N[d]!==X[m]){var rt=`
`+N[d].replace(" at new "," at ");return a.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",a.displayName)),rt}while(1<=d&&0<=m);break}}}finally{lt=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?tt(h):""}function dt(a){switch(a.tag){case 26:case 27:case 5:return tt(a.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return Ot(a.type,!1);case 11:return Ot(a.type.render,!1);case 1:return Ot(a.type,!0);case 31:return tt("Activity");default:return""}}function At(a){try{var s="";do s+=dt(a),a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Bt(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function $t(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qt(a){var s=$t(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),d=""+a[s];if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,b=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return m.call(this)},set:function(k){d=""+k,b.call(this,k)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Me(a){a._valueTracker||(a._valueTracker=qt(a))}function De(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var h=s.getValue(),d="";return a&&(d=$t(a)?a.checked?"true":"false":a.value),a=d,a!==h?(s.setValue(a),!0):!1}function Ke(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var si=/[\n"\\]/g;function je(a){return a.replace(si,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ga(a,s,h,d,m,b,k,A){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),s!=null?k==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Bt(s)):a.value!==""+Bt(s)&&(a.value=""+Bt(s)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),s!=null?ml(a,k,Bt(s)):h!=null?ml(a,k,Bt(h)):d!=null&&a.removeAttribute("value"),m==null&&b!=null&&(a.defaultChecked=!!b),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+Bt(A):a.removeAttribute("name")}function Xs(a,s,h,d,m,b,k,A){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;h=h!=null?""+Bt(h):"",s=s!=null?""+Bt(s):h,A||s===a.value||(a.value=s),a.defaultValue=s}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=A?a.checked:!!d,a.defaultChecked=!!d,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k)}function ml(a,s,h){s==="number"&&Ke(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Zs(a,s,h,d){if(a=a.options,s){s={};for(var m=0;m<h.length;m++)s["$"+h[m]]=!0;for(h=0;h<a.length;h++)m=s.hasOwnProperty("$"+a[h].value),a[h].selected!==m&&(a[h].selected=m),m&&d&&(a[h].defaultSelected=!0)}else{for(h=""+Bt(h),s=null,m=0;m<a.length;m++){if(a[m].value===h){a[m].selected=!0,d&&(a[m].defaultSelected=!0);return}s!==null||a[m].disabled||(s=a[m])}s!==null&&(s.selected=!0)}}function ax(a,s,h){if(s!=null&&(s=""+Bt(s),s!==a.value&&(a.value=s),h==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=h!=null?""+Bt(h):""}function sx(a,s,h,d){if(s==null){if(d!=null){if(h!=null)throw Error(n(92));if(q(d)){if(1<d.length)throw Error(n(93));d=d[0]}h=d}h==null&&(h=""),s=h}h=Bt(s),a.defaultValue=h,d=a.textContent,d===h&&d!==""&&d!==null&&(a.value=d)}function Qs(a,s){if(s){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=s;return}}a.textContent=s}var WE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ox(a,s,h){var d=s.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,h):typeof h!="number"||h===0||WE.has(s)?s==="float"?a.cssFloat=h:a[s]=(""+h).trim():a[s]=h+"px"}function lx(a,s,h){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,h!=null){for(var d in h)!h.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var m in s)d=s[m],s.hasOwnProperty(m)&&h[m]!==d&&ox(a,m,d)}else for(var b in s)s.hasOwnProperty(b)&&ox(a,b,s[b])}function Zd(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),GE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bh(a){return GE.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Qd=null;function Kd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ks=null,Js=null;function cx(a){var s=Ri(a);if(s&&(a=s.stateNode)){var h=a[Ge]||null;t:switch(a=s.stateNode,s.type){case"input":if(Ga(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),s=h.name,h.type==="radio"&&s!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+je(""+s)+'"][type="radio"]'),s=0;s<h.length;s++){var d=h[s];if(d!==a&&d.form===a.form){var m=d[Ge]||null;if(!m)throw Error(n(90));Ga(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<h.length;s++)d=h[s],d.form===a.form&&De(d)}break t;case"textarea":ax(a,h.value,h.defaultValue);break t;case"select":s=h.value,s!=null&&Zs(a,!!h.multiple,s,!1)}}}var Jd=!1;function hx(a,s,h){if(Jd)return a(s,h);Jd=!0;try{var d=a(s);return d}finally{if(Jd=!1,(Ks!==null||Js!==null)&&(gu(),Ks&&(s=Ks,a=Js,Js=Ks=null,cx(s),a)))for(s=0;s<a.length;s++)cx(a[s])}}function yl(a,s){var h=a.stateNode;if(h===null)return null;var d=h[Ge]||null;if(d===null)return null;h=d[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break t;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,s,typeof h));return h}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=!1;if(kr)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){tp=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{tp=!1}var oa=null,ep=null,Lh=null;function ux(){if(Lh)return Lh;var a,s=ep,h=s.length,d,m="value"in oa?oa.value:oa.textContent,b=m.length;for(a=0;a<h&&s[a]===m[a];a++);var k=h-a;for(d=1;d<=k&&s[h-d]===m[b-d];d++);return Lh=m.slice(a,1<d?1-d:void 0)}function Dh(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Oh(){return!0}function fx(){return!1}function Ui(a){function s(h,d,m,b,k){this._reactName=h,this._targetInst=m,this.type=d,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(h=a[A],this[A]=h?h(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Oh:fx,this.isPropagationStopped=fx,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Oh)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Oh)},persist:function(){},isPersistent:Oh}),s}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rh=Ui(Va),bl=p({},Va,{view:0,detail:0}),VE=Ui(bl),ip,np,vl,zh=p({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ap,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==vl&&(vl&&a.type==="mousemove"?(ip=a.screenX-vl.screenX,np=a.screenY-vl.screenY):np=ip=0,vl=a),ip)},movementY:function(a){return"movementY"in a?a.movementY:np}}),dx=Ui(zh),XE=p({},zh,{dataTransfer:0}),ZE=Ui(XE),QE=p({},bl,{relatedTarget:0}),rp=Ui(QE),KE=p({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),JE=Ui(KE),tB=p({},Va,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),eB=Ui(tB),iB=p({},Va,{data:0}),px=Ui(iB),nB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sB(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=aB[a])?!!s[a]:!1}function ap(){return sB}var oB=p({},bl,{key:function(a){if(a.key){var s=nB[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Dh(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?rB[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ap,charCode:function(a){return a.type==="keypress"?Dh(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Dh(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),lB=Ui(oB),cB=p({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gx=Ui(cB),hB=p({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ap}),uB=Ui(hB),fB=p({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),dB=Ui(fB),pB=p({},zh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),gB=Ui(pB),mB=p({},Va,{newState:0,oldState:0}),yB=Ui(mB),xB=[9,13,27,32],sp=kr&&"CompositionEvent"in window,_l=null;kr&&"documentMode"in document&&(_l=document.documentMode);var bB=kr&&"TextEvent"in window&&!_l,mx=kr&&(!sp||_l&&8<_l&&11>=_l),yx=" ",xx=!1;function bx(a,s){switch(a){case"keyup":return xB.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var to=!1;function vB(a,s){switch(a){case"compositionend":return vx(s);case"keypress":return s.which!==32?null:(xx=!0,yx);case"textInput":return a=s.data,a===yx&&xx?null:a;default:return null}}function _B(a,s){if(to)return a==="compositionend"||!sp&&bx(a,s)?(a=ux(),Lh=ep=oa=null,to=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mx&&s.locale!=="ko"?null:s.data;default:return null}}var SB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!SB[a.type]:s==="textarea"}function Sx(a,s,h,d){Ks?Js?Js.push(d):Js=[d]:Ks=d,s=_u(s,"onChange"),0<s.length&&(h=new Rh("onChange","change",null,h,d),a.push({event:h,listeners:s}))}var Sl=null,Cl=null;function CB(a){iv(a,0)}function Nh(a){var s=nr(a);if(De(s))return a}function Cx(a,s){if(a==="change")return s}var wx=!1;if(kr){var op;if(kr){var lp="oninput"in document;if(!lp){var kx=document.createElement("div");kx.setAttribute("oninput","return;"),lp=typeof kx.oninput=="function"}op=lp}else op=!1;wx=op&&(!document.documentMode||9<document.documentMode)}function Tx(){Sl&&(Sl.detachEvent("onpropertychange",Ax),Cl=Sl=null)}function Ax(a){if(a.propertyName==="value"&&Nh(Cl)){var s=[];Sx(s,Cl,a,Kd(a)),hx(CB,s)}}function wB(a,s,h){a==="focusin"?(Tx(),Sl=s,Cl=h,Sl.attachEvent("onpropertychange",Ax)):a==="focusout"&&Tx()}function kB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Nh(Cl)}function TB(a,s){if(a==="click")return Nh(s)}function AB(a,s){if(a==="input"||a==="change")return Nh(s)}function MB(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var ln=typeof Object.is=="function"?Object.is:MB;function wl(a,s){if(ln(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var h=Object.keys(a),d=Object.keys(s);if(h.length!==d.length)return!1;for(d=0;d<h.length;d++){var m=h[d];if(!Te.call(s,m)||!ln(a[m],s[m]))return!1}return!0}function Mx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ex(a,s){var h=Mx(a);a=0;for(var d;h;){if(h.nodeType===3){if(d=a+h.textContent.length,a<=s&&d>=s)return{node:h,offset:s-a};a=d}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=Mx(h)}}function Bx(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Bx(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Lx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Ke(a.document);s instanceof a.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)a=s.contentWindow;else break;s=Ke(a.document)}return s}function cp(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var EB=kr&&"documentMode"in document&&11>=document.documentMode,eo=null,hp=null,kl=null,up=!1;function Dx(a,s,h){var d=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;up||eo==null||eo!==Ke(d)||(d=eo,"selectionStart"in d&&cp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),kl&&wl(kl,d)||(kl=d,d=_u(hp,"onSelect"),0<d.length&&(s=new Rh("onSelect","select",null,s,h),a.push({event:s,listeners:d}),s.target=eo)))}function Xa(a,s){var h={};return h[a.toLowerCase()]=s.toLowerCase(),h["Webkit"+a]="webkit"+s,h["Moz"+a]="moz"+s,h}var io={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},fp={},Ox={};kr&&(Ox=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Za(a){if(fp[a])return fp[a];if(!io[a])return a;var s=io[a],h;for(h in s)if(s.hasOwnProperty(h)&&h in Ox)return fp[a]=s[h];return a}var Rx=Za("animationend"),zx=Za("animationiteration"),Nx=Za("animationstart"),BB=Za("transitionrun"),LB=Za("transitionstart"),DB=Za("transitioncancel"),Fx=Za("transitionend"),$x=new Map,dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dp.push("scrollEnd");function qn(a,s){$x.set(a,s),ft(s,[a])}var jx=new WeakMap;function Sn(a,s){if(typeof a=="object"&&a!==null){var h=jx.get(a);return h!==void 0?h:(s={value:a,source:s,stack:At(s)},jx.set(a,s),s)}return{value:a,source:s,stack:At(s)}}var Cn=[],no=0,pp=0;function Fh(){for(var a=no,s=pp=no=0;s<a;){var h=Cn[s];Cn[s++]=null;var d=Cn[s];Cn[s++]=null;var m=Cn[s];Cn[s++]=null;var b=Cn[s];if(Cn[s++]=null,d!==null&&m!==null){var k=d.pending;k===null?m.next=m:(m.next=k.next,k.next=m),d.pending=m}b!==0&&Hx(h,m,b)}}function $h(a,s,h,d){Cn[no++]=a,Cn[no++]=s,Cn[no++]=h,Cn[no++]=d,pp|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function gp(a,s,h,d){return $h(a,s,h,d),jh(a)}function ro(a,s){return $h(a,null,null,s),jh(a)}function Hx(a,s,h){a.lanes|=h;var d=a.alternate;d!==null&&(d.lanes|=h);for(var m=!1,b=a.return;b!==null;)b.childLanes|=h,d=b.alternate,d!==null&&(d.childLanes|=h),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(m=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,m&&s!==null&&(m=31-di(h),a=b.hiddenUpdates,d=a[m],d===null?a[m]=[s]:d.push(s),s.lane=h|536870912),b):null}function jh(a){if(50<Zl)throw Zl=0,_g=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var ao={};function OB(a,s,h,d){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(a,s,h,d){return new OB(a,s,h,d)}function mp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Tr(a,s){var h=a.alternate;return h===null?(h=cn(a.tag,s,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=s,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,s=a.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Ix(a,s){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,s=h.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Hh(a,s,h,d,m,b){var k=0;if(d=a,typeof a=="function")mp(a)&&(k=1);else if(typeof a=="string")k=zL(a,h,gt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case J:return a=cn(31,h,s,m),a.elementType=J,a.lanes=b,a;case v:return Qa(h.children,m,b,s);case _:k=8,m|=24;break;case S:return a=cn(12,h,s,m|2),a.elementType=S,a.lanes=b,a;case D:return a=cn(13,h,s,m),a.elementType=D,a.lanes=b,a;case E:return a=cn(19,h,s,m),a.elementType=E,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case w:case M:k=10;break t;case T:k=9;break t;case z:k=11;break t;case R:k=14;break t;case I:k=16,d=null;break t}k=29,h=Error(n(130,a===null?"null":typeof a,"")),d=null}return s=cn(k,h,s,m),s.elementType=a,s.type=d,s.lanes=b,s}function Qa(a,s,h,d){return a=cn(7,a,d,s),a.lanes=h,a}function yp(a,s,h){return a=cn(6,a,null,s),a.lanes=h,a}function xp(a,s,h){return s=cn(4,a.children!==null?a.children:[],a.key,s),s.lanes=h,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var so=[],oo=0,Ih=null,Ph=0,wn=[],kn=0,Ka=null,Ar=1,Mr="";function Ja(a,s){so[oo++]=Ph,so[oo++]=Ih,Ih=a,Ph=s}function Px(a,s,h){wn[kn++]=Ar,wn[kn++]=Mr,wn[kn++]=Ka,Ka=a;var d=Ar;a=Mr;var m=32-di(d)-1;d&=~(1<<m),h+=1;var b=32-di(s)+m;if(30<b){var k=m-m%5;b=(d&(1<<k)-1).toString(32),d>>=k,m-=k,Ar=1<<32-di(s)+m|h<<m|d,Mr=b+a}else Ar=1<<b|h<<m|d,Mr=a}function bp(a){a.return!==null&&(Ja(a,1),Px(a,1,0))}function vp(a){for(;a===Ih;)Ih=so[--oo],so[oo]=null,Ph=so[--oo],so[oo]=null;for(;a===Ka;)Ka=wn[--kn],wn[kn]=null,Mr=wn[--kn],wn[kn]=null,Ar=wn[--kn],wn[kn]=null}var Ni=null,He=null,le=!1,ts=null,rr=!1,_p=Error(n(519));function es(a){var s=Error(n(418,""));throw Ml(Sn(s,a)),_p}function qx(a){var s=a.stateNode,h=a.type,d=a.memoizedProps;switch(s[Se]=a,s[Ge]=d,h){case"dialog":Qt("cancel",s),Qt("close",s);break;case"iframe":case"object":case"embed":Qt("load",s);break;case"video":case"audio":for(h=0;h<Kl.length;h++)Qt(Kl[h],s);break;case"source":Qt("error",s);break;case"img":case"image":case"link":Qt("error",s),Qt("load",s);break;case"details":Qt("toggle",s);break;case"input":Qt("invalid",s),Xs(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Me(s);break;case"select":Qt("invalid",s);break;case"textarea":Qt("invalid",s),sx(s,d.value,d.defaultValue,d.children),Me(s)}h=d.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||s.textContent===""+h||d.suppressHydrationWarning===!0||sv(s.textContent,h)?(d.popover!=null&&(Qt("beforetoggle",s),Qt("toggle",s)),d.onScroll!=null&&Qt("scroll",s),d.onScrollEnd!=null&&Qt("scrollend",s),d.onClick!=null&&(s.onclick=Su),s=!0):s=!1,s||es(a)}function Ux(a){for(Ni=a.return;Ni;)switch(Ni.tag){case 5:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:Ni=Ni.return}}function Tl(a){if(a!==Ni)return!1;if(!le)return Ux(a),le=!0,!1;var s=a.tag,h;if((h=s!==3&&s!==27)&&((h=s===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Fg(a.type,a.memoizedProps)),h=!h),h&&He&&es(a),Ux(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));t:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(s===0){He=Wn(a.nextSibling);break t}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++;a=a.nextSibling}He=null}}else s===27?(s=He,Ca(a.type)?(a=Ig,Ig=null,He=a):He=s):He=Ni?Wn(a.stateNode.nextSibling):null;return!0}function Al(){He=Ni=null,le=!1}function Wx(){var a=ts;return a!==null&&(Gi===null?Gi=a:Gi.push.apply(Gi,a),ts=null),a}function Ml(a){ts===null?ts=[a]:ts.push(a)}var Sp=W(null),is=null,Er=null;function la(a,s,h){nt(Sp,s._currentValue),s._currentValue=h}function Br(a){a._currentValue=Sp.current,ht(Sp)}function Cp(a,s,h){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===h)break;a=a.return}}function wp(a,s,h,d){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var b=m.dependencies;if(b!==null){var k=m.child;b=b.firstContext;t:for(;b!==null;){var A=b;b=m;for(var N=0;N<s.length;N++)if(A.context===s[N]){b.lanes|=h,A=b.alternate,A!==null&&(A.lanes|=h),Cp(b.return,h,a),d||(k=null);break t}b=A.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(n(341));k.lanes|=h,b=k.alternate,b!==null&&(b.lanes|=h),Cp(k,h,a),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===a){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function El(a,s,h,d){a=null;for(var m=s,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var A=m.type;ln(m.pendingProps.value,k.value)||(a!==null?a.push(A):a=[A])}}else if(m===Ct.current){if(k=m.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(rc):a=[rc])}m=m.return}a!==null&&wp(s,a,h,d),s.flags|=262144}function qh(a){for(a=a.firstContext;a!==null;){if(!ln(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ns(a){is=a,Er=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ki(a){return Yx(is,a)}function Uh(a,s){return is===null&&ns(a),Yx(a,s)}function Yx(a,s){var h=s._currentValue;if(s={context:s,memoizedValue:h,next:null},Er===null){if(a===null)throw Error(n(308));Er=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Er=Er.next=s;return h}var RB=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(h,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(h){return h()})}},zB=e.unstable_scheduleCallback,NB=e.unstable_NormalPriority,Je={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kp(){return{controller:new RB,data:new Map,refCount:0}}function Bl(a){a.refCount--,a.refCount===0&&zB(NB,function(){a.controller.abort()})}var Ll=null,Tp=0,lo=0,co=null;function FB(a,s){if(Ll===null){var h=Ll=[];Tp=0,lo=Mg(),co={status:"pending",value:void 0,then:function(d){h.push(d)}}}return Tp++,s.then(Gx,Gx),s}function Gx(){if(--Tp===0&&Ll!==null){co!==null&&(co.status="fulfilled");var a=Ll;Ll=null,lo=0,co=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function $B(a,s){var h=[],d={status:"pending",value:null,reason:null,then:function(m){h.push(m)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var m=0;m<h.length;m++)(0,h[m])(s)},function(m){for(d.status="rejected",d.reason=m,m=0;m<h.length;m++)(0,h[m])(void 0)}),d}var Vx=L.S;L.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&FB(a,s),Vx!==null&&Vx(a,s)};var rs=W(null);function Ap(){var a=rs.current;return a!==null?a:we.pooledCache}function Wh(a,s){s===null?nt(rs,rs.current):nt(rs,s.pool)}function Xx(){var a=Ap();return a===null?null:{parent:Je._currentValue,pool:a}}var Dl=Error(n(460)),Zx=Error(n(474)),Yh=Error(n(542)),Mp={then:function(){}};function Qx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Gh(){}function Kx(a,s,h){switch(h=a[h],h===void 0?a.push(s):h!==s&&(s.then(Gh,Gh),s=h),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,tb(a),a;default:if(typeof s.status=="string")s.then(Gh,Gh);else{if(a=we,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=d}},function(d){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,tb(a),a}throw Ol=s,Dl}}var Ol=null;function Jx(){if(Ol===null)throw Error(n(459));var a=Ol;return Ol=null,a}function tb(a){if(a===Dl||a===Yh)throw Error(n(483))}var ca=!1;function Ep(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ha(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ua(a,s,h){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(pe&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,s=jh(a),Hx(a,null,h),s}return $h(a,d,s,h),jh(a)}function Rl(a,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,h|=d,s.lanes=h,Ae(a,h)}}function Lp(a,s){var h=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,h===d)){var m=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var k={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?m=b=k:b=b.next=k,h=h.next}while(h!==null);b===null?m=b=s:b=b.next=s}else m=b=s;h={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=s:a.next=s,h.lastBaseUpdate=s}var Dp=!1;function zl(){if(Dp){var a=co;if(a!==null)throw a}}function Nl(a,s,h,d){Dp=!1;var m=a.updateQueue;ca=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var N=A,X=N.next;N.next=null,k===null?b=X:k.next=X,k=N;var rt=a.alternate;rt!==null&&(rt=rt.updateQueue,A=rt.lastBaseUpdate,A!==k&&(A===null?rt.firstBaseUpdate=X:A.next=X,rt.lastBaseUpdate=N))}if(b!==null){var ot=m.baseState;k=0,rt=X=N=null,A=b;do{var Z=A.lane&-536870913,Q=Z!==A.lane;if(Q?(te&Z)===Z:(d&Z)===Z){Z!==0&&Z===lo&&(Dp=!0),rt!==null&&(rt=rt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Pt=a,Nt=A;Z=s;var ve=h;switch(Nt.tag){case 1:if(Pt=Nt.payload,typeof Pt=="function"){ot=Pt.call(ve,ot,Z);break t}ot=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Nt.payload,Z=typeof Pt=="function"?Pt.call(ve,ot,Z):Pt,Z==null)break t;ot=p({},ot,Z);break t;case 2:ca=!0}}Z=A.callback,Z!==null&&(a.flags|=64,Q&&(a.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[Z]:Q.push(Z))}else Q={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},rt===null?(X=rt=Q,N=ot):rt=rt.next=Q,k|=Z;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);rt===null&&(N=ot),m.baseState=N,m.firstBaseUpdate=X,m.lastBaseUpdate=rt,b===null&&(m.shared.lanes=0),ba|=k,a.lanes=k,a.memoizedState=ot}}function eb(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function ib(a,s){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)eb(h[a],s)}var ho=W(null),Vh=W(0);function nb(a,s){a=Fr,nt(Vh,a),nt(ho,s),Fr=a|s.baseLanes}function Op(){nt(Vh,Fr),nt(ho,ho.current)}function Rp(){Fr=Vh.current,ht(ho),ht(Vh)}var fa=0,Vt=null,xe=null,Ve=null,Xh=!1,uo=!1,as=!1,Zh=0,Fl=0,fo=null,jB=0;function qe(){throw Error(n(321))}function zp(a,s){if(s===null)return!1;for(var h=0;h<s.length&&h<a.length;h++)if(!ln(a[h],s[h]))return!1;return!0}function Np(a,s,h,d,m,b){return fa=b,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=a===null||a.memoizedState===null?Hb:Ib,as=!1,b=h(d,m),as=!1,uo&&(b=ab(s,h,d,m)),rb(a),b}function rb(a){L.H=iu;var s=xe!==null&&xe.next!==null;if(fa=0,Ve=xe=Vt=null,Xh=!1,Fl=0,fo=null,s)throw Error(n(300));a===null||oi||(a=a.dependencies,a!==null&&qh(a)&&(oi=!0))}function ab(a,s,h,d){Vt=a;var m=0;do{if(uo&&(fo=null),Fl=0,uo=!1,25<=m)throw Error(n(301));if(m+=1,Ve=xe=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=YB,b=s(h,d)}while(uo);return b}function HB(){var a=L.H,s=a.useState()[0];return s=typeof s.then=="function"?$l(s):s,a=a.useState()[0],(xe!==null?xe.memoizedState:null)!==a&&(Vt.flags|=1024),s}function Fp(){var a=Zh!==0;return Zh=0,a}function $p(a,s,h){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~h}function jp(a){if(Xh){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Xh=!1}fa=0,Ve=xe=Vt=null,uo=!1,Fl=Zh=0,fo=null}function Wi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Vt.memoizedState=Ve=a:Ve=Ve.next=a,Ve}function Xe(){if(xe===null){var a=Vt.alternate;a=a!==null?a.memoizedState:null}else a=xe.next;var s=Ve===null?Vt.memoizedState:Ve.next;if(s!==null)Ve=s,xe=a;else{if(a===null)throw Vt.alternate===null?Error(n(467)):Error(n(310));xe=a,a={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Ve===null?Vt.memoizedState=Ve=a:Ve=Ve.next=a}return Ve}function Hp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(a){var s=Fl;return Fl+=1,fo===null&&(fo=[]),a=Kx(fo,a,s),s=Vt,(Ve===null?s.memoizedState:Ve.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Hb:Ib),a}function Qh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return $l(a);if(a.$$typeof===M)return ki(a)}throw Error(n(438,String(a)))}function Ip(a){var s=null,h=Vt.updateQueue;if(h!==null&&(s=h.memoCache),s==null){var d=Vt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),h===null&&(h=Hp(),Vt.updateQueue=h),h.memoCache=s,h=s.data[s.index],h===void 0)for(h=s.data[s.index]=Array(a),d=0;d<a;d++)h[d]=K;return s.index++,h}function Lr(a,s){return typeof s=="function"?s(a):s}function Kh(a){var s=Xe();return Pp(s,xe,a)}function Pp(a,s,h){var d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=h;var m=a.baseQueue,b=d.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}s.baseQueue=m=b,d.pending=null}if(b=a.baseState,m===null)a.memoizedState=b;else{s=m.next;var A=k=null,N=null,X=s,rt=!1;do{var ot=X.lane&-536870913;if(ot!==X.lane?(te&ot)===ot:(fa&ot)===ot){var Z=X.revertLane;if(Z===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ot===lo&&(rt=!0);else if((fa&Z)===Z){X=X.next,Z===lo&&(rt=!0);continue}else ot={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},N===null?(A=N=ot,k=b):N=N.next=ot,Vt.lanes|=Z,ba|=Z;ot=X.action,as&&h(b,ot),b=X.hasEagerState?X.eagerState:h(b,ot)}else Z={lane:ot,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},N===null?(A=N=Z,k=b):N=N.next=Z,Vt.lanes|=ot,ba|=ot;X=X.next}while(X!==null&&X!==s);if(N===null?k=b:N.next=A,!ln(b,a.memoizedState)&&(oi=!0,rt&&(h=co,h!==null)))throw h;a.memoizedState=b,a.baseState=k,a.baseQueue=N,d.lastRenderedState=b}return m===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function qp(a){var s=Xe(),h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var d=h.dispatch,m=h.pending,b=s.memoizedState;if(m!==null){h.pending=null;var k=m=m.next;do b=a(b,k.action),k=k.next;while(k!==m);ln(b,s.memoizedState)||(oi=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),h.lastRenderedState=b}return[b,d]}function sb(a,s,h){var d=Vt,m=Xe(),b=le;if(b){if(h===void 0)throw Error(n(407));h=h()}else h=s();var k=!ln((xe||m).memoizedState,h);k&&(m.memoizedState=h,oi=!0),m=m.queue;var A=cb.bind(null,d,m,a);if(jl(2048,8,A,[a]),m.getSnapshot!==s||k||Ve!==null&&Ve.memoizedState.tag&1){if(d.flags|=2048,po(9,Jh(),lb.bind(null,d,m,h,s),null),we===null)throw Error(n(349));b||(fa&124)!==0||ob(d,s,h)}return h}function ob(a,s,h){a.flags|=16384,a={getSnapshot:s,value:h},s=Vt.updateQueue,s===null?(s=Hp(),Vt.updateQueue=s,s.stores=[a]):(h=s.stores,h===null?s.stores=[a]:h.push(a))}function lb(a,s,h,d){s.value=h,s.getSnapshot=d,hb(s)&&ub(a)}function cb(a,s,h){return h(function(){hb(s)&&ub(a)})}function hb(a){var s=a.getSnapshot;a=a.value;try{var h=s();return!ln(a,h)}catch{return!0}}function ub(a){var s=ro(a,2);s!==null&&pn(s,a,2)}function Up(a){var s=Wi();if(typeof a=="function"){var h=a;if(a=h(),as){Si(!0);try{h()}finally{Si(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:a},s}function fb(a,s,h,d){return a.baseState=h,Pp(a,xe,typeof d=="function"?d:Lr)}function IB(a,s,h,d,m){if(eu(a))throw Error(n(485));if(a=s.action,a!==null){var b={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};L.T!==null?h(!0):b.isTransition=!1,d(b),h=s.pending,h===null?(b.next=s.pending=b,db(s,b)):(b.next=h.next,s.pending=h.next=b)}}function db(a,s){var h=s.action,d=s.payload,m=a.state;if(s.isTransition){var b=L.T,k={};L.T=k;try{var A=h(m,d),N=L.S;N!==null&&N(k,A),pb(a,s,A)}catch(X){Wp(a,s,X)}finally{L.T=b}}else try{b=h(m,d),pb(a,s,b)}catch(X){Wp(a,s,X)}}function pb(a,s,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(d){gb(a,s,d)},function(d){return Wp(a,s,d)}):gb(a,s,h)}function gb(a,s,h){s.status="fulfilled",s.value=h,mb(s),a.state=h,s=a.pending,s!==null&&(h=s.next,h===s?a.pending=null:(h=h.next,s.next=h,db(a,h)))}function Wp(a,s,h){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=h,mb(s),s=s.next;while(s!==d)}a.action=null}function mb(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function yb(a,s){return s}function xb(a,s){if(le){var h=we.formState;if(h!==null){t:{var d=Vt;if(le){if(He){e:{for(var m=He,b=rr;m.nodeType!==8;){if(!b){m=null;break e}if(m=Wn(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){He=Wn(m.nextSibling),d=m.data==="F!";break t}}es(d)}d=!1}d&&(s=h[0])}}return h=Wi(),h.memoizedState=h.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yb,lastRenderedState:s},h.queue=d,h=Fb.bind(null,Vt,d),d.dispatch=h,d=Up(!1),b=Zp.bind(null,Vt,!1,d.queue),d=Wi(),m={state:s,dispatch:null,action:a,pending:null},d.queue=m,h=IB.bind(null,Vt,m,b,h),m.dispatch=h,d.memoizedState=a,[s,h,!1]}function bb(a){var s=Xe();return vb(s,xe,a)}function vb(a,s,h){if(s=Pp(a,s,yb)[0],a=Kh(Lr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=$l(s)}catch(k){throw k===Dl?Yh:k}else d=s;s=Xe();var m=s.queue,b=m.dispatch;return h!==s.memoizedState&&(Vt.flags|=2048,po(9,Jh(),PB.bind(null,m,h),null)),[d,b,a]}function PB(a,s){a.action=s}function _b(a){var s=Xe(),h=xe;if(h!==null)return vb(s,h,a);Xe(),s=s.memoizedState,h=Xe();var d=h.queue.dispatch;return h.memoizedState=a,[s,d,!1]}function po(a,s,h,d){return a={tag:a,create:h,deps:d,inst:s,next:null},s=Vt.updateQueue,s===null&&(s=Hp(),Vt.updateQueue=s),h=s.lastEffect,h===null?s.lastEffect=a.next=a:(d=h.next,h.next=a,a.next=d,s.lastEffect=a),a}function Jh(){return{destroy:void 0,resource:void 0}}function Sb(){return Xe().memoizedState}function tu(a,s,h,d){var m=Wi();d=d===void 0?null:d,Vt.flags|=a,m.memoizedState=po(1|s,Jh(),h,d)}function jl(a,s,h,d){var m=Xe();d=d===void 0?null:d;var b=m.memoizedState.inst;xe!==null&&d!==null&&zp(d,xe.memoizedState.deps)?m.memoizedState=po(s,b,h,d):(Vt.flags|=a,m.memoizedState=po(1|s,b,h,d))}function Cb(a,s){tu(8390656,8,a,s)}function wb(a,s){jl(2048,8,a,s)}function kb(a,s){return jl(4,2,a,s)}function Tb(a,s){return jl(4,4,a,s)}function Ab(a,s){if(typeof s=="function"){a=a();var h=s(a);return function(){typeof h=="function"?h():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Mb(a,s,h){h=h!=null?h.concat([a]):null,jl(4,4,Ab.bind(null,s,a),h)}function Yp(){}function Eb(a,s){var h=Xe();s=s===void 0?null:s;var d=h.memoizedState;return s!==null&&zp(s,d[1])?d[0]:(h.memoizedState=[a,s],a)}function Bb(a,s){var h=Xe();s=s===void 0?null:s;var d=h.memoizedState;if(s!==null&&zp(s,d[1]))return d[0];if(d=a(),as){Si(!0);try{a()}finally{Si(!1)}}return h.memoizedState=[d,s],d}function Gp(a,s,h){return h===void 0||(fa&1073741824)!==0?a.memoizedState=s:(a.memoizedState=h,a=O1(),Vt.lanes|=a,ba|=a,h)}function Lb(a,s,h,d){return ln(h,s)?h:ho.current!==null?(a=Gp(a,h,d),ln(a,s)||(oi=!0),a):(fa&42)===0?(oi=!0,a.memoizedState=h):(a=O1(),Vt.lanes|=a,ba|=a,s)}function Db(a,s,h,d,m){var b=F.p;F.p=b!==0&&8>b?b:8;var k=L.T,A={};L.T=A,Zp(a,!1,s,h);try{var N=m(),X=L.S;if(X!==null&&X(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var rt=$B(N,d);Hl(a,s,rt,dn(a))}else Hl(a,s,d,dn(a))}catch(ot){Hl(a,s,{then:function(){},status:"rejected",reason:ot},dn())}finally{F.p=b,L.T=k}}function qB(){}function Vp(a,s,h,d){if(a.tag!==5)throw Error(n(476));var m=Ob(a).queue;Db(a,m,s,j,h===null?qB:function(){return Rb(a),h(d)})}function Ob(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:j},next:null};var h={};return s.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:h},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Rb(a){var s=Ob(a).next.queue;Hl(a,s,{},dn())}function Xp(){return ki(rc)}function zb(){return Xe().memoizedState}function Nb(){return Xe().memoizedState}function UB(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var h=dn();a=ha(h);var d=ua(s,a,h);d!==null&&(pn(d,s,h),Rl(d,s,h)),s={cache:kp()},a.payload=s;return}s=s.return}}function WB(a,s,h){var d=dn();h={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},eu(a)?$b(s,h):(h=gp(a,s,h,d),h!==null&&(pn(h,a,d),jb(h,s,d)))}function Fb(a,s,h){var d=dn();Hl(a,s,h,d)}function Hl(a,s,h,d){var m={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(eu(a))$b(s,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var k=s.lastRenderedState,A=b(k,h);if(m.hasEagerState=!0,m.eagerState=A,ln(A,k))return $h(a,s,m,0),we===null&&Fh(),!1}catch{}finally{}if(h=gp(a,s,m,d),h!==null)return pn(h,a,d),jb(h,s,d),!0}return!1}function Zp(a,s,h,d){if(d={lane:2,revertLane:Mg(),action:d,hasEagerState:!1,eagerState:null,next:null},eu(a)){if(s)throw Error(n(479))}else s=gp(a,h,d,2),s!==null&&pn(s,a,2)}function eu(a){var s=a.alternate;return a===Vt||s!==null&&s===Vt}function $b(a,s){uo=Xh=!0;var h=a.pending;h===null?s.next=s:(s.next=h.next,h.next=s),a.pending=s}function jb(a,s,h){if((h&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,h|=d,s.lanes=h,Ae(a,h)}}var iu={readContext:ki,use:Qh,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},Hb={readContext:ki,use:Qh,useCallback:function(a,s){return Wi().memoizedState=[a,s===void 0?null:s],a},useContext:ki,useEffect:Cb,useImperativeHandle:function(a,s,h){h=h!=null?h.concat([a]):null,tu(4194308,4,Ab.bind(null,s,a),h)},useLayoutEffect:function(a,s){return tu(4194308,4,a,s)},useInsertionEffect:function(a,s){tu(4,2,a,s)},useMemo:function(a,s){var h=Wi();s=s===void 0?null:s;var d=a();if(as){Si(!0);try{a()}finally{Si(!1)}}return h.memoizedState=[d,s],d},useReducer:function(a,s,h){var d=Wi();if(h!==void 0){var m=h(s);if(as){Si(!0);try{h(s)}finally{Si(!1)}}}else m=s;return d.memoizedState=d.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},d.queue=a,a=a.dispatch=WB.bind(null,Vt,a),[d.memoizedState,a]},useRef:function(a){var s=Wi();return a={current:a},s.memoizedState=a},useState:function(a){a=Up(a);var s=a.queue,h=Fb.bind(null,Vt,s);return s.dispatch=h,[a.memoizedState,h]},useDebugValue:Yp,useDeferredValue:function(a,s){var h=Wi();return Gp(h,a,s)},useTransition:function(){var a=Up(!1);return a=Db.bind(null,Vt,a.queue,!0,!1),Wi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,h){var d=Vt,m=Wi();if(le){if(h===void 0)throw Error(n(407));h=h()}else{if(h=s(),we===null)throw Error(n(349));(te&124)!==0||ob(d,s,h)}m.memoizedState=h;var b={value:h,getSnapshot:s};return m.queue=b,Cb(cb.bind(null,d,b,a),[a]),d.flags|=2048,po(9,Jh(),lb.bind(null,d,b,h,s),null),h},useId:function(){var a=Wi(),s=we.identifierPrefix;if(le){var h=Mr,d=Ar;h=(d&~(1<<32-di(d)-1)).toString(32)+h,s="«"+s+"R"+h,h=Zh++,0<h&&(s+="H"+h.toString(32)),s+="»"}else h=jB++,s="«"+s+"r"+h.toString(32)+"»";return a.memoizedState=s},useHostTransitionStatus:Xp,useFormState:xb,useActionState:xb,useOptimistic:function(a){var s=Wi();s.memoizedState=s.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=h,s=Zp.bind(null,Vt,!0,h),h.dispatch=s,[a,s]},useMemoCache:Ip,useCacheRefresh:function(){return Wi().memoizedState=UB.bind(null,Vt)}},Ib={readContext:ki,use:Qh,useCallback:Eb,useContext:ki,useEffect:wb,useImperativeHandle:Mb,useInsertionEffect:kb,useLayoutEffect:Tb,useMemo:Bb,useReducer:Kh,useRef:Sb,useState:function(){return Kh(Lr)},useDebugValue:Yp,useDeferredValue:function(a,s){var h=Xe();return Lb(h,xe.memoizedState,a,s)},useTransition:function(){var a=Kh(Lr)[0],s=Xe().memoizedState;return[typeof a=="boolean"?a:$l(a),s]},useSyncExternalStore:sb,useId:zb,useHostTransitionStatus:Xp,useFormState:bb,useActionState:bb,useOptimistic:function(a,s){var h=Xe();return fb(h,xe,a,s)},useMemoCache:Ip,useCacheRefresh:Nb},YB={readContext:ki,use:Qh,useCallback:Eb,useContext:ki,useEffect:wb,useImperativeHandle:Mb,useInsertionEffect:kb,useLayoutEffect:Tb,useMemo:Bb,useReducer:qp,useRef:Sb,useState:function(){return qp(Lr)},useDebugValue:Yp,useDeferredValue:function(a,s){var h=Xe();return xe===null?Gp(h,a,s):Lb(h,xe.memoizedState,a,s)},useTransition:function(){var a=qp(Lr)[0],s=Xe().memoizedState;return[typeof a=="boolean"?a:$l(a),s]},useSyncExternalStore:sb,useId:zb,useHostTransitionStatus:Xp,useFormState:_b,useActionState:_b,useOptimistic:function(a,s){var h=Xe();return xe!==null?fb(h,xe,a,s):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Ip,useCacheRefresh:Nb},go=null,Il=0;function nu(a){var s=Il;return Il+=1,go===null&&(go=[]),Kx(go,a,s)}function Pl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function ru(a,s){throw s.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Pb(a){var s=a._init;return s(a._payload)}function qb(a){function s(U,$){if(a){var V=U.deletions;V===null?(U.deletions=[$],U.flags|=16):V.push($)}}function h(U,$){if(!a)return null;for(;$!==null;)s(U,$),$=$.sibling;return null}function d(U){for(var $=new Map;U!==null;)U.key!==null?$.set(U.key,U):$.set(U.index,U),U=U.sibling;return $}function m(U,$){return U=Tr(U,$),U.index=0,U.sibling=null,U}function b(U,$,V){return U.index=V,a?(V=U.alternate,V!==null?(V=V.index,V<$?(U.flags|=67108866,$):V):(U.flags|=67108866,$)):(U.flags|=1048576,$)}function k(U){return a&&U.alternate===null&&(U.flags|=67108866),U}function A(U,$,V,at){return $===null||$.tag!==6?($=yp(V,U.mode,at),$.return=U,$):($=m($,V),$.return=U,$)}function N(U,$,V,at){var vt=V.type;return vt===v?rt(U,$,V.props.children,at,V.key):$!==null&&($.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&Pb(vt)===$.type)?($=m($,V.props),Pl($,V),$.return=U,$):($=Hh(V.type,V.key,V.props,null,U.mode,at),Pl($,V),$.return=U,$)}function X(U,$,V,at){return $===null||$.tag!==4||$.stateNode.containerInfo!==V.containerInfo||$.stateNode.implementation!==V.implementation?($=xp(V,U.mode,at),$.return=U,$):($=m($,V.children||[]),$.return=U,$)}function rt(U,$,V,at,vt){return $===null||$.tag!==7?($=Qa(V,U.mode,at,vt),$.return=U,$):($=m($,V),$.return=U,$)}function ot(U,$,V){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=yp(""+$,U.mode,V),$.return=U,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return V=Hh($.type,$.key,$.props,null,U.mode,V),Pl(V,$),V.return=U,V;case x:return $=xp($,U.mode,V),$.return=U,$;case I:var at=$._init;return $=at($._payload),ot(U,$,V)}if(q($)||it($))return $=Qa($,U.mode,V,null),$.return=U,$;if(typeof $.then=="function")return ot(U,nu($),V);if($.$$typeof===M)return ot(U,Uh(U,$),V);ru(U,$)}return null}function Z(U,$,V,at){var vt=$!==null?$.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return vt!==null?null:A(U,$,""+V,at);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return V.key===vt?N(U,$,V,at):null;case x:return V.key===vt?X(U,$,V,at):null;case I:return vt=V._init,V=vt(V._payload),Z(U,$,V,at)}if(q(V)||it(V))return vt!==null?null:rt(U,$,V,at,null);if(typeof V.then=="function")return Z(U,$,nu(V),at);if(V.$$typeof===M)return Z(U,$,Uh(U,V),at);ru(U,V)}return null}function Q(U,$,V,at,vt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return U=U.get(V)||null,A($,U,""+at,vt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case y:return U=U.get(at.key===null?V:at.key)||null,N($,U,at,vt);case x:return U=U.get(at.key===null?V:at.key)||null,X($,U,at,vt);case I:var Xt=at._init;return at=Xt(at._payload),Q(U,$,V,at,vt)}if(q(at)||it(at))return U=U.get(V)||null,rt($,U,at,vt,null);if(typeof at.then=="function")return Q(U,$,V,nu(at),vt);if(at.$$typeof===M)return Q(U,$,V,Uh($,at),vt);ru($,at)}return null}function Pt(U,$,V,at){for(var vt=null,Xt=null,Lt=$,Ft=$=0,ci=null;Lt!==null&&Ft<V.length;Ft++){Lt.index>Ft?(ci=Lt,Lt=null):ci=Lt.sibling;var se=Z(U,Lt,V[Ft],at);if(se===null){Lt===null&&(Lt=ci);break}a&&Lt&&se.alternate===null&&s(U,Lt),$=b(se,$,Ft),Xt===null?vt=se:Xt.sibling=se,Xt=se,Lt=ci}if(Ft===V.length)return h(U,Lt),le&&Ja(U,Ft),vt;if(Lt===null){for(;Ft<V.length;Ft++)Lt=ot(U,V[Ft],at),Lt!==null&&($=b(Lt,$,Ft),Xt===null?vt=Lt:Xt.sibling=Lt,Xt=Lt);return le&&Ja(U,Ft),vt}for(Lt=d(Lt);Ft<V.length;Ft++)ci=Q(Lt,U,Ft,V[Ft],at),ci!==null&&(a&&ci.alternate!==null&&Lt.delete(ci.key===null?Ft:ci.key),$=b(ci,$,Ft),Xt===null?vt=ci:Xt.sibling=ci,Xt=ci);return a&&Lt.forEach(function(Ma){return s(U,Ma)}),le&&Ja(U,Ft),vt}function Nt(U,$,V,at){if(V==null)throw Error(n(151));for(var vt=null,Xt=null,Lt=$,Ft=$=0,ci=null,se=V.next();Lt!==null&&!se.done;Ft++,se=V.next()){Lt.index>Ft?(ci=Lt,Lt=null):ci=Lt.sibling;var Ma=Z(U,Lt,se.value,at);if(Ma===null){Lt===null&&(Lt=ci);break}a&&Lt&&Ma.alternate===null&&s(U,Lt),$=b(Ma,$,Ft),Xt===null?vt=Ma:Xt.sibling=Ma,Xt=Ma,Lt=ci}if(se.done)return h(U,Lt),le&&Ja(U,Ft),vt;if(Lt===null){for(;!se.done;Ft++,se=V.next())se=ot(U,se.value,at),se!==null&&($=b(se,$,Ft),Xt===null?vt=se:Xt.sibling=se,Xt=se);return le&&Ja(U,Ft),vt}for(Lt=d(Lt);!se.done;Ft++,se=V.next())se=Q(Lt,U,Ft,se.value,at),se!==null&&(a&&se.alternate!==null&&Lt.delete(se.key===null?Ft:se.key),$=b(se,$,Ft),Xt===null?vt=se:Xt.sibling=se,Xt=se);return a&&Lt.forEach(function(GL){return s(U,GL)}),le&&Ja(U,Ft),vt}function ve(U,$,V,at){if(typeof V=="object"&&V!==null&&V.type===v&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case y:t:{for(var vt=V.key;$!==null;){if($.key===vt){if(vt=V.type,vt===v){if($.tag===7){h(U,$.sibling),at=m($,V.props.children),at.return=U,U=at;break t}}else if($.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&Pb(vt)===$.type){h(U,$.sibling),at=m($,V.props),Pl(at,V),at.return=U,U=at;break t}h(U,$);break}else s(U,$);$=$.sibling}V.type===v?(at=Qa(V.props.children,U.mode,at,V.key),at.return=U,U=at):(at=Hh(V.type,V.key,V.props,null,U.mode,at),Pl(at,V),at.return=U,U=at)}return k(U);case x:t:{for(vt=V.key;$!==null;){if($.key===vt)if($.tag===4&&$.stateNode.containerInfo===V.containerInfo&&$.stateNode.implementation===V.implementation){h(U,$.sibling),at=m($,V.children||[]),at.return=U,U=at;break t}else{h(U,$);break}else s(U,$);$=$.sibling}at=xp(V,U.mode,at),at.return=U,U=at}return k(U);case I:return vt=V._init,V=vt(V._payload),ve(U,$,V,at)}if(q(V))return Pt(U,$,V,at);if(it(V)){if(vt=it(V),typeof vt!="function")throw Error(n(150));return V=vt.call(V),Nt(U,$,V,at)}if(typeof V.then=="function")return ve(U,$,nu(V),at);if(V.$$typeof===M)return ve(U,$,Uh(U,V),at);ru(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,$!==null&&$.tag===6?(h(U,$.sibling),at=m($,V),at.return=U,U=at):(h(U,$),at=yp(V,U.mode,at),at.return=U,U=at),k(U)):h(U,$)}return function(U,$,V,at){try{Il=0;var vt=ve(U,$,V,at);return go=null,vt}catch(Lt){if(Lt===Dl||Lt===Yh)throw Lt;var Xt=cn(29,Lt,null,U.mode);return Xt.lanes=at,Xt.return=U,Xt}finally{}}}var mo=qb(!0),Ub=qb(!1),Tn=W(null),ar=null;function da(a){var s=a.alternate;nt(ti,ti.current&1),nt(Tn,a),ar===null&&(s===null||ho.current!==null||s.memoizedState!==null)&&(ar=a)}function Wb(a){if(a.tag===22){if(nt(ti,ti.current),nt(Tn,a),ar===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(ar=a)}}else pa()}function pa(){nt(ti,ti.current),nt(Tn,Tn.current)}function Dr(a){ht(Tn),ar===a&&(ar=null),ht(ti)}var ti=W(0);function au(a){for(var s=a;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Hg(h)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Qp(a,s,h,d){s=a.memoizedState,h=h(d,s),h=h==null?s:p({},s,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Kp={enqueueSetState:function(a,s,h){a=a._reactInternals;var d=dn(),m=ha(d);m.payload=s,h!=null&&(m.callback=h),s=ua(a,m,d),s!==null&&(pn(s,a,d),Rl(s,a,d))},enqueueReplaceState:function(a,s,h){a=a._reactInternals;var d=dn(),m=ha(d);m.tag=1,m.payload=s,h!=null&&(m.callback=h),s=ua(a,m,d),s!==null&&(pn(s,a,d),Rl(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var h=dn(),d=ha(h);d.tag=2,s!=null&&(d.callback=s),s=ua(a,d,h),s!==null&&(pn(s,a,h),Rl(s,a,h))}};function Yb(a,s,h,d,m,b,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,k):s.prototype&&s.prototype.isPureReactComponent?!wl(h,d)||!wl(m,b):!0}function Gb(a,s,h,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,d),s.state!==a&&Kp.enqueueReplaceState(s,s.state,null)}function ss(a,s){var h=s;if("ref"in s){h={};for(var d in s)d!=="ref"&&(h[d]=s[d])}if(a=a.defaultProps){h===s&&(h=p({},h));for(var m in a)h[m]===void 0&&(h[m]=a[m])}return h}var su=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Vb(a){su(a)}function Xb(a){console.error(a)}function Zb(a){su(a)}function ou(a,s){try{var h=a.onUncaughtError;h(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function Qb(a,s,h){try{var d=a.onCaughtError;d(h.value,{componentStack:h.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Jp(a,s,h){return h=ha(h),h.tag=3,h.payload={element:null},h.callback=function(){ou(a,s)},h}function Kb(a){return a=ha(a),a.tag=3,a}function Jb(a,s,h,d){var m=h.type.getDerivedStateFromError;if(typeof m=="function"){var b=d.value;a.payload=function(){return m(b)},a.callback=function(){Qb(s,h,d)}}var k=h.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){Qb(s,h,d),typeof m!="function"&&(va===null?va=new Set([this]):va.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function GB(a,s,h,d,m){if(h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=h.alternate,s!==null&&El(s,h,m,!0),h=Tn.current,h!==null){switch(h.tag){case 13:return ar===null?Cg():h.alternate===null&&Ie===0&&(Ie=3),h.flags&=-257,h.flags|=65536,h.lanes=m,d===Mp?h.flags|=16384:(s=h.updateQueue,s===null?h.updateQueue=new Set([d]):s.add(d),kg(a,d,m)),!1;case 22:return h.flags|=65536,d===Mp?h.flags|=16384:(s=h.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},h.updateQueue=s):(h=s.retryQueue,h===null?s.retryQueue=new Set([d]):h.add(d)),kg(a,d,m)),!1}throw Error(n(435,h.tag))}return kg(a,d,m),Cg(),!1}if(le)return s=Tn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,d!==_p&&(a=Error(n(422),{cause:d}),Ml(Sn(a,h)))):(d!==_p&&(s=Error(n(423),{cause:d}),Ml(Sn(s,h))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,d=Sn(d,h),m=Jp(a.stateNode,d,m),Lp(a,m),Ie!==4&&(Ie=2)),!1;var b=Error(n(520),{cause:d});if(b=Sn(b,h),Xl===null?Xl=[b]:Xl.push(b),Ie!==4&&(Ie=2),s===null)return!0;d=Sn(d,h),h=s;do{switch(h.tag){case 3:return h.flags|=65536,a=m&-m,h.lanes|=a,a=Jp(h.stateNode,d,a),Lp(h,a),!1;case 1:if(s=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(va===null||!va.has(b))))return h.flags|=65536,m&=-m,h.lanes|=m,m=Kb(m),Jb(m,a,h,d),Lp(h,m),!1}h=h.return}while(h!==null);return!1}var t1=Error(n(461)),oi=!1;function gi(a,s,h,d){s.child=a===null?Ub(s,null,h,d):mo(s,a.child,h,d)}function e1(a,s,h,d,m){h=h.render;var b=s.ref;if("ref"in d){var k={};for(var A in d)A!=="ref"&&(k[A]=d[A])}else k=d;return ns(s),d=Np(a,s,h,k,b,m),A=Fp(),a!==null&&!oi?($p(a,s,m),Or(a,s,m)):(le&&A&&bp(s),s.flags|=1,gi(a,s,d,m),s.child)}function i1(a,s,h,d,m){if(a===null){var b=h.type;return typeof b=="function"&&!mp(b)&&b.defaultProps===void 0&&h.compare===null?(s.tag=15,s.type=b,n1(a,s,b,d,m)):(a=Hh(h.type,null,d,s,s.mode,m),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!og(a,m)){var k=b.memoizedProps;if(h=h.compare,h=h!==null?h:wl,h(k,d)&&a.ref===s.ref)return Or(a,s,m)}return s.flags|=1,a=Tr(b,d),a.ref=s.ref,a.return=s,s.child=a}function n1(a,s,h,d,m){if(a!==null){var b=a.memoizedProps;if(wl(b,d)&&a.ref===s.ref)if(oi=!1,s.pendingProps=d=b,og(a,m))(a.flags&131072)!==0&&(oi=!0);else return s.lanes=a.lanes,Or(a,s,m)}return tg(a,s,h,d,m)}function r1(a,s,h){var d=s.pendingProps,m=d.children,b=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=b!==null?b.baseLanes|h:h,a!==null){for(m=s.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;s.childLanes=b&~d}else s.childLanes=0,s.child=null;return a1(a,s,d,h)}if((h&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Wh(s,b!==null?b.cachePool:null),b!==null?nb(s,b):Op(),Wb(s);else return s.lanes=s.childLanes=536870912,a1(a,s,b!==null?b.baseLanes|h:h,h)}else b!==null?(Wh(s,b.cachePool),nb(s,b),pa(),s.memoizedState=null):(a!==null&&Wh(s,null),Op(),pa());return gi(a,s,m,h),s.child}function a1(a,s,h,d){var m=Ap();return m=m===null?null:{parent:Je._currentValue,pool:m},s.memoizedState={baseLanes:h,cachePool:m},a!==null&&Wh(s,null),Op(),Wb(s),a!==null&&El(a,s,d,!0),null}function lu(a,s){var h=s.ref;if(h===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(s.flags|=4194816)}}function tg(a,s,h,d,m){return ns(s),h=Np(a,s,h,d,void 0,m),d=Fp(),a!==null&&!oi?($p(a,s,m),Or(a,s,m)):(le&&d&&bp(s),s.flags|=1,gi(a,s,h,m),s.child)}function s1(a,s,h,d,m,b){return ns(s),s.updateQueue=null,h=ab(s,d,h,m),rb(a),d=Fp(),a!==null&&!oi?($p(a,s,b),Or(a,s,b)):(le&&d&&bp(s),s.flags|=1,gi(a,s,h,b),s.child)}function o1(a,s,h,d,m){if(ns(s),s.stateNode===null){var b=ao,k=h.contextType;typeof k=="object"&&k!==null&&(b=ki(k)),b=new h(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Kp,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},Ep(s),k=h.contextType,b.context=typeof k=="object"&&k!==null?ki(k):ao,b.state=s.memoizedState,k=h.getDerivedStateFromProps,typeof k=="function"&&(Qp(s,h,k,d),b.state=s.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Kp.enqueueReplaceState(b,b.state,null),Nl(s,d,b,m),zl(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){b=s.stateNode;var A=s.memoizedProps,N=ss(h,A);b.props=N;var X=b.context,rt=h.contextType;k=ao,typeof rt=="object"&&rt!==null&&(k=ki(rt));var ot=h.getDerivedStateFromProps;rt=typeof ot=="function"||typeof b.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,rt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A||X!==k)&&Gb(s,b,d,k),ca=!1;var Z=s.memoizedState;b.state=Z,Nl(s,d,b,m),zl(),X=s.memoizedState,A||Z!==X||ca?(typeof ot=="function"&&(Qp(s,h,ot,d),X=s.memoizedState),(N=ca||Yb(s,h,N,d,Z,X,k))?(rt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=X),b.props=d,b.state=X,b.context=k,d=N):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,Bp(a,s),k=s.memoizedProps,rt=ss(h,k),b.props=rt,ot=s.pendingProps,Z=b.context,X=h.contextType,N=ao,typeof X=="object"&&X!==null&&(N=ki(X)),A=h.getDerivedStateFromProps,(X=typeof A=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==ot||Z!==N)&&Gb(s,b,d,N),ca=!1,Z=s.memoizedState,b.state=Z,Nl(s,d,b,m),zl();var Q=s.memoizedState;k!==ot||Z!==Q||ca||a!==null&&a.dependencies!==null&&qh(a.dependencies)?(typeof A=="function"&&(Qp(s,h,A,d),Q=s.memoizedState),(rt=ca||Yb(s,h,rt,d,Z,Q,N)||a!==null&&a.dependencies!==null&&qh(a.dependencies))?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Q,N),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Q,N)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Q),b.props=d,b.state=Q,b.context=N,d=rt):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),d=!1)}return b=d,lu(a,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,h=d&&typeof h.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&d?(s.child=mo(s,a.child,null,m),s.child=mo(s,null,h,m)):gi(a,s,h,m),s.memoizedState=b.state,a=s.child):a=Or(a,s,m),a}function l1(a,s,h,d){return Al(),s.flags|=256,gi(a,s,h,d),s.child}var eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(a){return{baseLanes:a,cachePool:Xx()}}function ng(a,s,h){return a=a!==null?a.childLanes&~h:0,s&&(a|=An),a}function c1(a,s,h){var d=s.pendingProps,m=!1,b=(s.flags&128)!==0,k;if((k=b)||(k=a!==null&&a.memoizedState===null?!1:(ti.current&2)!==0),k&&(m=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,a===null){if(le){if(m?da(s):pa(),le){var A=He,N;if(N=A){t:{for(N=A,A=rr;N.nodeType!==8;){if(!A){A=null;break t}if(N=Wn(N.nextSibling),N===null){A=null;break t}}A=N}A!==null?(s.memoizedState={dehydrated:A,treeContext:Ka!==null?{id:Ar,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},N=cn(18,null,null,0),N.stateNode=A,N.return=s,s.child=N,Ni=s,He=null,N=!0):N=!1}N||es(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Hg(A)?s.lanes=32:s.lanes=536870912,null;Dr(s)}return A=d.children,d=d.fallback,m?(pa(),m=s.mode,A=cu({mode:"hidden",children:A},m),d=Qa(d,m,h,null),A.return=s,d.return=s,A.sibling=d,s.child=A,m=s.child,m.memoizedState=ig(h),m.childLanes=ng(a,k,h),s.memoizedState=eg,d):(da(s),rg(s,A))}if(N=a.memoizedState,N!==null&&(A=N.dehydrated,A!==null)){if(b)s.flags&256?(da(s),s.flags&=-257,s=ag(a,s,h)):s.memoizedState!==null?(pa(),s.child=a.child,s.flags|=128,s=null):(pa(),m=d.fallback,A=s.mode,d=cu({mode:"visible",children:d.children},A),m=Qa(m,A,h,null),m.flags|=2,d.return=s,m.return=s,d.sibling=m,s.child=d,mo(s,a.child,null,h),d=s.child,d.memoizedState=ig(h),d.childLanes=ng(a,k,h),s.memoizedState=eg,s=m);else if(da(s),Hg(A)){if(k=A.nextSibling&&A.nextSibling.dataset,k)var X=k.dgst;k=X,d=Error(n(419)),d.stack="",d.digest=k,Ml({value:d,source:null,stack:null}),s=ag(a,s,h)}else if(oi||El(a,s,h,!1),k=(h&a.childLanes)!==0,oi||k){if(k=we,k!==null&&(d=h&-h,d=(d&42)!==0?1:an(d),d=(d&(k.suspendedLanes|h))!==0?0:d,d!==0&&d!==N.retryLane))throw N.retryLane=d,ro(a,d),pn(k,a,d),t1;A.data==="$?"||Cg(),s=ag(a,s,h)}else A.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=N.treeContext,He=Wn(A.nextSibling),Ni=s,le=!0,ts=null,rr=!1,a!==null&&(wn[kn++]=Ar,wn[kn++]=Mr,wn[kn++]=Ka,Ar=a.id,Mr=a.overflow,Ka=s),s=rg(s,d.children),s.flags|=4096);return s}return m?(pa(),m=d.fallback,A=s.mode,N=a.child,X=N.sibling,d=Tr(N,{mode:"hidden",children:d.children}),d.subtreeFlags=N.subtreeFlags&65011712,X!==null?m=Tr(X,m):(m=Qa(m,A,h,null),m.flags|=2),m.return=s,d.return=s,d.sibling=m,s.child=d,d=m,m=s.child,A=a.child.memoizedState,A===null?A=ig(h):(N=A.cachePool,N!==null?(X=Je._currentValue,N=N.parent!==X?{parent:X,pool:X}:N):N=Xx(),A={baseLanes:A.baseLanes|h,cachePool:N}),m.memoizedState=A,m.childLanes=ng(a,k,h),s.memoizedState=eg,d):(da(s),h=a.child,a=h.sibling,h=Tr(h,{mode:"visible",children:d.children}),h.return=s,h.sibling=null,a!==null&&(k=s.deletions,k===null?(s.deletions=[a],s.flags|=16):k.push(a)),s.child=h,s.memoizedState=null,h)}function rg(a,s){return s=cu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function cu(a,s){return a=cn(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function ag(a,s,h){return mo(s,a.child,null,h),a=rg(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function h1(a,s,h){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),Cp(a.return,s,h)}function sg(a,s,h,d,m){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:h,tailMode:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=h,b.tailMode=m)}function u1(a,s,h){var d=s.pendingProps,m=d.revealOrder,b=d.tail;if(gi(a,s,d.children,h),d=ti.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&h1(a,h,s);else if(a.tag===19)h1(a,h,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(nt(ti,d),m){case"forwards":for(h=s.child,m=null;h!==null;)a=h.alternate,a!==null&&au(a)===null&&(m=h),h=h.sibling;h=m,h===null?(m=s.child,s.child=null):(m=h.sibling,h.sibling=null),sg(s,!1,m,h,b);break;case"backwards":for(h=null,m=s.child,s.child=null;m!==null;){if(a=m.alternate,a!==null&&au(a)===null){s.child=m;break}a=m.sibling,m.sibling=h,h=m,m=a}sg(s,!0,h,null,b);break;case"together":sg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Or(a,s,h){if(a!==null&&(s.dependencies=a.dependencies),ba|=s.lanes,(h&s.childLanes)===0)if(a!==null){if(El(a,s,h,!1),(h&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,h=Tr(a,a.pendingProps),s.child=h,h.return=s;a.sibling!==null;)a=a.sibling,h=h.sibling=Tr(a,a.pendingProps),h.return=s;h.sibling=null}return s.child}function og(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&qh(a)))}function VB(a,s,h){switch(s.tag){case 3:zt(s,s.stateNode.containerInfo),la(s,Je,a.memoizedState.cache),Al();break;case 27:case 5:It(s);break;case 4:zt(s,s.stateNode.containerInfo);break;case 10:la(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(da(s),s.flags|=128,null):(h&s.child.childLanes)!==0?c1(a,s,h):(da(s),a=Or(a,s,h),a!==null?a.sibling:null);da(s);break;case 19:var m=(a.flags&128)!==0;if(d=(h&s.childLanes)!==0,d||(El(a,s,h,!1),d=(h&s.childLanes)!==0),m){if(d)return u1(a,s,h);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(ti,ti.current),d)break;return null;case 22:case 23:return s.lanes=0,r1(a,s,h);case 24:la(s,Je,a.memoizedState.cache)}return Or(a,s,h)}function f1(a,s,h){if(a!==null)if(a.memoizedProps!==s.pendingProps)oi=!0;else{if(!og(a,h)&&(s.flags&128)===0)return oi=!1,VB(a,s,h);oi=(a.flags&131072)!==0}else oi=!1,le&&(s.flags&1048576)!==0&&Px(s,Ph,s.index);switch(s.lanes=0,s.tag){case 16:t:{a=s.pendingProps;var d=s.elementType,m=d._init;if(d=m(d._payload),s.type=d,typeof d=="function")mp(d)?(a=ss(d,a),s.tag=1,s=o1(null,s,d,a,h)):(s.tag=0,s=tg(null,s,d,a,h));else{if(d!=null){if(m=d.$$typeof,m===z){s.tag=11,s=e1(null,s,d,a,h);break t}else if(m===R){s.tag=14,s=i1(null,s,d,a,h);break t}}throw s=G(d)||d,Error(n(306,s,""))}}return s;case 0:return tg(a,s,s.type,s.pendingProps,h);case 1:return d=s.type,m=ss(d,s.pendingProps),o1(a,s,d,m,h);case 3:t:{if(zt(s,s.stateNode.containerInfo),a===null)throw Error(n(387));d=s.pendingProps;var b=s.memoizedState;m=b.element,Bp(a,s),Nl(s,d,null,h);var k=s.memoizedState;if(d=k.cache,la(s,Je,d),d!==b.cache&&wp(s,[Je],h,!0),zl(),d=k.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=l1(a,s,d,h);break t}else if(d!==m){m=Sn(Error(n(424)),s),Ml(m),s=l1(a,s,d,h);break t}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(He=Wn(a.firstChild),Ni=s,le=!0,ts=null,rr=!0,h=Ub(s,null,d,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Al(),d===m){s=Or(a,s,h);break t}gi(a,s,d,h)}s=s.child}return s;case 26:return lu(a,s),a===null?(h=mv(s.type,null,s.pendingProps,null))?s.memoizedState=h:le||(h=s.type,a=s.pendingProps,d=Cu(st.current).createElement(h),d[Se]=s,d[Ge]=a,yi(d,h,a),$e(d),s.stateNode=d):s.memoizedState=mv(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return It(s),a===null&&le&&(d=s.stateNode=dv(s.type,s.pendingProps,st.current),Ni=s,rr=!0,m=He,Ca(s.type)?(Ig=m,He=Wn(d.firstChild)):He=m),gi(a,s,s.pendingProps.children,h),lu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&le&&((m=d=He)&&(d=SL(d,s.type,s.pendingProps,rr),d!==null?(s.stateNode=d,Ni=s,He=Wn(d.firstChild),rr=!1,m=!0):m=!1),m||es(s)),It(s),m=s.type,b=s.pendingProps,k=a!==null?a.memoizedProps:null,d=b.children,Fg(m,b)?d=null:k!==null&&Fg(m,k)&&(s.flags|=32),s.memoizedState!==null&&(m=Np(a,s,HB,null,null,h),rc._currentValue=m),lu(a,s),gi(a,s,d,h),s.child;case 6:return a===null&&le&&((a=h=He)&&(h=CL(h,s.pendingProps,rr),h!==null?(s.stateNode=h,Ni=s,He=null,a=!0):a=!1),a||es(s)),null;case 13:return c1(a,s,h);case 4:return zt(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=mo(s,null,d,h):gi(a,s,d,h),s.child;case 11:return e1(a,s,s.type,s.pendingProps,h);case 7:return gi(a,s,s.pendingProps,h),s.child;case 8:return gi(a,s,s.pendingProps.children,h),s.child;case 12:return gi(a,s,s.pendingProps.children,h),s.child;case 10:return d=s.pendingProps,la(s,s.type,d.value),gi(a,s,d.children,h),s.child;case 9:return m=s.type._context,d=s.pendingProps.children,ns(s),m=ki(m),d=d(m),s.flags|=1,gi(a,s,d,h),s.child;case 14:return i1(a,s,s.type,s.pendingProps,h);case 15:return n1(a,s,s.type,s.pendingProps,h);case 19:return u1(a,s,h);case 31:return d=s.pendingProps,h=s.mode,d={mode:d.mode,children:d.children},a===null?(h=cu(d,h),h.ref=s.ref,s.child=h,h.return=s,s=h):(h=Tr(a.child,d),h.ref=s.ref,s.child=h,h.return=s,s=h),s;case 22:return r1(a,s,h);case 24:return ns(s),d=ki(Je),a===null?(m=Ap(),m===null&&(m=we,b=kp(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=h),m=b),s.memoizedState={parent:d,cache:m},Ep(s),la(s,Je,m)):((a.lanes&h)!==0&&(Bp(a,s),Nl(s,null,null,h),zl()),m=a.memoizedState,b=s.memoizedState,m.parent!==d?(m={parent:d,cache:d},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),la(s,Je,d)):(d=b.cache,la(s,Je,d),d!==m.cache&&wp(s,[Je],h,!0))),gi(a,s,s.pendingProps.children,h),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Rr(a){a.flags|=4}function d1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!_v(s)){if(s=Tn.current,s!==null&&((te&4194048)===te?ar!==null:(te&62914560)!==te&&(te&536870912)===0||s!==ar))throw Ol=Mp,Zx;a.flags|=8192}}function hu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?wr():536870912,a.lanes|=s,vo|=s)}function ql(a,s){if(!le)switch(a.tailMode){case"hidden":s=a.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var d=null;h!==null;)h.alternate!==null&&(d=h),h=h.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Fe(a){var s=a.alternate!==null&&a.alternate.child===a.child,h=0,d=0;if(s)for(var m=a.child;m!==null;)h|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)h|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=d,a.childLanes=h,s}function XB(a,s,h){var d=s.pendingProps;switch(vp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(s),null;case 1:return Fe(s),null;case 3:return h=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Br(Je),Gt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Tl(s)?Rr(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wx())),Fe(s),null;case 26:return h=s.memoizedState,a===null?(Rr(s),h!==null?(Fe(s),d1(s,h)):(Fe(s),s.flags&=-16777217)):h?h!==a.memoizedState?(Rr(s),Fe(s),d1(s,h)):(Fe(s),s.flags&=-16777217):(a.memoizedProps!==d&&Rr(s),Fe(s),s.flags&=-16777217),null;case 27:Jt(s),h=st.current;var m=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Rr(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Fe(s),null}a=gt.current,Tl(s)?qx(s):(a=dv(m,d,h),s.stateNode=a,Rr(s))}return Fe(s),null;case 5:if(Jt(s),h=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Rr(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Fe(s),null}if(a=gt.current,Tl(s))qx(s);else{switch(m=Cu(st.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?m.createElement(h,{is:d.is}):m.createElement(h)}}a[Se]=s,a[Ge]=d;t:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break t;for(;m.sibling===null;){if(m.return===null||m.return===s)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=a;t:switch(yi(a,h,d),h){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Rr(s)}}return Fe(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&Rr(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(a=st.current,Tl(s)){if(a=s.stateNode,h=s.memoizedProps,d=null,m=Ni,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}a[Se]=s,a=!!(a.nodeValue===h||d!==null&&d.suppressHydrationWarning===!0||sv(a.nodeValue,h)),a||es(s)}else a=Cu(a).createTextNode(d),a[Se]=s,s.stateNode=a}return Fe(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Tl(s),d!==null&&d.dehydrated!==null){if(a===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Se]=s}else Al(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Fe(s),m=!1}else m=Wx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Dr(s),s):(Dr(s),null)}if(Dr(s),(s.flags&128)!==0)return s.lanes=h,s;if(h=d!==null,a=a!==null&&a.memoizedState!==null,h){d=s.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==m&&(d.flags|=2048)}return h!==a&&h&&(s.child.flags|=8192),hu(s,s.updateQueue),Fe(s),null;case 4:return Gt(),a===null&&Dg(s.stateNode.containerInfo),Fe(s),null;case 10:return Br(s.type),Fe(s),null;case 19:if(ht(ti),m=s.memoizedState,m===null)return Fe(s),null;if(d=(s.flags&128)!==0,b=m.rendering,b===null)if(d)ql(m,!1);else{if(Ie!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=au(a),b!==null){for(s.flags|=128,ql(m,!1),a=b.updateQueue,s.updateQueue=a,hu(s,a),s.subtreeFlags=0,a=h,h=s.child;h!==null;)Ix(h,a),h=h.sibling;return nt(ti,ti.current&1|2),s.child}a=a.sibling}m.tail!==null&&ae()>du&&(s.flags|=128,d=!0,ql(m,!1),s.lanes=4194304)}else{if(!d)if(a=au(b),a!==null){if(s.flags|=128,d=!0,a=a.updateQueue,s.updateQueue=a,hu(s,a),ql(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!le)return Fe(s),null}else 2*ae()-m.renderingStartTime>du&&h!==536870912&&(s.flags|=128,d=!0,ql(m,!1),s.lanes=4194304);m.isBackwards?(b.sibling=s.child,s.child=b):(a=m.last,a!==null?a.sibling=b:s.child=b,m.last=b)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=ae(),s.sibling=null,a=ti.current,nt(ti,d?a&1|2:a&1),s):(Fe(s),null);case 22:case 23:return Dr(s),Rp(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(h&536870912)!==0&&(s.flags&128)===0&&(Fe(s),s.subtreeFlags&6&&(s.flags|=8192)):Fe(s),h=s.updateQueue,h!==null&&hu(s,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==h&&(s.flags|=2048),a!==null&&ht(rs),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Br(Je),Fe(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function ZB(a,s){switch(vp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Br(Je),Gt(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Jt(s),null;case 13:if(Dr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Al()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ht(ti),null;case 4:return Gt(),null;case 10:return Br(s.type),null;case 22:case 23:return Dr(s),Rp(),a!==null&&ht(rs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Br(Je),null;case 25:return null;default:return null}}function p1(a,s){switch(vp(s),s.tag){case 3:Br(Je),Gt();break;case 26:case 27:case 5:Jt(s);break;case 4:Gt();break;case 13:Dr(s);break;case 19:ht(ti);break;case 10:Br(s.type);break;case 22:case 23:Dr(s),Rp(),a!==null&&ht(rs);break;case 24:Br(Je)}}function Ul(a,s){try{var h=s.updateQueue,d=h!==null?h.lastEffect:null;if(d!==null){var m=d.next;h=m;do{if((h.tag&a)===a){d=void 0;var b=h.create,k=h.inst;d=b(),k.destroy=d}h=h.next}while(h!==m)}}catch(A){Ce(s,s.return,A)}}function ga(a,s,h){try{var d=s.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&a)===a){var k=d.inst,A=k.destroy;if(A!==void 0){k.destroy=void 0,m=s;var N=h,X=A;try{X()}catch(rt){Ce(m,N,rt)}}}d=d.next}while(d!==b)}}catch(rt){Ce(s,s.return,rt)}}function g1(a){var s=a.updateQueue;if(s!==null){var h=a.stateNode;try{ib(s,h)}catch(d){Ce(a,a.return,d)}}}function m1(a,s,h){h.props=ss(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(d){Ce(a,s,d)}}function Wl(a,s){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof h=="function"?a.refCleanup=h(d):h.current=d}}catch(m){Ce(a,s,m)}}function sr(a,s){var h=a.ref,d=a.refCleanup;if(h!==null)if(typeof d=="function")try{d()}catch(m){Ce(a,s,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(m){Ce(a,s,m)}else h.current=null}function y1(a){var s=a.type,h=a.memoizedProps,d=a.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":h.autoFocus&&d.focus();break t;case"img":h.src?d.src=h.src:h.srcSet&&(d.srcset=h.srcSet)}}catch(m){Ce(a,a.return,m)}}function lg(a,s,h){try{var d=a.stateNode;yL(d,a.type,h,s),d[Ge]=s}catch(m){Ce(a,a.return,m)}}function x1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ca(a.type)||a.tag===4}function cg(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||x1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ca(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function hg(a,s,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,s):(s=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,s.appendChild(a),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Su));else if(d!==4&&(d===27&&Ca(a.type)&&(h=a.stateNode,s=null),a=a.child,a!==null))for(hg(a,s,h),a=a.sibling;a!==null;)hg(a,s,h),a=a.sibling}function uu(a,s,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?h.insertBefore(a,s):h.appendChild(a);else if(d!==4&&(d===27&&Ca(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(uu(a,s,h),a=a.sibling;a!==null;)uu(a,s,h),a=a.sibling}function b1(a){var s=a.stateNode,h=a.memoizedProps;try{for(var d=a.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);yi(s,d,h),s[Se]=a,s[Ge]=h}catch(b){Ce(a,a.return,b)}}var zr=!1,Ue=!1,ug=!1,v1=typeof WeakSet=="function"?WeakSet:Set,li=null;function QB(a,s){if(a=a.containerInfo,zg=Eu,a=Lx(a),cp(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else t:{h=(h=a.ownerDocument)&&h.defaultView||window;var d=h.getSelection&&h.getSelection();if(d&&d.rangeCount!==0){h=d.anchorNode;var m=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break t}var k=0,A=-1,N=-1,X=0,rt=0,ot=a,Z=null;e:for(;;){for(var Q;ot!==h||m!==0&&ot.nodeType!==3||(A=k+m),ot!==b||d!==0&&ot.nodeType!==3||(N=k+d),ot.nodeType===3&&(k+=ot.nodeValue.length),(Q=ot.firstChild)!==null;)Z=ot,ot=Q;for(;;){if(ot===a)break e;if(Z===h&&++X===m&&(A=k),Z===b&&++rt===d&&(N=k),(Q=ot.nextSibling)!==null)break;ot=Z,Z=ot.parentNode}ot=Q}h=A===-1||N===-1?null:{start:A,end:N}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ng={focusedElem:a,selectionRange:h},Eu=!1,li=s;li!==null;)if(s=li,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,li=a;else for(;li!==null;){switch(s=li,b=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,h=s,m=b.memoizedProps,b=b.memoizedState,d=h.stateNode;try{var Pt=ss(h.type,m,h.elementType===h.type);a=d.getSnapshotBeforeUpdate(Pt,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(Nt){Ce(h,h.return,Nt)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,h=a.nodeType,h===9)jg(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":jg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,li=a;break}li=s.return}}function _1(a,s,h){var d=h.flags;switch(h.tag){case 0:case 11:case 15:ma(a,h),d&4&&Ul(5,h);break;case 1:if(ma(a,h),d&4)if(a=h.stateNode,s===null)try{a.componentDidMount()}catch(k){Ce(h,h.return,k)}else{var m=ss(h.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(m,s,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Ce(h,h.return,k)}}d&64&&g1(h),d&512&&Wl(h,h.return);break;case 3:if(ma(a,h),d&64&&(a=h.updateQueue,a!==null)){if(s=null,h.child!==null)switch(h.child.tag){case 27:case 5:s=h.child.stateNode;break;case 1:s=h.child.stateNode}try{ib(a,s)}catch(k){Ce(h,h.return,k)}}break;case 27:s===null&&d&4&&b1(h);case 26:case 5:ma(a,h),s===null&&d&4&&y1(h),d&512&&Wl(h,h.return);break;case 12:ma(a,h);break;case 13:ma(a,h),d&4&&w1(a,h),d&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=sL.bind(null,h),wL(a,h))));break;case 22:if(d=h.memoizedState!==null||zr,!d){s=s!==null&&s.memoizedState!==null||Ue,m=zr;var b=Ue;zr=d,(Ue=s)&&!b?ya(a,h,(h.subtreeFlags&8772)!==0):ma(a,h),zr=m,Ue=b}break;case 30:break;default:ma(a,h)}}function S1(a){var s=a.alternate;s!==null&&(a.alternate=null,S1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Oi(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Oe=null,Yi=!1;function Nr(a,s,h){for(h=h.child;h!==null;)C1(a,s,h),h=h.sibling}function C1(a,s,h){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(fi,h)}catch{}switch(h.tag){case 26:Ue||sr(h,s),Nr(a,s,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Ue||sr(h,s);var d=Oe,m=Yi;Ca(h.type)&&(Oe=h.stateNode,Yi=!1),Nr(a,s,h),tc(h.stateNode),Oe=d,Yi=m;break;case 5:Ue||sr(h,s);case 6:if(d=Oe,m=Yi,Oe=null,Nr(a,s,h),Oe=d,Yi=m,Oe!==null)if(Yi)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(h.stateNode)}catch(b){Ce(h,s,b)}else try{Oe.removeChild(h.stateNode)}catch(b){Ce(h,s,b)}break;case 18:Oe!==null&&(Yi?(a=Oe,uv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),lc(a)):uv(Oe,h.stateNode));break;case 4:d=Oe,m=Yi,Oe=h.stateNode.containerInfo,Yi=!0,Nr(a,s,h),Oe=d,Yi=m;break;case 0:case 11:case 14:case 15:Ue||ga(2,h,s),Ue||ga(4,h,s),Nr(a,s,h);break;case 1:Ue||(sr(h,s),d=h.stateNode,typeof d.componentWillUnmount=="function"&&m1(h,s,d)),Nr(a,s,h);break;case 21:Nr(a,s,h);break;case 22:Ue=(d=Ue)||h.memoizedState!==null,Nr(a,s,h),Ue=d;break;default:Nr(a,s,h)}}function w1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{lc(a)}catch(h){Ce(s,s.return,h)}}function KB(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new v1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new v1),s;default:throw Error(n(435,a.tag))}}function fg(a,s){var h=KB(a);s.forEach(function(d){var m=oL.bind(null,a,d);h.has(d)||(h.add(d),d.then(m,m))})}function hn(a,s){var h=s.deletions;if(h!==null)for(var d=0;d<h.length;d++){var m=h[d],b=a,k=s,A=k;t:for(;A!==null;){switch(A.tag){case 27:if(Ca(A.type)){Oe=A.stateNode,Yi=!1;break t}break;case 5:Oe=A.stateNode,Yi=!1;break t;case 3:case 4:Oe=A.stateNode.containerInfo,Yi=!0;break t}A=A.return}if(Oe===null)throw Error(n(160));C1(b,k,m),Oe=null,Yi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)k1(s,a),s=s.sibling}var Un=null;function k1(a,s){var h=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:hn(s,a),un(a),d&4&&(ga(3,a,a.return),Ul(3,a),ga(5,a,a.return));break;case 1:hn(s,a),un(a),d&512&&(Ue||h===null||sr(h,h.return)),d&64&&zr&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?d:h.concat(d))));break;case 26:var m=Un;if(hn(s,a),un(a),d&512&&(Ue||h===null||sr(h,h.return)),d&4){var b=h!==null?h.memoizedState:null;if(d=a.memoizedState,h===null)if(d===null)if(a.stateNode===null){t:{d=a.type,h=a.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":b=m.getElementsByTagName("title")[0],(!b||b[ir]||b[Se]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(d),m.head.insertBefore(b,m.querySelector("head > title"))),yi(b,d,h),b[Se]=a,$e(b),d=b;break t;case"link":var k=bv("link","href",m).get(d+(h.href||""));if(k){for(var A=0;A<k.length;A++)if(b=k[A],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){k.splice(A,1);break e}}b=m.createElement(d),yi(b,d,h),m.head.appendChild(b);break;case"meta":if(k=bv("meta","content",m).get(d+(h.content||""))){for(A=0;A<k.length;A++)if(b=k[A],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){k.splice(A,1);break e}}b=m.createElement(d),yi(b,d,h),m.head.appendChild(b);break;default:throw Error(n(468,d))}b[Se]=a,$e(b),d=b}a.stateNode=d}else vv(m,a.type,a.stateNode);else a.stateNode=xv(m,d,a.memoizedProps);else b!==d?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,d===null?vv(m,a.type,a.stateNode):xv(m,d,a.memoizedProps)):d===null&&a.stateNode!==null&&lg(a,a.memoizedProps,h.memoizedProps)}break;case 27:hn(s,a),un(a),d&512&&(Ue||h===null||sr(h,h.return)),h!==null&&d&4&&lg(a,a.memoizedProps,h.memoizedProps);break;case 5:if(hn(s,a),un(a),d&512&&(Ue||h===null||sr(h,h.return)),a.flags&32){m=a.stateNode;try{Qs(m,"")}catch(Q){Ce(a,a.return,Q)}}d&4&&a.stateNode!=null&&(m=a.memoizedProps,lg(a,m,h!==null?h.memoizedProps:m)),d&1024&&(ug=!0);break;case 6:if(hn(s,a),un(a),d&4){if(a.stateNode===null)throw Error(n(162));d=a.memoizedProps,h=a.stateNode;try{h.nodeValue=d}catch(Q){Ce(a,a.return,Q)}}break;case 3:if(Tu=null,m=Un,Un=wu(s.containerInfo),hn(s,a),Un=m,un(a),d&4&&h!==null&&h.memoizedState.isDehydrated)try{lc(s.containerInfo)}catch(Q){Ce(a,a.return,Q)}ug&&(ug=!1,T1(a));break;case 4:d=Un,Un=wu(a.stateNode.containerInfo),hn(s,a),un(a),Un=d;break;case 12:hn(s,a),un(a);break;case 13:hn(s,a),un(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(xg=ae()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,fg(a,d)));break;case 22:m=a.memoizedState!==null;var N=h!==null&&h.memoizedState!==null,X=zr,rt=Ue;if(zr=X||m,Ue=rt||N,hn(s,a),Ue=rt,zr=X,un(a),d&8192)t:for(s=a.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(h===null||N||zr||Ue||os(a)),h=null,s=a;;){if(s.tag===5||s.tag===26){if(h===null){N=h=s;try{if(b=N.stateNode,m)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{A=N.stateNode;var ot=N.memoizedProps.style,Z=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Q){Ce(N,N.return,Q)}}}else if(s.tag===6){if(h===null){N=s;try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(Q){Ce(N,N.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;h===s&&(h=null),s=s.return}h===s&&(h=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(h=d.retryQueue,h!==null&&(d.retryQueue=null,fg(a,h))));break;case 19:hn(s,a),un(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,fg(a,d)));break;case 30:break;case 21:break;default:hn(s,a),un(a)}}function un(a){var s=a.flags;if(s&2){try{for(var h,d=a.return;d!==null;){if(x1(d)){h=d;break}d=d.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var m=h.stateNode,b=cg(a);uu(a,b,m);break;case 5:var k=h.stateNode;h.flags&32&&(Qs(k,""),h.flags&=-33);var A=cg(a);uu(a,A,k);break;case 3:case 4:var N=h.stateNode.containerInfo,X=cg(a);hg(a,X,N);break;default:throw Error(n(161))}}catch(rt){Ce(a,a.return,rt)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function T1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;T1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ma(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_1(a,s.alternate,s),s=s.sibling}function os(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:ga(4,s,s.return),os(s);break;case 1:sr(s,s.return);var h=s.stateNode;typeof h.componentWillUnmount=="function"&&m1(s,s.return,h),os(s);break;case 27:tc(s.stateNode);case 26:case 5:sr(s,s.return),os(s);break;case 22:s.memoizedState===null&&os(s);break;case 30:os(s);break;default:os(s)}a=a.sibling}}function ya(a,s,h){for(h=h&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,m=a,b=s,k=b.flags;switch(b.tag){case 0:case 11:case 15:ya(m,b,h),Ul(4,b);break;case 1:if(ya(m,b,h),d=b,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){Ce(d,d.return,X)}if(d=b,m=d.updateQueue,m!==null){var A=d.stateNode;try{var N=m.shared.hiddenCallbacks;if(N!==null)for(m.shared.hiddenCallbacks=null,m=0;m<N.length;m++)eb(N[m],A)}catch(X){Ce(d,d.return,X)}}h&&k&64&&g1(b),Wl(b,b.return);break;case 27:b1(b);case 26:case 5:ya(m,b,h),h&&d===null&&k&4&&y1(b),Wl(b,b.return);break;case 12:ya(m,b,h);break;case 13:ya(m,b,h),h&&k&4&&w1(m,b);break;case 22:b.memoizedState===null&&ya(m,b,h),Wl(b,b.return);break;case 30:break;default:ya(m,b,h)}s=s.sibling}}function dg(a,s){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Bl(h))}function pg(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bl(a))}function or(a,s,h,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)A1(a,s,h,d),s=s.sibling}function A1(a,s,h,d){var m=s.flags;switch(s.tag){case 0:case 11:case 15:or(a,s,h,d),m&2048&&Ul(9,s);break;case 1:or(a,s,h,d);break;case 3:or(a,s,h,d),m&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bl(a)));break;case 12:if(m&2048){or(a,s,h,d),a=s.stateNode;try{var b=s.memoizedProps,k=b.id,A=b.onPostCommit;typeof A=="function"&&A(k,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(N){Ce(s,s.return,N)}}else or(a,s,h,d);break;case 13:or(a,s,h,d);break;case 23:break;case 22:b=s.stateNode,k=s.alternate,s.memoizedState!==null?b._visibility&2?or(a,s,h,d):Yl(a,s):b._visibility&2?or(a,s,h,d):(b._visibility|=2,yo(a,s,h,d,(s.subtreeFlags&10256)!==0)),m&2048&&dg(k,s);break;case 24:or(a,s,h,d),m&2048&&pg(s.alternate,s);break;default:or(a,s,h,d)}}function yo(a,s,h,d,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=a,k=s,A=h,N=d,X=k.flags;switch(k.tag){case 0:case 11:case 15:yo(b,k,A,N,m),Ul(8,k);break;case 23:break;case 22:var rt=k.stateNode;k.memoizedState!==null?rt._visibility&2?yo(b,k,A,N,m):Yl(b,k):(rt._visibility|=2,yo(b,k,A,N,m)),m&&X&2048&&dg(k.alternate,k);break;case 24:yo(b,k,A,N,m),m&&X&2048&&pg(k.alternate,k);break;default:yo(b,k,A,N,m)}s=s.sibling}}function Yl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var h=a,d=s,m=d.flags;switch(d.tag){case 22:Yl(h,d),m&2048&&dg(d.alternate,d);break;case 24:Yl(h,d),m&2048&&pg(d.alternate,d);break;default:Yl(h,d)}s=s.sibling}}var Gl=8192;function xo(a){if(a.subtreeFlags&Gl)for(a=a.child;a!==null;)M1(a),a=a.sibling}function M1(a){switch(a.tag){case 26:xo(a),a.flags&Gl&&a.memoizedState!==null&&FL(Un,a.memoizedState,a.memoizedProps);break;case 5:xo(a);break;case 3:case 4:var s=Un;Un=wu(a.stateNode.containerInfo),xo(a),Un=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=Gl,Gl=16777216,xo(a),Gl=s):xo(a));break;default:xo(a)}}function E1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Vl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var d=s[h];li=d,L1(d,a)}E1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)B1(a),a=a.sibling}function B1(a){switch(a.tag){case 0:case 11:case 15:Vl(a),a.flags&2048&&ga(9,a,a.return);break;case 3:Vl(a);break;case 12:Vl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,fu(a)):Vl(a);break;default:Vl(a)}}function fu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var d=s[h];li=d,L1(d,a)}E1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:ga(8,s,s.return),fu(s);break;case 22:h=s.stateNode,h._visibility&2&&(h._visibility&=-3,fu(s));break;default:fu(s)}a=a.sibling}}function L1(a,s){for(;li!==null;){var h=li;switch(h.tag){case 0:case 11:case 15:ga(8,h,s);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var d=h.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Bl(h.memoizedState.cache)}if(d=h.child,d!==null)d.return=h,li=d;else t:for(h=a;li!==null;){d=li;var m=d.sibling,b=d.return;if(S1(d),d===h){li=null;break t}if(m!==null){m.return=b,li=m;break t}li=b}}}var JB={getCacheForType:function(a){var s=ki(Je),h=s.data.get(a);return h===void 0&&(h=a(),s.data.set(a,h)),h}},tL=typeof WeakMap=="function"?WeakMap:Map,pe=0,we=null,Zt=null,te=0,ge=0,fn=null,xa=!1,bo=!1,gg=!1,Fr=0,Ie=0,ba=0,ls=0,mg=0,An=0,vo=0,Xl=null,Gi=null,yg=!1,xg=0,du=1/0,pu=null,va=null,mi=0,_a=null,_o=null,So=0,bg=0,vg=null,D1=null,Zl=0,_g=null;function dn(){if((pe&2)!==0&&te!==0)return te&-te;if(L.T!==null){var a=lo;return a!==0?a:Mg()}return Wa()}function O1(){An===0&&(An=(te&536870912)===0||le?Hn():536870912);var a=Tn.current;return a!==null&&(a.flags|=32),An}function pn(a,s,h){(a===we&&(ge===2||ge===9)||a.cancelPendingCommit!==null)&&(Co(a,0),Sa(a,te,An,!1)),Ci(a,h),((pe&2)===0||a!==we)&&(a===we&&((pe&2)===0&&(ls|=h),Ie===4&&Sa(a,te,An,!1)),lr(a))}function R1(a,s,h){if((pe&6)!==0)throw Error(n(327));var d=!h&&(s&124)===0&&(s&a.expiredLanes)===0||rn(a,s),m=d?nL(a,s):wg(a,s,!0),b=d;do{if(m===0){bo&&!d&&Sa(a,s,0,!1);break}else{if(h=a.current.alternate,b&&!eL(h)){m=wg(a,s,!1),b=!1;continue}if(m===2){if(b=s,a.errorRecoveryDisabledLanes&b)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;t:{var A=a;m=Xl;var N=A.current.memoizedState.isDehydrated;if(N&&(Co(A,k).flags|=256),k=wg(A,k,!1),k!==2){if(gg&&!N){A.errorRecoveryDisabledLanes|=b,ls|=b,m=4;break t}b=Gi,Gi=m,b!==null&&(Gi===null?Gi=b:Gi.push.apply(Gi,b))}m=k}if(b=!1,m!==2)continue}}if(m===1){Co(a,0),Sa(a,s,0,!0);break}t:{switch(d=a,b=m,b){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Sa(d,s,An,!xa);break t;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(m=xg+300-ae(),10<m)){if(Sa(d,s,An,!xa),nn(d,0,!0)!==0)break t;d.timeoutHandle=cv(z1.bind(null,d,h,Gi,pu,yg,s,An,ls,vo,xa,b,2,-0,0),m);break t}z1(d,h,Gi,pu,yg,s,An,ls,vo,xa,b,0,-0,0)}}break}while(!0);lr(a)}function z1(a,s,h,d,m,b,k,A,N,X,rt,ot,Z,Q){if(a.timeoutHandle=-1,ot=s.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(nc={stylesheets:null,count:0,unsuspend:NL},M1(s),ot=$L(),ot!==null)){a.cancelPendingCommit=ot(P1.bind(null,a,s,b,h,d,m,k,A,N,rt,1,Z,Q)),Sa(a,b,k,!X);return}P1(a,s,b,h,d,m,k,A,N)}function eL(a){for(var s=a;;){var h=s.tag;if((h===0||h===11||h===15)&&s.flags&16384&&(h=s.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var d=0;d<h.length;d++){var m=h[d],b=m.getSnapshot;m=m.value;try{if(!ln(b(),m))return!1}catch{return!1}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Sa(a,s,h,d){s&=~mg,s&=~ls,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var m=s;0<m;){var b=31-di(m),k=1<<b;d[b]=-1,m&=~k}h!==0&&Gs(a,h,s)}function gu(){return(pe&6)===0?(Ql(0),!1):!0}function Sg(){if(Zt!==null){if(ge===0)var a=Zt.return;else a=Zt,Er=is=null,jp(a),go=null,Il=0,a=Zt;for(;a!==null;)p1(a.alternate,a),a=a.return;Zt=null}}function Co(a,s){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,bL(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Sg(),we=a,Zt=h=Tr(a.current,null),te=s,ge=0,fn=null,xa=!1,bo=rn(a,s),gg=!1,vo=An=mg=ls=ba=Ie=0,Gi=Xl=null,yg=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var m=31-di(d),b=1<<m;s|=a[m],d&=~b}return Fr=s,Fh(),h}function N1(a,s){Vt=null,L.H=iu,s===Dl||s===Yh?(s=Jx(),ge=3):s===Zx?(s=Jx(),ge=4):ge=s===t1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fn=s,Zt===null&&(Ie=1,ou(a,Sn(s,a.current)))}function F1(){var a=L.H;return L.H=iu,a===null?iu:a}function $1(){var a=L.A;return L.A=JB,a}function Cg(){Ie=4,xa||(te&4194048)!==te&&Tn.current!==null||(bo=!0),(ba&134217727)===0&&(ls&134217727)===0||we===null||Sa(we,te,An,!1)}function wg(a,s,h){var d=pe;pe|=2;var m=F1(),b=$1();(we!==a||te!==s)&&(pu=null,Co(a,s)),s=!1;var k=Ie;t:do try{if(ge!==0&&Zt!==null){var A=Zt,N=fn;switch(ge){case 8:Sg(),k=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(s=!0);var X=ge;if(ge=0,fn=null,wo(a,A,N,X),h&&bo){k=0;break t}break;default:X=ge,ge=0,fn=null,wo(a,A,N,X)}}iL(),k=Ie;break}catch(rt){N1(a,rt)}while(!0);return s&&a.shellSuspendCounter++,Er=is=null,pe=d,L.H=m,L.A=b,Zt===null&&(we=null,te=0,Fh()),k}function iL(){for(;Zt!==null;)j1(Zt)}function nL(a,s){var h=pe;pe|=2;var d=F1(),m=$1();we!==a||te!==s?(pu=null,du=ae()+500,Co(a,s)):bo=rn(a,s);t:do try{if(ge!==0&&Zt!==null){s=Zt;var b=fn;e:switch(ge){case 1:ge=0,fn=null,wo(a,s,b,1);break;case 2:case 9:if(Qx(b)){ge=0,fn=null,H1(s);break}s=function(){ge!==2&&ge!==9||we!==a||(ge=7),lr(a)},b.then(s,s);break t;case 3:ge=7;break t;case 4:ge=5;break t;case 7:Qx(b)?(ge=0,fn=null,H1(s)):(ge=0,fn=null,wo(a,s,b,7));break;case 5:var k=null;switch(Zt.tag){case 26:k=Zt.memoizedState;case 5:case 27:var A=Zt;if(!k||_v(k)){ge=0,fn=null;var N=A.sibling;if(N!==null)Zt=N;else{var X=A.return;X!==null?(Zt=X,mu(X)):Zt=null}break e}}ge=0,fn=null,wo(a,s,b,5);break;case 6:ge=0,fn=null,wo(a,s,b,6);break;case 8:Sg(),Ie=6;break t;default:throw Error(n(462))}}rL();break}catch(rt){N1(a,rt)}while(!0);return Er=is=null,L.H=d,L.A=m,pe=h,Zt!==null?0:(we=null,te=0,Fh(),Ie)}function rL(){for(;Zt!==null&&!qs();)j1(Zt)}function j1(a){var s=f1(a.alternate,a,Fr);a.memoizedProps=a.pendingProps,s===null?mu(a):Zt=s}function H1(a){var s=a,h=s.alternate;switch(s.tag){case 15:case 0:s=s1(h,s,s.pendingProps,s.type,void 0,te);break;case 11:s=s1(h,s,s.pendingProps,s.type.render,s.ref,te);break;case 5:jp(s);default:p1(h,s),s=Zt=Ix(s,Fr),s=f1(h,s,Fr)}a.memoizedProps=a.pendingProps,s===null?mu(a):Zt=s}function wo(a,s,h,d){Er=is=null,jp(s),go=null,Il=0;var m=s.return;try{if(GB(a,m,s,h,te)){Ie=1,ou(a,Sn(h,a.current)),Zt=null;return}}catch(b){if(m!==null)throw Zt=m,b;Ie=1,ou(a,Sn(h,a.current)),Zt=null;return}s.flags&32768?(le||d===1?a=!0:bo||(te&536870912)!==0?a=!1:(xa=a=!0,(d===2||d===9||d===3||d===6)&&(d=Tn.current,d!==null&&d.tag===13&&(d.flags|=16384))),I1(s,a)):mu(s)}function mu(a){var s=a;do{if((s.flags&32768)!==0){I1(s,xa);return}a=s.return;var h=XB(s.alternate,s,Fr);if(h!==null){Zt=h;return}if(s=s.sibling,s!==null){Zt=s;return}Zt=s=a}while(s!==null);Ie===0&&(Ie=5)}function I1(a,s){do{var h=ZB(a.alternate,a);if(h!==null){h.flags&=32767,Zt=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!s&&(a=a.sibling,a!==null)){Zt=a;return}Zt=a=h}while(a!==null);Ie=6,Zt=null}function P1(a,s,h,d,m,b,k,A,N){a.cancelPendingCommit=null;do yu();while(mi!==0);if((pe&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(b=s.lanes|s.childLanes,b|=pp,Ua(a,h,b,k,A,N),a===we&&(Zt=we=null,te=0),_o=s,_a=a,So=h,bg=b,vg=m,D1=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,lL(bn,function(){return G1(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=L.T,L.T=null,m=F.p,F.p=2,k=pe,pe|=4;try{QB(a,s,h)}finally{pe=k,F.p=m,L.T=d}}mi=1,q1(),U1(),W1()}}function q1(){if(mi===1){mi=0;var a=_a,s=_o,h=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||h){h=L.T,L.T=null;var d=F.p;F.p=2;var m=pe;pe|=4;try{k1(s,a);var b=Ng,k=Lx(a.containerInfo),A=b.focusedElem,N=b.selectionRange;if(k!==A&&A&&A.ownerDocument&&Bx(A.ownerDocument.documentElement,A)){if(N!==null&&cp(A)){var X=N.start,rt=N.end;if(rt===void 0&&(rt=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(rt,A.value.length);else{var ot=A.ownerDocument||document,Z=ot&&ot.defaultView||window;if(Z.getSelection){var Q=Z.getSelection(),Pt=A.textContent.length,Nt=Math.min(N.start,Pt),ve=N.end===void 0?Nt:Math.min(N.end,Pt);!Q.extend&&Nt>ve&&(k=ve,ve=Nt,Nt=k);var U=Ex(A,Nt),$=Ex(A,ve);if(U&&$&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==$.node||Q.focusOffset!==$.offset)){var V=ot.createRange();V.setStart(U.node,U.offset),Q.removeAllRanges(),Nt>ve?(Q.addRange(V),Q.extend($.node,$.offset)):(V.setEnd($.node,$.offset),Q.addRange(V))}}}}for(ot=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&ot.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ot.length;A++){var at=ot[A];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Eu=!!zg,Ng=zg=null}finally{pe=m,F.p=d,L.T=h}}a.current=s,mi=2}}function U1(){if(mi===2){mi=0;var a=_a,s=_o,h=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||h){h=L.T,L.T=null;var d=F.p;F.p=2;var m=pe;pe|=4;try{_1(a,s.alternate,s)}finally{pe=m,F.p=d,L.T=h}}mi=3}}function W1(){if(mi===4||mi===3){mi=0,oe();var a=_a,s=_o,h=So,d=D1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?mi=5:(mi=0,_o=_a=null,Y1(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(va=null),vn(h),s=s.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(fi,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=L.T,m=F.p,F.p=2,L.T=null;try{for(var b=a.onRecoverableError,k=0;k<d.length;k++){var A=d[k];b(A.value,{componentStack:A.stack})}}finally{L.T=s,F.p=m}}(So&3)!==0&&yu(),lr(a),m=a.pendingLanes,(h&4194090)!==0&&(m&42)!==0?a===_g?Zl++:(Zl=0,_g=a):Zl=0,Ql(0)}}function Y1(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Bl(s)))}function yu(a){return q1(),U1(),W1(),G1()}function G1(){if(mi!==5)return!1;var a=_a,s=bg;bg=0;var h=vn(So),d=L.T,m=F.p;try{F.p=32>h?32:h,L.T=null,h=vg,vg=null;var b=_a,k=So;if(mi=0,_o=_a=null,So=0,(pe&6)!==0)throw Error(n(331));var A=pe;if(pe|=4,B1(b.current),A1(b,b.current,k,h),pe=A,Ql(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(fi,b)}catch{}return!0}finally{F.p=m,L.T=d,Y1(a,s)}}function V1(a,s,h){s=Sn(h,s),s=Jp(a.stateNode,s,2),a=ua(a,s,2),a!==null&&(Ci(a,2),lr(a))}function Ce(a,s,h){if(a.tag===3)V1(a,a,h);else for(;s!==null;){if(s.tag===3){V1(s,a,h);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(va===null||!va.has(d))){a=Sn(h,a),h=Kb(2),d=ua(s,h,2),d!==null&&(Jb(h,d,s,a),Ci(d,2),lr(d));break}}s=s.return}}function kg(a,s,h){var d=a.pingCache;if(d===null){d=a.pingCache=new tL;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(h)||(gg=!0,m.add(h),a=aL.bind(null,a,s,h),s.then(a,a))}function aL(a,s,h){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,we===a&&(te&h)===h&&(Ie===4||Ie===3&&(te&62914560)===te&&300>ae()-xg?(pe&2)===0&&Co(a,0):mg|=h,vo===te&&(vo=0)),lr(a)}function X1(a,s){s===0&&(s=wr()),a=ro(a,s),a!==null&&(Ci(a,s),lr(a))}function sL(a){var s=a.memoizedState,h=0;s!==null&&(h=s.retryLane),X1(a,h)}function oL(a,s){var h=0;switch(a.tag){case 13:var d=a.stateNode,m=a.memoizedState;m!==null&&(h=m.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(s),X1(a,h)}function lL(a,s){return ue(a,s)}var xu=null,ko=null,Tg=!1,bu=!1,Ag=!1,cs=0;function lr(a){a!==ko&&a.next===null&&(ko===null?xu=ko=a:ko=ko.next=a),bu=!0,Tg||(Tg=!0,hL())}function Ql(a,s){if(!Ag&&bu){Ag=!0;do for(var h=!1,d=xu;d!==null;){if(a!==0){var m=d.pendingLanes;if(m===0)var b=0;else{var k=d.suspendedLanes,A=d.pingedLanes;b=(1<<31-di(42|a)+1)-1,b&=m&~(k&~A),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,J1(d,b))}else b=te,b=nn(d,d===we?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||rn(d,b)||(h=!0,J1(d,b));d=d.next}while(h);Ag=!1}}function cL(){Z1()}function Z1(){bu=Tg=!1;var a=0;cs!==0&&(xL()&&(a=cs),cs=0);for(var s=ae(),h=null,d=xu;d!==null;){var m=d.next,b=Q1(d,s);b===0?(d.next=null,h===null?xu=m:h.next=m,m===null&&(ko=h)):(h=d,(a!==0||(b&3)!==0)&&(bu=!0)),d=m}Ql(a)}function Q1(a,s){for(var h=a.suspendedLanes,d=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var k=31-di(b),A=1<<k,N=m[k];N===-1?((A&h)===0||(A&d)!==0)&&(m[k]=Ys(A,s)):N<=s&&(a.expiredLanes|=A),b&=~A}if(s=we,h=te,h=nn(a,a===s?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,h===0||a===s&&(ge===2||ge===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&_i(d),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||rn(a,h)){if(s=h&-h,s===a.callbackPriority)return s;switch(d!==null&&_i(d),vn(h)){case 2:case 8:h=na;break;case 32:h=bn;break;case 268435456:h=Cr;break;default:h=bn}return d=K1.bind(null,a),h=ue(h,d),a.callbackPriority=s,a.callbackNode=h,s}return d!==null&&d!==null&&_i(d),a.callbackPriority=2,a.callbackNode=null,2}function K1(a,s){if(mi!==0&&mi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(yu()&&a.callbackNode!==h)return null;var d=te;return d=nn(a,a===we?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(R1(a,d,s),Q1(a,ae()),a.callbackNode!=null&&a.callbackNode===h?K1.bind(null,a):null)}function J1(a,s){if(yu())return null;R1(a,s,!0)}function hL(){vL(function(){(pe&6)!==0?ue($n,cL):Z1()})}function Mg(){return cs===0&&(cs=Hn()),cs}function tv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Bh(""+a)}function ev(a,s){var h=s.ownerDocument.createElement("input");return h.name=s.name,h.value=s.value,a.id&&h.setAttribute("form",a.id),s.parentNode.insertBefore(h,s),a=new FormData(a),h.parentNode.removeChild(h),a}function uL(a,s,h,d,m){if(s==="submit"&&h&&h.stateNode===m){var b=tv((m[Ge]||null).action),k=d.submitter;k&&(s=(s=k[Ge]||null)?tv(s.formAction):k.getAttribute("formAction"),s!==null&&(b=s,k=null));var A=new Rh("action","action",null,d,m);a.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(cs!==0){var N=k?ev(m,k):new FormData(m);Vp(h,{pending:!0,data:N,method:m.method,action:b},null,N)}}else typeof b=="function"&&(A.preventDefault(),N=k?ev(m,k):new FormData(m),Vp(h,{pending:!0,data:N,method:m.method,action:b},b,N))},currentTarget:m}]})}}for(var Eg=0;Eg<dp.length;Eg++){var Bg=dp[Eg],fL=Bg.toLowerCase(),dL=Bg[0].toUpperCase()+Bg.slice(1);qn(fL,"on"+dL)}qn(Rx,"onAnimationEnd"),qn(zx,"onAnimationIteration"),qn(Nx,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(BB,"onTransitionRun"),qn(LB,"onTransitionStart"),qn(DB,"onTransitionCancel"),qn(Fx,"onTransitionEnd"),pt("onMouseEnter",["mouseout","mouseover"]),pt("onMouseLeave",["mouseout","mouseover"]),pt("onPointerEnter",["pointerout","pointerover"]),pt("onPointerLeave",["pointerout","pointerover"]),ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function iv(a,s){s=(s&4)!==0;for(var h=0;h<a.length;h++){var d=a[h],m=d.event;d=d.listeners;t:{var b=void 0;if(s)for(var k=d.length-1;0<=k;k--){var A=d[k],N=A.instance,X=A.currentTarget;if(A=A.listener,N!==b&&m.isPropagationStopped())break t;b=A,m.currentTarget=X;try{b(m)}catch(rt){su(rt)}m.currentTarget=null,b=N}else for(k=0;k<d.length;k++){if(A=d[k],N=A.instance,X=A.currentTarget,A=A.listener,N!==b&&m.isPropagationStopped())break t;b=A,m.currentTarget=X;try{b(m)}catch(rt){su(rt)}m.currentTarget=null,b=N}}}}function Qt(a,s){var h=s[on];h===void 0&&(h=s[on]=new Set);var d=a+"__bubble";h.has(d)||(nv(s,a,2,!1),h.add(d))}function Lg(a,s,h){var d=0;s&&(d|=4),nv(h,a,d,s)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Dg(a){if(!a[vu]){a[vu]=!0,kt.forEach(function(h){h!=="selectionchange"&&(pL.has(h)||Lg(h,!1,a),Lg(h,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[vu]||(s[vu]=!0,Lg("selectionchange",!1,s))}}function nv(a,s,h,d){switch(Av(s)){case 2:var m=IL;break;case 8:m=PL;break;default:m=Yg}h=m.bind(null,s,h,a),m=void 0,!tp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?a.addEventListener(s,h,{capture:!0,passive:m}):a.addEventListener(s,h,!0):m!==void 0?a.addEventListener(s,h,{passive:m}):a.addEventListener(s,h,!1)}function Og(a,s,h,d,m){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)t:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var A=d.stateNode.containerInfo;if(A===m)break;if(k===4)for(k=d.return;k!==null;){var N=k.tag;if((N===3||N===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;A!==null;){if(k=In(A),k===null)return;if(N=k.tag,N===5||N===6||N===26||N===27){d=b=k;continue t}A=A.parentNode}}d=d.return}hx(function(){var X=b,rt=Kd(h),ot=[];t:{var Z=$x.get(a);if(Z!==void 0){var Q=Rh,Pt=a;switch(a){case"keypress":if(Dh(h)===0)break t;case"keydown":case"keyup":Q=lB;break;case"focusin":Pt="focus",Q=rp;break;case"focusout":Pt="blur",Q=rp;break;case"beforeblur":case"afterblur":Q=rp;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ZE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=uB;break;case Rx:case zx:case Nx:Q=JE;break;case Fx:Q=dB;break;case"scroll":case"scrollend":Q=VE;break;case"wheel":Q=gB;break;case"copy":case"cut":case"paste":Q=eB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=gx;break;case"toggle":case"beforetoggle":Q=yB}var Nt=(s&4)!==0,ve=!Nt&&(a==="scroll"||a==="scrollend"),U=Nt?Z!==null?Z+"Capture":null:Z;Nt=[];for(var $=X,V;$!==null;){var at=$;if(V=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||V===null||U===null||(at=yl($,U),at!=null&&Nt.push(Jl($,at,V))),ve)break;$=$.return}0<Nt.length&&(Z=new Q(Z,Pt,null,h,rt),ot.push({event:Z,listeners:Nt}))}}if((s&7)===0){t:{if(Z=a==="mouseover"||a==="pointerover",Q=a==="mouseout"||a==="pointerout",Z&&h!==Qd&&(Pt=h.relatedTarget||h.fromElement)&&(In(Pt)||Pt[Qe]))break t;if((Q||Z)&&(Z=rt.window===rt?rt:(Z=rt.ownerDocument)?Z.defaultView||Z.parentWindow:window,Q?(Pt=h.relatedTarget||h.toElement,Q=X,Pt=Pt?In(Pt):null,Pt!==null&&(ve=o(Pt),Nt=Pt.tag,Pt!==ve||Nt!==5&&Nt!==27&&Nt!==6)&&(Pt=null)):(Q=null,Pt=X),Q!==Pt)){if(Nt=dx,at="onMouseLeave",U="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Nt=gx,at="onPointerLeave",U="onPointerEnter",$="pointer"),ve=Q==null?Z:nr(Q),V=Pt==null?Z:nr(Pt),Z=new Nt(at,$+"leave",Q,h,rt),Z.target=ve,Z.relatedTarget=V,at=null,In(rt)===X&&(Nt=new Nt(U,$+"enter",Pt,h,rt),Nt.target=V,Nt.relatedTarget=ve,at=Nt),ve=at,Q&&Pt)e:{for(Nt=Q,U=Pt,$=0,V=Nt;V;V=To(V))$++;for(V=0,at=U;at;at=To(at))V++;for(;0<$-V;)Nt=To(Nt),$--;for(;0<V-$;)U=To(U),V--;for(;$--;){if(Nt===U||U!==null&&Nt===U.alternate)break e;Nt=To(Nt),U=To(U)}Nt=null}else Nt=null;Q!==null&&rv(ot,Z,Q,Nt,!1),Pt!==null&&ve!==null&&rv(ot,ve,Pt,Nt,!0)}}t:{if(Z=X?nr(X):window,Q=Z.nodeName&&Z.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Z.type==="file")var vt=Cx;else if(_x(Z))if(wx)vt=AB;else{vt=kB;var Xt=wB}else Q=Z.nodeName,!Q||Q.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Zd(X.elementType)&&(vt=Cx):vt=TB;if(vt&&(vt=vt(a,X))){Sx(ot,vt,h,rt);break t}Xt&&Xt(a,Z,X),a==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&ml(Z,"number",Z.value)}switch(Xt=X?nr(X):window,a){case"focusin":(_x(Xt)||Xt.contentEditable==="true")&&(eo=Xt,hp=X,kl=null);break;case"focusout":kl=hp=eo=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,Dx(ot,h,rt);break;case"selectionchange":if(EB)break;case"keydown":case"keyup":Dx(ot,h,rt)}var Lt;if(sp)t:{switch(a){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else to?bx(a,h)&&(Ft="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ft="onCompositionStart");Ft&&(mx&&h.locale!=="ko"&&(to||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&to&&(Lt=ux()):(oa=rt,ep="value"in oa?oa.value:oa.textContent,to=!0)),Xt=_u(X,Ft),0<Xt.length&&(Ft=new px(Ft,a,null,h,rt),ot.push({event:Ft,listeners:Xt}),Lt?Ft.data=Lt:(Lt=vx(h),Lt!==null&&(Ft.data=Lt)))),(Lt=bB?vB(a,h):_B(a,h))&&(Ft=_u(X,"onBeforeInput"),0<Ft.length&&(Xt=new px("onBeforeInput","beforeinput",null,h,rt),ot.push({event:Xt,listeners:Ft}),Xt.data=Lt)),uL(ot,a,X,h,rt)}iv(ot,s)})}function Jl(a,s,h){return{instance:a,listener:s,currentTarget:h}}function _u(a,s){for(var h=s+"Capture",d=[];a!==null;){var m=a,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=yl(a,h),m!=null&&d.unshift(Jl(a,m,b)),m=yl(a,s),m!=null&&d.push(Jl(a,m,b))),a.tag===3)return d;a=a.return}return[]}function To(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function rv(a,s,h,d,m){for(var b=s._reactName,k=[];h!==null&&h!==d;){var A=h,N=A.alternate,X=A.stateNode;if(A=A.tag,N!==null&&N===d)break;A!==5&&A!==26&&A!==27||X===null||(N=X,m?(X=yl(h,b),X!=null&&k.unshift(Jl(h,X,N))):m||(X=yl(h,b),X!=null&&k.push(Jl(h,X,N)))),h=h.return}k.length!==0&&a.push({event:s,listeners:k})}var gL=/\r\n?/g,mL=/\u0000|\uFFFD/g;function av(a){return(typeof a=="string"?a:""+a).replace(gL,`
`).replace(mL,"")}function sv(a,s){return s=av(s),av(a)===s}function Su(){}function be(a,s,h,d,m,b){switch(h){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Qs(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Qs(a,""+d);break;case"className":_n(a,"class",d);break;case"tabIndex":_n(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(a,h,d);break;case"style":lx(a,d,b);break;case"data":if(s!=="object"){_n(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||h!=="href")){a.removeAttribute(h);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=Bh(""+d),a.setAttribute(h,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(s!=="input"&&be(a,s,"name",m.name,m,null),be(a,s,"formEncType",m.formEncType,m,null),be(a,s,"formMethod",m.formMethod,m,null),be(a,s,"formTarget",m.formTarget,m,null)):(be(a,s,"encType",m.encType,m,null),be(a,s,"method",m.method,m,null),be(a,s,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=Bh(""+d),a.setAttribute(h,d);break;case"onClick":d!=null&&(a.onclick=Su);break;case"onScroll":d!=null&&Qt("scroll",a);break;case"onScrollEnd":d!=null&&Qt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(h=d.__html,h!=null){if(m.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}h=Bh(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""+d):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":d===!0?a.setAttribute(h,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,d):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(h,d):a.removeAttribute(h);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(h):a.setAttribute(h,d);break;case"popover":Qt("beforetoggle",a),Qt("toggle",a),wi(a,"popover",d);break;case"xlinkActuate":zi(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":zi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":zi(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":zi(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":zi(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":zi(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":zi(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":zi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":zi(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":wi(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=YE.get(h)||h,wi(a,h,d))}}function Rg(a,s,h,d,m,b){switch(h){case"style":lx(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(h=d.__html,h!=null){if(m.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof d=="string"?Qs(a,d):(typeof d=="number"||typeof d=="bigint")&&Qs(a,""+d);break;case"onScroll":d!=null&&Qt("scroll",a);break;case"onScrollEnd":d!=null&&Qt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(m=h.endsWith("Capture"),s=h.slice(2,m?h.length-7:void 0),b=a[Ge]||null,b=b!=null?b[h]:null,typeof b=="function"&&a.removeEventListener(s,b,m),typeof d=="function")){typeof b!="function"&&b!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(s,d,m);break t}h in a?a[h]=d:d===!0?a.setAttribute(h,""):wi(a,h,d)}}}function yi(a,s,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",a),Qt("load",a);var d=!1,m=!1,b;for(b in h)if(h.hasOwnProperty(b)){var k=h[b];if(k!=null)switch(b){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:be(a,s,b,k,h,null)}}m&&be(a,s,"srcSet",h.srcSet,h,null),d&&be(a,s,"src",h.src,h,null);return;case"input":Qt("invalid",a);var A=b=k=m=null,N=null,X=null;for(d in h)if(h.hasOwnProperty(d)){var rt=h[d];if(rt!=null)switch(d){case"name":m=rt;break;case"type":k=rt;break;case"checked":N=rt;break;case"defaultChecked":X=rt;break;case"value":b=rt;break;case"defaultValue":A=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,s));break;default:be(a,s,d,rt,h,null)}}Xs(a,b,A,N,X,k,m,!1),Me(a);return;case"select":Qt("invalid",a),d=k=b=null;for(m in h)if(h.hasOwnProperty(m)&&(A=h[m],A!=null))switch(m){case"value":b=A;break;case"defaultValue":k=A;break;case"multiple":d=A;default:be(a,s,m,A,h,null)}s=b,h=k,a.multiple=!!d,s!=null?Zs(a,!!d,s,!1):h!=null&&Zs(a,!!d,h,!0);return;case"textarea":Qt("invalid",a),b=m=d=null;for(k in h)if(h.hasOwnProperty(k)&&(A=h[k],A!=null))switch(k){case"value":d=A;break;case"defaultValue":m=A;break;case"children":b=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:be(a,s,k,A,h,null)}sx(a,d,m,b),Me(a);return;case"option":for(N in h)if(h.hasOwnProperty(N)&&(d=h[N],d!=null))switch(N){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:be(a,s,N,d,h,null)}return;case"dialog":Qt("beforetoggle",a),Qt("toggle",a),Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":Qt("load",a);break;case"video":case"audio":for(d=0;d<Kl.length;d++)Qt(Kl[d],a);break;case"image":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"embed":case"source":case"link":Qt("error",a),Qt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in h)if(h.hasOwnProperty(X)&&(d=h[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:be(a,s,X,d,h,null)}return;default:if(Zd(s)){for(rt in h)h.hasOwnProperty(rt)&&(d=h[rt],d!==void 0&&Rg(a,s,rt,d,h,void 0));return}}for(A in h)h.hasOwnProperty(A)&&(d=h[A],d!=null&&be(a,s,A,d,h,null))}function yL(a,s,h,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,k=null,A=null,N=null,X=null,rt=null;for(Q in h){var ot=h[Q];if(h.hasOwnProperty(Q)&&ot!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ot;default:d.hasOwnProperty(Q)||be(a,s,Q,null,d,ot)}}for(var Z in d){var Q=d[Z];if(ot=h[Z],d.hasOwnProperty(Z)&&(Q!=null||ot!=null))switch(Z){case"type":b=Q;break;case"name":m=Q;break;case"checked":X=Q;break;case"defaultChecked":rt=Q;break;case"value":k=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,s));break;default:Q!==ot&&be(a,s,Z,Q,d,ot)}}Ga(a,k,A,N,X,rt,b,m);return;case"select":Q=k=A=Z=null;for(b in h)if(N=h[b],h.hasOwnProperty(b)&&N!=null)switch(b){case"value":break;case"multiple":Q=N;default:d.hasOwnProperty(b)||be(a,s,b,null,d,N)}for(m in d)if(b=d[m],N=h[m],d.hasOwnProperty(m)&&(b!=null||N!=null))switch(m){case"value":Z=b;break;case"defaultValue":A=b;break;case"multiple":k=b;default:b!==N&&be(a,s,m,b,d,N)}s=A,h=k,d=Q,Z!=null?Zs(a,!!h,Z,!1):!!d!=!!h&&(s!=null?Zs(a,!!h,s,!0):Zs(a,!!h,h?[]:"",!1));return;case"textarea":Q=Z=null;for(A in h)if(m=h[A],h.hasOwnProperty(A)&&m!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:be(a,s,A,null,d,m)}for(k in d)if(m=d[k],b=h[k],d.hasOwnProperty(k)&&(m!=null||b!=null))switch(k){case"value":Z=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==b&&be(a,s,k,m,d,b)}ax(a,Z,Q);return;case"option":for(var Pt in h)if(Z=h[Pt],h.hasOwnProperty(Pt)&&Z!=null&&!d.hasOwnProperty(Pt))switch(Pt){case"selected":a.selected=!1;break;default:be(a,s,Pt,null,d,Z)}for(N in d)if(Z=d[N],Q=h[N],d.hasOwnProperty(N)&&Z!==Q&&(Z!=null||Q!=null))switch(N){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:be(a,s,N,Z,d,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in h)Z=h[Nt],h.hasOwnProperty(Nt)&&Z!=null&&!d.hasOwnProperty(Nt)&&be(a,s,Nt,null,d,Z);for(X in d)if(Z=d[X],Q=h[X],d.hasOwnProperty(X)&&Z!==Q&&(Z!=null||Q!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,s));break;default:be(a,s,X,Z,d,Q)}return;default:if(Zd(s)){for(var ve in h)Z=h[ve],h.hasOwnProperty(ve)&&Z!==void 0&&!d.hasOwnProperty(ve)&&Rg(a,s,ve,void 0,d,Z);for(rt in d)Z=d[rt],Q=h[rt],!d.hasOwnProperty(rt)||Z===Q||Z===void 0&&Q===void 0||Rg(a,s,rt,Z,d,Q);return}}for(var U in h)Z=h[U],h.hasOwnProperty(U)&&Z!=null&&!d.hasOwnProperty(U)&&be(a,s,U,null,d,Z);for(ot in d)Z=d[ot],Q=h[ot],!d.hasOwnProperty(ot)||Z===Q||Z==null&&Q==null||be(a,s,ot,Z,d,Q)}var zg=null,Ng=null;function Cu(a){return a.nodeType===9?a:a.ownerDocument}function ov(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Fg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $g=null;function xL(){var a=window.event;return a&&a.type==="popstate"?a===$g?!1:($g=a,!0):($g=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,bL=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,vL=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(a){return hv.resolve(null).then(a).catch(_L)}:cv;function _L(a){setTimeout(function(){throw a})}function Ca(a){return a==="head"}function uv(a,s){var h=s,d=0,m=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(0<d&&8>d){h=d;var k=a.ownerDocument;if(h&1&&tc(k.documentElement),h&2&&tc(k.body),h&4)for(h=k.head,tc(h),k=h.firstChild;k;){var A=k.nextSibling,N=k.nodeName;k[ir]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=A}}if(m===0){a.removeChild(b),lc(s);return}m--}else h==="$"||h==="$?"||h==="$!"?m++:d=h.charCodeAt(0)-48;else d=0;h=b}while(h);lc(s)}function jg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var h=s;switch(s=s.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":jg(h),Oi(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function SL(a,s,h,d){for(;a.nodeType===1;){var m=h;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ir])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Wn(a.nextSibling),a===null)break}return null}function CL(a,s,h){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Wn(a.nextSibling),a===null))return null;return a}function Hg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function wL(a,s){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")s();else{var d=function(){s(),h.removeEventListener("DOMContentLoaded",d)};h.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Wn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var Ig=null;function fv(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return a;s--}else h==="/$"&&s++}a=a.previousSibling}return null}function dv(a,s,h){switch(s=Cu(h),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function tc(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Oi(a)}var Mn=new Map,pv=new Set;function wu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var $r=F.d;F.d={f:kL,r:TL,D:AL,C:ML,L:EL,m:BL,X:DL,S:LL,M:OL};function kL(){var a=$r.f(),s=gu();return a||s}function TL(a){var s=Ri(a);s!==null&&s.tag===5&&s.type==="form"?Rb(s):$r.r(a)}var Ao=typeof document>"u"?null:document;function gv(a,s,h){var d=Ao;if(d&&typeof s=="string"&&s){var m=je(s);m='link[rel="'+a+'"][href="'+m+'"]',typeof h=="string"&&(m+='[crossorigin="'+h+'"]'),pv.has(m)||(pv.add(m),a={rel:a,crossOrigin:h,href:s},d.querySelector(m)===null&&(s=d.createElement("link"),yi(s,"link",a),$e(s),d.head.appendChild(s)))}}function AL(a){$r.D(a),gv("dns-prefetch",a,null)}function ML(a,s){$r.C(a,s),gv("preconnect",a,s)}function EL(a,s,h){$r.L(a,s,h);var d=Ao;if(d&&a&&s){var m='link[rel="preload"][as="'+je(s)+'"]';s==="image"&&h&&h.imageSrcSet?(m+='[imagesrcset="'+je(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(m+='[imagesizes="'+je(h.imageSizes)+'"]')):m+='[href="'+je(a)+'"]';var b=m;switch(s){case"style":b=Mo(a);break;case"script":b=Eo(a)}Mn.has(b)||(a=p({rel:"preload",href:s==="image"&&h&&h.imageSrcSet?void 0:a,as:s},h),Mn.set(b,a),d.querySelector(m)!==null||s==="style"&&d.querySelector(ec(b))||s==="script"&&d.querySelector(ic(b))||(s=d.createElement("link"),yi(s,"link",a),$e(s),d.head.appendChild(s)))}}function BL(a,s){$r.m(a,s);var h=Ao;if(h&&a){var d=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+je(d)+'"][href="'+je(a)+'"]',b=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Eo(a)}if(!Mn.has(b)&&(a=p({rel:"modulepreload",href:a},s),Mn.set(b,a),h.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ic(b)))return}d=h.createElement("link"),yi(d,"link",a),$e(d),h.head.appendChild(d)}}}function LL(a,s,h){$r.S(a,s,h);var d=Ao;if(d&&a){var m=Pn(d).hoistableStyles,b=Mo(a);s=s||"default";var k=m.get(b);if(!k){var A={loading:0,preload:null};if(k=d.querySelector(ec(b)))A.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},h),(h=Mn.get(b))&&Pg(a,h);var N=k=d.createElement("link");$e(N),yi(N,"link",a),N._p=new Promise(function(X,rt){N.onload=X,N.onerror=rt}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ku(k,s,d)}k={type:"stylesheet",instance:k,count:1,state:A},m.set(b,k)}}}function DL(a,s){$r.X(a,s);var h=Ao;if(h&&a){var d=Pn(h).hoistableScripts,m=Eo(a),b=d.get(m);b||(b=h.querySelector(ic(m)),b||(a=p({src:a,async:!0},s),(s=Mn.get(m))&&qg(a,s),b=h.createElement("script"),$e(b),yi(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function OL(a,s){$r.M(a,s);var h=Ao;if(h&&a){var d=Pn(h).hoistableScripts,m=Eo(a),b=d.get(m);b||(b=h.querySelector(ic(m)),b||(a=p({src:a,async:!0,type:"module"},s),(s=Mn.get(m))&&qg(a,s),b=h.createElement("script"),$e(b),yi(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function mv(a,s,h,d){var m=(m=st.current)?wu(m):null;if(!m)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(s=Mo(h.href),h=Pn(m).hoistableStyles,d=h.get(s),d||(d={type:"style",instance:null,count:0,state:null},h.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Mo(h.href);var b=Pn(m).hoistableStyles,k=b.get(a);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,k),(b=m.querySelector(ec(a)))&&!b._p&&(k.instance=b,k.state.loading=5),Mn.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Mn.set(a,h),b||RL(m,a,h,k.state))),s&&d===null)throw Error(n(528,""));return k}if(s&&d!==null)throw Error(n(529,""));return null;case"script":return s=h.async,h=h.src,typeof h=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Eo(h),h=Pn(m).hoistableScripts,d=h.get(s),d||(d={type:"script",instance:null,count:0,state:null},h.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Mo(a){return'href="'+je(a)+'"'}function ec(a){return'link[rel="stylesheet"]['+a+"]"}function yv(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function RL(a,s,h,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),yi(s,"link",h),$e(s),a.head.appendChild(s))}function Eo(a){return'[src="'+je(a)+'"]'}function ic(a){return"script[async]"+a}function xv(a,s,h){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+je(h.href)+'"]');if(d)return s.instance=d,$e(d),d;var m=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),$e(d),yi(d,"style",m),ku(d,h.precedence,a),s.instance=d;case"stylesheet":m=Mo(h.href);var b=a.querySelector(ec(m));if(b)return s.state.loading|=4,s.instance=b,$e(b),b;d=yv(h),(m=Mn.get(m))&&Pg(d,m),b=(a.ownerDocument||a).createElement("link"),$e(b);var k=b;return k._p=new Promise(function(A,N){k.onload=A,k.onerror=N}),yi(b,"link",d),s.state.loading|=4,ku(b,h.precedence,a),s.instance=b;case"script":return b=Eo(h.src),(m=a.querySelector(ic(b)))?(s.instance=m,$e(m),m):(d=h,(m=Mn.get(b))&&(d=p({},h),qg(d,m)),a=a.ownerDocument||a,m=a.createElement("script"),$e(m),yi(m,"link",d),a.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,ku(d,h.precedence,a));return s.instance}function ku(a,s,h){for(var d=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,b=m,k=0;k<d.length;k++){var A=d[k];if(A.dataset.precedence===s)b=A;else if(b!==m)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=h.nodeType===9?h.head:h,s.insertBefore(a,s.firstChild))}function Pg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function qg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Tu=null;function bv(a,s,h){if(Tu===null){var d=new Map,m=Tu=new Map;m.set(h,d)}else m=Tu,d=m.get(h),d||(d=new Map,m.set(h,d));if(d.has(a))return d;for(d.set(a,null),h=h.getElementsByTagName(a),m=0;m<h.length;m++){var b=h[m];if(!(b[ir]||b[Se]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(s)||"";k=a+k;var A=d.get(k);A?A.push(b):d.set(k,[b])}}return d}function vv(a,s,h){a=a.ownerDocument||a,a.head.insertBefore(h,s==="title"?a.querySelector("head > title"):null)}function zL(a,s,h){if(h===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _v(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var nc=null;function NL(){}function FL(a,s,h){if(nc===null)throw Error(n(475));var d=nc;if(s.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Mo(h.href),b=a.querySelector(ec(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=Au.bind(d),a.then(d,d)),s.state.loading|=4,s.instance=b,$e(b);return}b=a.ownerDocument||a,h=yv(h),(m=Mn.get(m))&&Pg(h,m),b=b.createElement("link"),$e(b);var k=b;k._p=new Promise(function(A,N){k.onload=A,k.onerror=N}),yi(b,"link",h),s.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=Au.bind(d),a.addEventListener("load",s),a.addEventListener("error",s))}}function $L(){if(nc===null)throw Error(n(475));var a=nc;return a.stylesheets&&a.count===0&&Ug(a,a.stylesheets),0<a.count?function(s){var h=setTimeout(function(){if(a.stylesheets&&Ug(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Au(){if(this.count--,this.count===0){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Mu=null;function Ug(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Mu=new Map,s.forEach(jL,a),Mu=null,Au.call(a))}function jL(a,s){if(!(s.state.loading&4)){var h=Mu.get(a);if(h)var d=h.get(null);else{h=new Map,Mu.set(a,h);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var k=m[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(h.set(k.dataset.precedence,k),d=k)}d&&h.set(null,d)}m=s.instance,k=m.getAttribute("data-precedence"),b=h.get(k)||d,b===d&&h.set(null,m),h.set(k,m),this.count++,d=Au.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),b?b.parentNode.insertBefore(m,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),s.state.loading|=4}}var rc={$$typeof:M,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function HL(a,s,h,d,m,b,k,A){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Sv(a,s,h,d,m,b,k,A,N,X,rt,ot){return a=new HL(a,s,h,k,A,N,X,ot),s=1,b===!0&&(s|=24),b=cn(3,null,null,s),a.current=b,b.stateNode=a,s=kp(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:h,cache:s},Ep(b),a}function Cv(a){return a?(a=ao,a):ao}function wv(a,s,h,d,m,b){m=Cv(m),d.context===null?d.context=m:d.pendingContext=m,d=ha(s),d.payload={element:h},b=b===void 0?null:b,b!==null&&(d.callback=b),h=ua(a,d,s),h!==null&&(pn(h,a,s),Rl(h,a,s))}function kv(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<s?h:s}}function Wg(a,s){kv(a,s),(a=a.alternate)&&kv(a,s)}function Tv(a){if(a.tag===13){var s=ro(a,67108864);s!==null&&pn(s,a,67108864),Wg(a,67108864)}}var Eu=!0;function IL(a,s,h,d){var m=L.T;L.T=null;var b=F.p;try{F.p=2,Yg(a,s,h,d)}finally{F.p=b,L.T=m}}function PL(a,s,h,d){var m=L.T;L.T=null;var b=F.p;try{F.p=8,Yg(a,s,h,d)}finally{F.p=b,L.T=m}}function Yg(a,s,h,d){if(Eu){var m=Gg(d);if(m===null)Og(a,s,d,Bu,h),Mv(a,d);else if(UL(m,a,s,h,d))d.stopPropagation();else if(Mv(a,d),s&4&&-1<qL.indexOf(a)){for(;m!==null;){var b=Ri(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=pi(b.pendingLanes);if(k!==0){var A=b;for(A.pendingLanes|=2,A.entangledLanes|=2;k;){var N=1<<31-di(k);A.entanglements[1]|=N,k&=~N}lr(b),(pe&6)===0&&(du=ae()+500,Ql(0))}}break;case 13:A=ro(b,2),A!==null&&pn(A,b,2),gu(),Wg(b,2)}if(b=Gg(d),b===null&&Og(a,s,d,Bu,h),b===m)break;m=b}m!==null&&d.stopPropagation()}else Og(a,s,d,null,h)}}function Gg(a){return a=Kd(a),Vg(a)}var Bu=null;function Vg(a){if(Bu=null,a=In(a),a!==null){var s=o(a);if(s===null)a=null;else{var h=s.tag;if(h===13){if(a=l(s),a!==null)return a;a=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Bu=a,null}function Av(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case $n:return 2;case na:return 8;case bn:case Us:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var Xg=!1,wa=null,ka=null,Ta=null,ac=new Map,sc=new Map,Aa=[],qL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(a,s){switch(a){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":ac.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(s.pointerId)}}function oc(a,s,h,d,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:h,eventSystemFlags:d,nativeEvent:b,targetContainers:[m]},s!==null&&(s=Ri(s),s!==null&&Tv(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),a)}function UL(a,s,h,d,m){switch(s){case"focusin":return wa=oc(wa,a,s,h,d,m),!0;case"dragenter":return ka=oc(ka,a,s,h,d,m),!0;case"mouseover":return Ta=oc(Ta,a,s,h,d,m),!0;case"pointerover":var b=m.pointerId;return ac.set(b,oc(ac.get(b)||null,a,s,h,d,m)),!0;case"gotpointercapture":return b=m.pointerId,sc.set(b,oc(sc.get(b)||null,a,s,h,d,m)),!0}return!1}function Ev(a){var s=In(a.target);if(s!==null){var h=o(s);if(h!==null){if(s=h.tag,s===13){if(s=l(h),s!==null){a.blockedOn=s,Ya(a.priority,function(){if(h.tag===13){var d=dn();d=an(d);var m=ro(h,d);m!==null&&pn(m,h,d),Wg(h,d)}});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lu(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var h=Gg(a.nativeEvent);if(h===null){h=a.nativeEvent;var d=new h.constructor(h.type,h);Qd=d,h.target.dispatchEvent(d),Qd=null}else return s=Ri(h),s!==null&&Tv(s),a.blockedOn=h,!1;s.shift()}return!0}function Bv(a,s,h){Lu(a)&&h.delete(s)}function WL(){Xg=!1,wa!==null&&Lu(wa)&&(wa=null),ka!==null&&Lu(ka)&&(ka=null),Ta!==null&&Lu(Ta)&&(Ta=null),ac.forEach(Bv),sc.forEach(Bv)}function Du(a,s){a.blockedOn===s&&(a.blockedOn=null,Xg||(Xg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WL)))}var Ou=null;function Lv(a){Ou!==a&&(Ou=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ou===a&&(Ou=null);for(var s=0;s<a.length;s+=3){var h=a[s],d=a[s+1],m=a[s+2];if(typeof d!="function"){if(Vg(d||h)===null)continue;break}var b=Ri(h);b!==null&&(a.splice(s,3),s-=3,Vp(b,{pending:!0,data:m,method:h.method,action:d},d,m))}}))}function lc(a){function s(N){return Du(N,a)}wa!==null&&Du(wa,a),ka!==null&&Du(ka,a),Ta!==null&&Du(Ta,a),ac.forEach(s),sc.forEach(s);for(var h=0;h<Aa.length;h++){var d=Aa[h];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Aa.length&&(h=Aa[0],h.blockedOn===null);)Ev(h),h.blockedOn===null&&Aa.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(d=0;d<h.length;d+=3){var m=h[d],b=h[d+1],k=m[Ge]||null;if(typeof b=="function")k||Lv(h);else if(k){var A=null;if(b&&b.hasAttribute("formAction")){if(m=b,k=b[Ge]||null)A=k.formAction;else if(Vg(m)!==null)continue}else A=k.action;typeof A=="function"?h[d+1]=A:(h.splice(d,3),d-=3),Lv(h)}}}function Zg(a){this._internalRoot=a}Ru.prototype.render=Zg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var h=s.current,d=dn();wv(h,d,a,s,null,null)},Ru.prototype.unmount=Zg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;wv(a.current,2,null,a,null,null),gu(),s[Qe]=null}};function Ru(a){this._internalRoot=a}Ru.prototype.unstable_scheduleHydration=function(a){if(a){var s=Wa();a={blockedOn:null,target:a,priority:s};for(var h=0;h<Aa.length&&s!==0&&s<Aa[h].priority;h++);Aa.splice(h,0,a),h===0&&Ev(a)}};var Dv=t.version;if(Dv!=="19.1.0")throw Error(n(527,Dv,"19.1.0"));F.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=u(s),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var YL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{fi=zu.inject(YL),Le=zu}catch{}}return cc.createRoot=function(a,s){if(!r(a))throw Error(n(299));var h=!1,d="",m=Vb,b=Xb,k=Zb,A=null;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=Sv(a,1,!1,null,null,h,d,m,b,k,A,null),a[Qe]=s.current,Dg(a),new Zg(s)},cc.hydrateRoot=function(a,s,h){if(!r(a))throw Error(n(299));var d=!1,m="",b=Vb,k=Xb,A=Zb,N=null,X=null;return h!=null&&(h.unstable_strictMode===!0&&(d=!0),h.identifierPrefix!==void 0&&(m=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(k=h.onCaughtError),h.onRecoverableError!==void 0&&(A=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(N=h.unstable_transitionCallbacks),h.formState!==void 0&&(X=h.formState)),s=Sv(a,1,!0,s,h??null,d,m,b,k,A,N,X),s.context=Cv(null),h=s.current,d=dn(),d=an(d),m=ha(d),m.callback=null,ua(h,m,d),h=d,s.current.lanes=h,Ci(s,h),lr(s),a[Qe]=s.current,Dg(a),new Ru(s)},cc.version="19.1.0",cc}var Hv;function i3(){if(Hv)return Kg.exports;Hv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kg.exports=e3(),Kg.exports}var n3=i3(),im={exports:{}},hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function r3(){if(Iv)return hc;Iv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:e,type:n,key:l,ref:r!==void 0?r:null,props:o}}return hc.Fragment=t,hc.jsx=i,hc.jsxs=i,hc}var Pv;function a3(){return Pv||(Pv=1,im.exports=r3()),im.exports}var B=a3();const qv=8e3,Uv=100,Wv=["#FFB300","#039BE5","#8BC34A","#E91E63","#FF7043","#7E57C2","#00BFAE","#F4511E"],s3=[{name:"小明",money:8e3,power:100},{name:"小華",money:12e3,power:85},{name:"小美",money:15e3,power:95},{name:"小強",money:1e4,power:90},{name:"小芳",money:18e3,power:80}];function Yv(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Gv(e,t){const i=e.map(l=>l.join(",")).join(`
`),n=new Blob([i],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),o=URL.createObjectURL(n);r.setAttribute("href",o),r.setAttribute("download",t),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}function o3(e){const t=e.split(`
`).filter(r=>r.trim()),i=t[0].split(",").map(r=>r.trim());return t.slice(1).map(r=>{const o=r.split(",").map(c=>c.trim()),l={};return i.forEach((c,u)=>{l[c]=o[u]||""}),l})}function l3({onStart:e,onLoadPreset:t}){const[i,n]=xt.useState(s3),[r,o]=xt.useState(""),l=(v,_,S)=>{const w=[...i];w[v][_]=S,n(w)},c=()=>{n([...i,{name:"",money:qv,power:Uv}])},u=v=>{i.length>1&&n(i.filter((_,S)=>S!==v))},f=v=>{const _=[...i];_[v].money=Yv(1e3,5e4),_[v].power=Yv(10,200),n(_)},p=()=>{Gv([["name","money","power"],["小明","8000","100"],["小華","12000","85"],["小美","15000","95"]],"players_template.csv")},g=()=>{const v=[["name","money","power"],...i.map(_=>[_.name,_.money,_.power])];Gv(v,"players_data.csv")},y=v=>{const _=v.target.files[0];if(!_)return;const S=new FileReader;S.onload=w=>{try{const T=w.target.result,z=o3(T).filter(D=>D.name&&D.money&&D.power).map(D=>({name:D.name.trim(),money:Math.max(0,parseInt(D.money)||qv),power:Math.max(1,parseInt(D.power)||Uv)}));if(z.length===0){alert("CSV 檔案格式錯誤或沒有有效的玩家資料");return}n(z),alert(`成功匯入 ${z.length} 個玩家資料`)}catch(T){console.error("CSV 解析錯誤:",T),alert("CSV 檔案格式錯誤，請檢查檔案內容")}},S.readAsText(_),v.target.value=""},x=v=>{if(v.preventDefault(),i.every(_=>_.name.trim()&&_.money&&_.power)){const _=i.map((S,w)=>({...S,name:S.name.trim(),money:Number(S.money),power:Number(S.power),color:Wv[w%Wv.length]}));e(_,r)}};return B.jsxs("div",{className:"character-setup",children:[B.jsx("h2",{children:"建立你的角色（可多位玩家）"}),B.jsxs("div",{style:{marginBottom:20,padding:"16px",background:"#fff3e0",borderRadius:"8px",border:"1px solid #ffb74d"},children:[B.jsx("h3",{style:{margin:"0 0 12px 0",color:"#e65100"},children:"🔐 管理員密碼設置"}),B.jsx("p",{style:{margin:"0 0 12px 0",color:"#666",fontSize:"14px"},children:"設置管理員密碼，只有知道密碼的人才能成為遊戲管理者（MC）"}),B.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:B.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[B.jsx("span",{style:{fontWeight:600,color:"#e65100"},children:"管理員密碼："}),B.jsx("input",{type:"password",value:r,onChange:v=>o(v.target.value),placeholder:"請輸入管理員密碼",style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",minWidth:"200px"}})]})}),B.jsx("p",{style:{margin:"8px 0 0 0",color:"#666",fontSize:"12px"},children:"💡 提示：密碼用於驗證管理員身份，建議設置一個容易記住的密碼"})]}),t&&B.jsxs("div",{style:{marginBottom:16,padding:"12px",background:"#f3e5f5",borderRadius:"8px",display:"flex",alignItems:"center"},children:[B.jsx("span",{style:{fontWeight:600,color:"#8e24aa",marginRight:"8px"},children:"預設功能："}),B.jsx("button",{type:"button",onClick:()=>{console.log("載入預設設定按鈕被點擊"),t()},style:{background:"#8e24aa",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 12px",fontWeight:600,cursor:"pointer",fontSize:"14px"},children:"⚙️ 載入預設設定"})]}),B.jsxs("div",{style:{marginBottom:16,padding:"12px",background:"#f5f5f5",borderRadius:"8px",display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[B.jsx("span",{style:{fontWeight:600,color:"#333",marginRight:"8px"},children:"CSV 功能："}),B.jsx("button",{type:"button",onClick:p,style:{background:"#4CAF50",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 12px",fontWeight:600,cursor:"pointer",fontSize:"14px"},children:"📥 下載範本"}),B.jsxs("label",{style:{background:"#2196F3",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 12px",fontWeight:600,cursor:"pointer",fontSize:"14px",display:"inline-block"},children:["📤 匯入 CSV",B.jsx("input",{type:"file",accept:".csv",onChange:y,style:{display:"none"}})]}),B.jsx("button",{type:"button",onClick:g,style:{background:"#FF9800",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 12px",fontWeight:600,cursor:"pointer",fontSize:"14px"},children:"📋 匯出資料"})]}),B.jsxs("div",{style:{marginBottom:16,padding:"8px 12px",background:"#e3f2fd",borderRadius:"4px",fontSize:"14px",color:"#1976d2"},children:[B.jsx("strong",{children:"使用說明："}),B.jsxs("ul",{style:{margin:"4px 0",paddingLeft:"20px"},children:[B.jsx("li",{children:"下載範本後，可在 Google Sheet 或 Excel 中編輯玩家資料"}),B.jsx("li",{children:"匯入 CSV 檔案時，請確保包含 name、money、power 三欄"}),B.jsx("li",{children:"金錢和戰鬥力可自由設定，無範圍限制"})]})]}),B.jsxs("form",{onSubmit:x,children:[i.map((v,_)=>B.jsxs("div",{style:{marginBottom:"1em",border:"1px solid #eee",padding:"1em",borderRadius:"8px",position:"relative",display:"flex",flexDirection:"column",gap:"0.5em"},children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5em"},children:[B.jsxs("label",{style:{flex:1},children:["玩家 ",_+1," 名稱：",B.jsx("input",{type:"text",value:v.name,onChange:S=>l(_,"name",S.target.value),placeholder:"請輸入角色名稱",required:!0,style:{marginRight:"1em"}})]}),B.jsx("button",{type:"button",onClick:()=>u(_),style:{background:"#ff4444",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",display:i.length>1?"block":"none",marginLeft:"1em"},children:"移除"})]}),B.jsxs("div",{style:{display:"flex",gap:"1em",alignItems:"center"},children:[B.jsxs("label",{children:["金錢：",B.jsx("input",{type:"number",min:"0",step:"1",value:v.money,onChange:S=>l(_,"money",S.target.value),required:!0,style:{width:"100px",marginRight:"1em"}})]}),B.jsxs("label",{children:["戰鬥力：",B.jsx("input",{type:"number",min:"1",value:v.power,onChange:S=>l(_,"power",S.target.value),required:!0,style:{width:"60px",marginRight:"1em"}})]}),B.jsx("button",{type:"button",onClick:()=>f(_),style:{background:"#2196F3",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer"},children:"隨機產生"})]})]},_)),B.jsx("button",{type:"button",onClick:c,style:{marginRight:"1em"},children:"新增玩家"}),B.jsx("button",{type:"submit",children:"開始遊戲"})]})]})}function c3({players:e,history:t,currentPlayer:i,onSelectPlayer:n,onUnselectCard:r,isCurrentMC:o}){return!e||e.length===0?B.jsxs("div",{style:{minWidth:220},children:[B.jsx("h2",{children:"玩家狀態"}),B.jsx("div",{style:{padding:16,textAlign:"center",color:"#666"},children:"沒有玩家數據"})]}):B.jsxs("div",{style:{minWidth:220},children:[B.jsx("h2",{children:"玩家狀態"}),e.map((l,c)=>B.jsxs("div",{onClick:n?()=>n(c):void 0,style:{border:`2.5px solid ${c===i?l.color:"#ddd"}`,background:c===i?l.color+"22":"#fff",borderRadius:6,marginBottom:12,padding:8,transition:"border 0.2s, background 0.2s",cursor:n?"pointer":"default",boxShadow:c===i?`0 0 0 2px ${l.color}55`:"none"},children:[B.jsx("strong",{children:l.name}),B.jsx("br",{}),"初始金錢：",l.money,"｜初始戰鬥力：",l.initialPower??l.power,B.jsx("br",{}),"當前戰鬥力：",l.power,B.jsx("br",{}),B.jsxs("div",{style:{fontSize:"0.9em",color:"#888"},children:["已選項目：",B.jsx("ul",{style:{margin:0,paddingLeft:18},children:t.filter(u=>u.playerIdx===c).map((u,f)=>B.jsxs("li",{style:{display:"flex",alignItems:"center",gap:4},children:[u.cardName," ",B.jsxs("span",{style:{color:"#333",fontSize:"0.95em"},children:["x",u.multiplier??1]}),o&&r&&B.jsx("button",{style:{marginLeft:6,fontSize:"0.85em",color:"#E91E63",border:"none",background:"none",cursor:"pointer"},onClick:p=>{p.stopPropagation(),r(c,u.cardId)},children:"取消"})]},f))})]})]},c))]})}function h3({card:e,onSelect:t,disabled:i,selectedText:n,locked:r,unlockTip:o,completed:l,quotaInfo:c,onEdit:u,isCurrentMC:f}){const p=e.quota,g=(c==null?void 0:c.selectedPlayers)||[],y=p?p-g.length:null,x=p&&y<=0;return B.jsxs("div",{style:{border:"1px solid #aaa",borderRadius:8,padding:16,width:180,background:r||i?"#f0f0f0":"#fafaff",opacity:r||i?.6:1,position:"relative"},children:[u&&B.jsx("button",{onClick:()=>u(e),style:{position:"absolute",top:8,right:8,background:"#ff9800",color:"white",border:"none",borderRadius:4,padding:"4px 8px",fontSize:"0.8em",cursor:"pointer",zIndex:10},title:"編輯事件",children:"✏️"}),B.jsx("h3",{style:{marginBottom:8},children:e.name}),B.jsxs("p",{children:["費用：",e.cost]}),B.jsxs("p",{children:["戰鬥力倍率：x",e.multiplier]}),e.condition&&B.jsxs("p",{style:{color:"#888",fontSize:"0.9em"},children:["條件：",e.condition]}),p&&B.jsxs("div",{style:{color:x?"#b71c1c":"#1976d2",fontWeight:600,fontSize:"0.98em",marginBottom:4},children:["剩餘名額：",y," / ",p]}),g&&g.length>0&&B.jsxs("div",{style:{color:"#888",fontSize:"0.92em",marginBottom:4},children:["已選：",g.join("、")]}),r&&B.jsx("div",{style:{color:"#b71c1c",fontSize:"0.95em",marginBottom:8,fontWeight:600},children:o||"尚未解鎖"}),x&&B.jsx("div",{style:{color:"#b71c1c",fontSize:"0.95em",marginBottom:8,fontWeight:600},children:"名額已滿"}),l&&B.jsxs("div",{style:{position:"absolute",top:8,right:u?40:8,background:"#43a047",color:"white",borderRadius:12,padding:"2px 10px",fontSize:"0.9em",fontWeight:600,display:"flex",alignItems:"center",gap:4},children:[B.jsx("span",{style:{fontSize:16},children:"✔"})," 已完成"]}),B.jsx("button",{onClick:t,disabled:i||r||l||x,style:r||l||x||i?{background:"#ccc",cursor:"not-allowed",color:"#888",border:"none",borderRadius:6,padding:"6px 18px",marginTop:8}:f?{background:"#43a047",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",marginTop:8,fontWeight:600,cursor:"pointer",fontSize:"1em",boxShadow:"0 1px 4px #0001"}:{background:"#e0e0e0",cursor:"not-allowed",color:"#666",border:"none",borderRadius:6,padding:"6px 18px",marginTop:8,fontWeight:600,fontSize:"1em"},children:l?"已完成":r?"未解鎖":x?"名額已滿":i?n||"已選擇":f?"選擇":"可選擇"})]})}function u3(e){const t={};return e.forEach(i=>{const n=i.group||"其他";t[n]||(t[n]=[]),t[n].push(i)}),t}function f3({players:e,cards:t,onSelectCard:i,history:n,currentPlayer:r,onSelectPlayer:o,onUnselectCard:l,onEditCard:c,onToggleCustom:u,isCurrentMC:f}){if(!e||e.length===0)return B.jsx("div",{style:{flex:1,minWidth:0,maxWidth:"1000px",textAlign:"center",padding:"2em",color:"#666"},children:"沒有玩家數據"});const p=n.filter(w=>w.playerIdx===r).map(w=>w.cardId),g=n.filter(w=>w.playerIdx===r&&t.find(T=>T.id===w.cardId&&T.type==="chain")).map(w=>{const T=t.find(M=>M.id===w.cardId);return T?T.group:null}).filter(Boolean),y=n.filter(w=>w.playerIdx===r).map(w=>w.cardId),x={};n.filter(w=>w.playerIdx===r).forEach(w=>{const T=t.find(M=>M.id===w.cardId);T&&T.group&&(x[T.group]=w.cardId)});const v={};t.forEach(w=>{w.quota&&(v[w.id]=[])});const _={};n.forEach(w=>{const T=t.find(M=>M.id===w.cardId);if(T&&T.quota){const M=e[w.playerIdx];M&&(_[T.id]||(_[T.id]=new Set),_[T.id].add(M.name))}}),Object.keys(_).forEach(w=>{v[w]=Array.from(_[w])});const S=u3(t);return B.jsx("div",{style:{flex:1,minWidth:0,maxWidth:"1000px"},children:Object.entries(S).map(([w,T])=>B.jsxs("div",{style:{marginBottom:"2em"},children:[B.jsx("h3",{style:{borderBottom:"1px solid #ccc",margin:"0 0 1em 0",paddingBottom:4},children:w}),B.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"1em",width:"100%",maxWidth:"1000px",boxSizing:"border-box"},children:T.map((M,z)=>{let D=y.includes(M.id),E=!1,R="";M.type==="chain"&&x[M.group]&&x[M.group]!==M.id&&(E=!0,R="已選擇其他學校"),M.type==="chain"&&M.prerequisite&&(g.includes(M.prerequisite)||(E=!0,R=`需先完成${M.prerequisite}`));const I=M.quota?{selectedPlayers:v[M.id]}:void 0;return B.jsx(h3,{card:M,onSelect:f?()=>i(M):void 0,disabled:f?p.includes(M.id):!1,selectedText:f&&p.includes(M.id)?"已選擇":"",locked:E,unlockTip:R,completed:D,quotaInfo:I,onEdit:f?c:void 0,onToggleCustom:f?u:void 0,isCurrentMC:f},M.id)})})]},w))})}function d3({players:e,onRestart:t}){const i=[...e].sort((n,r)=>r.power-n.power);return B.jsxs("div",{style:{maxWidth:500,margin:"2em auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #0001",padding:32},children:[B.jsx("h2",{children:"遊戲結束！玩家排名"}),B.jsx("ol",{style:{fontSize:"1.2em",paddingLeft:24},children:i.map((n,r)=>B.jsxs("li",{style:{marginBottom:12},children:[B.jsx("span",{style:{fontWeight:"bold",color:n.color},children:n.name})," — 戰鬥力：",B.jsx("b",{children:n.power}),B.jsxs("span",{style:{fontSize:"0.9em",color:"#888"},children:["（初始戰鬥力: ",n.initialPower,"）"]})]},n.name))}),B.jsx("button",{onClick:t,style:{marginTop:24,padding:"8px 24px",fontSize:"1em",borderRadius:6,background:"#039BE5",color:"#fff",border:"none",cursor:"pointer"},children:"重新開始"})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xh(e){return e+.5|0}const Oa=(e,t,i)=>Math.max(Math.min(e,i),t);function Bc(e){return Oa(xh(e*2.55),0,255)}function za(e){return Oa(xh(e*255),0,255)}function Gr(e){return Oa(xh(e/2.55)/100,0,1)}function Vv(e){return Oa(xh(e*100),0,100)}const En={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Om=[..."0123456789ABCDEF"],p3=e=>Om[e&15],g3=e=>Om[(e&240)>>4]+Om[e&15],Nu=e=>(e&240)>>4===(e&15),m3=e=>Nu(e.r)&&Nu(e.g)&&Nu(e.b)&&Nu(e.a);function y3(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&En[e[1]]*17,g:255&En[e[2]]*17,b:255&En[e[3]]*17,a:t===5?En[e[4]]*17:255}:(t===7||t===9)&&(i={r:En[e[1]]<<4|En[e[2]],g:En[e[3]]<<4|En[e[4]],b:En[e[5]]<<4|En[e[6]],a:t===9?En[e[7]]<<4|En[e[8]]:255})),i}const x3=(e,t)=>e<255?t(e):"";function b3(e){var t=m3(e)?p3:g3;return e?"#"+t(e.r)+t(e.g)+t(e.b)+x3(e.a,t):void 0}const v3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qS(e,t,i){const n=t*Math.min(i,1-i),r=(o,l=(o+e/30)%12)=>i-n*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function _3(e,t,i){const n=(r,o=(r+e/60)%6)=>i-i*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function S3(e,t,i){const n=qS(e,1,.5);let r;for(t+i>1&&(r=1/(t+i),t*=r,i*=r),r=0;r<3;r++)n[r]*=1-t-i,n[r]+=t;return n}function C3(e,t,i,n,r){return e===r?(t-i)/n+(t<i?6:0):t===r?(i-e)/n+2:(e-t)/n+4}function q0(e){const i=e.r/255,n=e.g/255,r=e.b/255,o=Math.max(i,n,r),l=Math.min(i,n,r),c=(o+l)/2;let u,f,p;return o!==l&&(p=o-l,f=c>.5?p/(2-o-l):p/(o+l),u=C3(i,n,r,p,o),u=u*60+.5),[u|0,f||0,c]}function U0(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(za)}function W0(e,t,i){return U0(qS,e,t,i)}function w3(e,t,i){return U0(S3,e,t,i)}function k3(e,t,i){return U0(_3,e,t,i)}function US(e){return(e%360+360)%360}function T3(e){const t=v3.exec(e);let i=255,n;if(!t)return;t[5]!==n&&(i=t[6]?Bc(+t[5]):za(+t[5]));const r=US(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?n=w3(r,o,l):t[1]==="hsv"?n=k3(r,o,l):n=W0(r,o,l),{r:n[0],g:n[1],b:n[2],a:i}}function A3(e,t){var i=q0(e);i[0]=US(i[0]+t),i=W0(i),e.r=i[0],e.g=i[1],e.b=i[2]}function M3(e){if(!e)return;const t=q0(e),i=t[0],n=Vv(t[1]),r=Vv(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${r}%, ${Gr(e.a)})`:`hsl(${i}, ${n}%, ${r}%)`}const Xv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function E3(){const e={},t=Object.keys(Zv),i=Object.keys(Xv);let n,r,o,l,c;for(n=0;n<t.length;n++){for(l=c=t[n],r=0;r<i.length;r++)o=i[r],c=c.replace(o,Xv[o]);o=parseInt(Zv[l],16),e[c]=[o>>16&255,o>>8&255,o&255]}return e}let Fu;function B3(e){Fu||(Fu=E3(),Fu.transparent=[0,0,0,0]);const t=Fu[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const L3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function D3(e){const t=L3.exec(e);let i=255,n,r,o;if(t){if(t[7]!==n){const l=+t[7];i=t[8]?Bc(l):Oa(l*255,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?Bc(n):Oa(n,0,255)),r=255&(t[4]?Bc(r):Oa(r,0,255)),o=255&(t[6]?Bc(o):Oa(o,0,255)),{r:n,g:r,b:o,a:i}}}function O3(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Gr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const nm=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Bo=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function R3(e,t,i){const n=Bo(Gr(e.r)),r=Bo(Gr(e.g)),o=Bo(Gr(e.b));return{r:za(nm(n+i*(Bo(Gr(t.r))-n))),g:za(nm(r+i*(Bo(Gr(t.g))-r))),b:za(nm(o+i*(Bo(Gr(t.b))-o))),a:e.a+i*(t.a-e.a)}}function $u(e,t,i){if(e){let n=q0(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,t===0?360:1)),n=W0(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function WS(e,t){return e&&Object.assign(t||{},e)}function Qv(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=za(e[3]))):(t=WS(e,{r:0,g:0,b:0,a:1}),t.a=za(t.a)),t}function z3(e){return e.charAt(0)==="r"?D3(e):T3(e)}let YS=class Rm{constructor(t){if(t instanceof Rm)return t;const i=typeof t;let n;i==="object"?n=Qv(t):i==="string"&&(n=y3(t)||B3(t)||z3(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=WS(this._rgb);return t&&(t.a=Gr(t.a)),t}set rgb(t){this._rgb=Qv(t)}rgbString(){return this._valid?O3(this._rgb):void 0}hexString(){return this._valid?b3(this._rgb):void 0}hslString(){return this._valid?M3(this._rgb):void 0}mix(t,i){if(t){const n=this.rgb,r=t.rgb;let o;const l=i===o?.5:i,c=2*l-1,u=n.a-r.a,f=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;o=1-f,n.r=255&f*n.r+o*r.r+.5,n.g=255&f*n.g+o*r.g+.5,n.b=255&f*n.b+o*r.b+.5,n.a=l*n.a+(1-l)*r.a,this.rgb=n}return this}interpolate(t,i){return t&&(this._rgb=R3(this._rgb,t._rgb,i)),this}clone(){return new Rm(this.rgb)}alpha(t){return this._rgb.a=za(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=xh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $u(this._rgb,2,t),this}darken(t){return $u(this._rgb,2,-t),this}saturate(t){return $u(this._rgb,1,t),this}desaturate(t){return $u(this._rgb,1,-t),this}rotate(t){return A3(this._rgb,t),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jr(){}const N3=(()=>{let e=0;return()=>e++})();function ke(e){return e==null}function hi(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ce(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Rn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function cr(e,t){return Rn(e)?e:t}function ie(e,t){return typeof e>"u"?t:e}const F3=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Be(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function me(e,t,i,n){let r,o,l;if(hi(e))for(o=e.length,r=0;r<o;r++)t.call(i,e[r],r);else if(ce(e))for(l=Object.keys(e),o=l.length,r=0;r<o;r++)t.call(i,e[l[r]],l[r])}function Bf(e,t){let i,n,r,o;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(r=e[i],o=t[i],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Lf(e){if(hi(e))return e.map(Lf);if(ce(e)){const t=Object.create(null),i=Object.keys(e),n=i.length;let r=0;for(;r<n;++r)t[i[r]]=Lf(e[i[r]]);return t}return e}function GS(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function $3(e,t,i,n){if(!GS(e))return;const r=t[e],o=i[e];ce(r)&&ce(o)?th(r,o,n):t[e]=Lf(o)}function th(e,t,i){const n=hi(t)?t:[t],r=n.length;if(!ce(e))return e;i=i||{};const o=i.merger||$3;let l;for(let c=0;c<r;++c){if(l=n[c],!ce(l))continue;const u=Object.keys(l);for(let f=0,p=u.length;f<p;++f)o(u[f],e,l,i)}return e}function Pc(e,t){return th(e,t,{merger:j3})}function j3(e,t,i){if(!GS(e))return;const n=t[e],r=i[e];ce(n)&&ce(r)?Pc(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Lf(r))}const Kv={"":e=>e,x:e=>e.x,y:e=>e.y};function H3(e){const t=e.split("."),i=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function I3(e){const t=H3(e);return i=>{for(const n of t){if(n==="")break;i=i&&i[n]}return i}}function Df(e,t){return(Kv[t]||(Kv[t]=I3(t)))(e)}function Y0(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Of=e=>typeof e<"u",Fa=e=>typeof e=="function",Jv=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function P3(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ui=Math.PI,yr=2*ui,q3=yr+ui,Rf=Number.POSITIVE_INFINITY,U3=ui/180,Xn=ui/2,hs=ui/4,t_=ui*2/3,VS=Math.log10,Vo=Math.sign;function qc(e,t,i){return Math.abs(e-t)<i}function e_(e){const t=Math.round(e);e=qc(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(VS(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function W3(e){const t=[],i=Math.sqrt(e);let n;for(n=1;n<i;n++)e%n===0&&(t.push(n),t.push(e/n));return i===(i|0)&&t.push(i),t.sort((r,o)=>r-o).pop(),t}function Y3(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function eh(e){return!Y3(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function G3(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function V3(e,t,i){let n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n][i],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function bs(e){return e*(ui/180)}function X3(e){return e*(180/ui)}function i_(e){if(!Rn(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function Z3(e,t){const i=t.x-e.x,n=t.y-e.y,r=Math.sqrt(i*i+n*n);let o=Math.atan2(n,i);return o<-.5*ui&&(o+=yr),{angle:o,distance:r}}function zm(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Q3(e,t){return(e-t+q3)%yr-ui}function Ba(e){return(e%yr+yr)%yr}function XS(e,t,i,n){const r=Ba(e),o=Ba(t),l=Ba(i),c=Ba(o-r),u=Ba(l-r),f=Ba(r-o),p=Ba(r-l);return r===o||r===l||n&&o===l||c>u&&f<p}function Dn(e,t,i){return Math.max(t,Math.min(i,e))}function K3(e){return Dn(e,-32768,32767)}function Lc(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function G0(e,t,i){i=i||(l=>e[l]<t);let n=e.length-1,r=0,o;for(;n-r>1;)o=r+n>>1,i(o)?r=o:n=o;return{lo:r,hi:n}}const vs=(e,t,i,n)=>G0(e,i,n?r=>{const o=e[r][t];return o<i||o===i&&e[r+1][t]===i}:r=>e[r][t]<i),J3=(e,t,i)=>G0(e,i,n=>e[n][t]>=i);function tD(e,t,i){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>i;)r--;return n>0||r<e.length?e.slice(n,r):e}const ZS=["push","pop","shift","splice","unshift"];function eD(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ZS.forEach(i=>{const n="_onData"+Y0(i),r=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return e._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...o)}),l}})})}function n_(e,t){const i=e._chartjs;if(!i)return;const n=i.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(ZS.forEach(o=>{delete e[o]}),delete e._chartjs)}function iD(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const QS=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function KS(e,t){let i=[],n=!1;return function(...r){i=r,n||(n=!0,QS.call(window,()=>{n=!1,e.apply(t,i)}))}}function nD(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}const V0=e=>e==="start"?"left":e==="end"?"right":"center",Mi=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,rD=(e,t,i,n)=>e===(n?"left":"right")?i:e==="center"?(t+i)/2:t;function aD(e,t,i){const n=t.length;let r=0,o=n;if(e._sorted){const{iScale:l,vScale:c,_parsed:u}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:g,max:y,minDefined:x,maxDefined:v}=l.getUserBounds();if(x){if(r=Math.min(vs(u,p,g).lo,i?n:vs(t,p,l.getPixelForValue(g)).lo),f){const _=u.slice(0,r+1).reverse().findIndex(S=>!ke(S[c.axis]));r-=Math.max(0,_)}r=Dn(r,0,n-1)}if(v){let _=Math.max(vs(u,l.axis,y,!0).hi+1,i?0:vs(t,p,l.getPixelForValue(y),!0).hi+1);if(f){const S=u.slice(_-1).findIndex(w=>!ke(w[c.axis]));_+=Math.max(0,S)}o=Dn(_,r,n)-r}else o=n-r}return{start:r,count:o}}function sD(e){const{xScale:t,yScale:i,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=r,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),o}const ju=e=>e===0||e===1,r_=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*yr/i)),a_=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*yr/i)+1,Uc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Xn)+1,easeOutSine:e=>Math.sin(e*Xn),easeInOutSine:e=>-.5*(Math.cos(ui*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ju(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ju(e)?e:r_(e,.075,.3),easeOutElastic:e=>ju(e)?e:a_(e,.075,.3),easeInOutElastic(e){return ju(e)?e:e<.5?.5*r_(e*2,.1125,.45):.5+.5*a_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Uc.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Uc.easeInBounce(e*2)*.5:Uc.easeOutBounce(e*2-1)*.5+.5};function X0(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function s_(e){return X0(e)?e:new YS(e)}function rm(e){return X0(e)?e:new YS(e).saturate(.5).darken(.1).hexString()}const oD=["x","y","borderWidth","radius","tension"],lD=["color","borderColor","backgroundColor"];function cD(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:lD},numbers:{type:"number",properties:oD}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function hD(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const o_=new Map;function uD(e,t){t=t||{};const i=e+JSON.stringify(t);let n=o_.get(i);return n||(n=new Intl.NumberFormat(e,t),o_.set(i,n)),n}function JS(e,t,i){return uD(t,i).format(e)}const fD={values(e){return hi(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";const n=this.chart.options.locale;let r,o=e;if(i.length>1){const f=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=dD(e,i)}const l=VS(Math.abs(o)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),JS(e,n,u)}};function dD(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var tC={formatters:fD};function pD(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Es=Object.create(null),Nm=Object.create(null);function Wc(e,t){if(!t)return e;const i=t.split(".");for(let n=0,r=i.length;n<r;++n){const o=i[n];e=e[o]||(e[o]=Object.create(null))}return e}function am(e,t,i){return typeof t=="string"?th(Wc(e,t),i):th(Wc(e,""),t)}class gD{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>rm(r.backgroundColor),this.hoverBorderColor=(n,r)=>rm(r.borderColor),this.hoverColor=(n,r)=>rm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return am(this,t,i)}get(t){return Wc(this,t)}describe(t,i){return am(Nm,t,i)}override(t,i){return am(Es,t,i)}route(t,i,n,r){const o=Wc(this,t),l=Wc(this,n),c="_"+i;Object.defineProperties(o,{[c]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){const u=this[c],f=l[r];return ce(u)?Object.assign({},f,u):ie(u,f)},set(u){this[c]=u}}})}apply(t){t.forEach(i=>i(this))}}var Ye=new gD({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[cD,hD,pD]);function mD(e){return!e||ke(e.size)||ke(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function l_(e,t,i,n,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,i.push(r)),o>n&&(n=o),n}function us(e,t,i){const n=e.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((t-r)*n)/n+r}function c_(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Fm(e,t,i,n){eC(e,t,i,n,null)}function eC(e,t,i,n,r){let o,l,c,u,f,p,g,y;const x=t.pointStyle,v=t.rotation,_=t.radius;let S=(v||0)*U3;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(i,n),e.rotate(S),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),x){default:r?e.ellipse(i,n,r/2,_,0,0,yr):e.arc(i,n,_,0,yr),e.closePath();break;case"triangle":p=r?r/2:_,e.moveTo(i+Math.sin(S)*p,n-Math.cos(S)*_),S+=t_,e.lineTo(i+Math.sin(S)*p,n-Math.cos(S)*_),S+=t_,e.lineTo(i+Math.sin(S)*p,n-Math.cos(S)*_),e.closePath();break;case"rectRounded":f=_*.516,u=_-f,l=Math.cos(S+hs)*u,g=Math.cos(S+hs)*(r?r/2-f:u),c=Math.sin(S+hs)*u,y=Math.sin(S+hs)*(r?r/2-f:u),e.arc(i-g,n-c,f,S-ui,S-Xn),e.arc(i+y,n-l,f,S-Xn,S),e.arc(i+g,n+c,f,S,S+Xn),e.arc(i-y,n+l,f,S+Xn,S+ui),e.closePath();break;case"rect":if(!v){u=Math.SQRT1_2*_,p=r?r/2:u,e.rect(i-p,n-u,2*p,2*u);break}S+=hs;case"rectRot":g=Math.cos(S)*(r?r/2:_),l=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),e.moveTo(i-g,n-c),e.lineTo(i+y,n-l),e.lineTo(i+g,n+c),e.lineTo(i-y,n+l),e.closePath();break;case"crossRot":S+=hs;case"cross":g=Math.cos(S)*(r?r/2:_),l=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),e.moveTo(i-g,n-c),e.lineTo(i+g,n+c),e.moveTo(i+y,n-l),e.lineTo(i-y,n+l);break;case"star":g=Math.cos(S)*(r?r/2:_),l=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),e.moveTo(i-g,n-c),e.lineTo(i+g,n+c),e.moveTo(i+y,n-l),e.lineTo(i-y,n+l),S+=hs,g=Math.cos(S)*(r?r/2:_),l=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),e.moveTo(i-g,n-c),e.lineTo(i+g,n+c),e.moveTo(i+y,n-l),e.lineTo(i-y,n+l);break;case"line":l=r?r/2:Math.cos(S)*_,c=Math.sin(S)*_,e.moveTo(i-l,n-c),e.lineTo(i+l,n+c);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(S)*(r?r/2:_),n+Math.sin(S)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ih(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function Z0(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Q0(e){e.restore()}function yD(e,t,i,n,r){if(!t)return e.lineTo(i.x,i.y);if(r==="middle"){const o=(t.x+i.x)/2;e.lineTo(o,t.y),e.lineTo(o,i.y)}else r==="after"!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function xD(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function bD(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ke(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function vD(e,t,i,n,r){if(r.strikethrough||r.underline){const o=e.measureText(n),l=t-o.actualBoundingBoxLeft,c=t+o.actualBoundingBoxRight,u=i-o.actualBoundingBoxAscent,f=i+o.actualBoundingBoxDescent,p=r.strikethrough?(u+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function _D(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function nh(e,t,i,n,r,o={}){const l=hi(t)?t:[t],c=o.strokeWidth>0&&o.strokeColor!=="";let u,f;for(e.save(),e.font=r.string,bD(e,o),u=0;u<l.length;++u)f=l[u],o.backdrop&&_D(e,o.backdrop),c&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),ke(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(f,i,n,o.maxWidth)),e.fillText(f,i,n,o.maxWidth),vD(e,i,n,f,o),n+=Number(r.lineHeight);e.restore()}function $m(e,t){const{x:i,y:n,w:r,h:o,radius:l}=t;e.arc(i+l.topLeft,n+l.topLeft,l.topLeft,1.5*ui,ui,!0),e.lineTo(i,n+o-l.bottomLeft),e.arc(i+l.bottomLeft,n+o-l.bottomLeft,l.bottomLeft,ui,Xn,!0),e.lineTo(i+r-l.bottomRight,n+o),e.arc(i+r-l.bottomRight,n+o-l.bottomRight,l.bottomRight,Xn,0,!0),e.lineTo(i+r,n+l.topRight),e.arc(i+r-l.topRight,n+l.topRight,l.topRight,0,-Xn,!0),e.lineTo(i+l.topLeft,n)}const SD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,CD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wD(e,t){const i=(""+e).match(SD);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}const kD=e=>+e||0;function iC(e,t){const i={},n=ce(t),r=n?Object.keys(t):t,o=ce(e)?n?l=>ie(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of r)i[l]=kD(o(l));return i}function TD(e){return iC(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Yc(e){return iC(e,["topLeft","topRight","bottomLeft","bottomRight"])}function zn(e){const t=TD(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ei(e,t){e=e||{},t=t||Ye.font;let i=ie(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let n=ie(e.style,t.style);n&&!(""+n).match(CD)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:ie(e.family,t.family),lineHeight:wD(ie(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:ie(e.weight,t.weight),string:""};return r.string=mD(r),r}function Hu(e,t,i,n){let r,o,l;for(r=0,o=e.length;r<o;++r)if(l=e[r],l!==void 0&&l!==void 0)return l}function AD(e,t,i){const{min:n,max:r}=e,o=F3(t,(r-n)/2),l=(c,u)=>i&&c===0?0:c+u;return{min:l(n,-Math.abs(o)),max:l(r,o)}}function Ns(e,t){return Object.assign(Object.create(e),t)}function K0(e,t=[""],i,n,r=()=>e[0]){const o=i||e;typeof n>"u"&&(n=sC("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:r,override:c=>K0([c,...e],t,o,n)};return new Proxy(l,{deleteProperty(c,u){return delete c[u],delete c._keys,delete e[0][u],!0},get(c,u){return rC(c,u,()=>zD(u,t,e,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,u){return u_(c).includes(u)},ownKeys(c){return u_(c)},set(c,u,f){const p=c._storage||(c._storage=r());return c[u]=p[u]=f,delete c._keys,!0}})}function Xo(e,t,i,n){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:nC(e,n),setContext:o=>Xo(e,o,i,n),override:o=>Xo(e.override(o),t,i,n)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,c){return rC(o,l,()=>ED(o,l,c))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,c){return e[l]=c,delete o[l],!0}})}function nC(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:i,indexable:n,isScriptable:Fa(i)?i:()=>i,isIndexable:Fa(n)?n:()=>n}}const MD=(e,t)=>e?e+Y0(t):t,J0=(e,t)=>ce(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rC(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=i();return e[t]=n,n}function ED(e,t,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:l}=e;let c=n[t];return Fa(c)&&l.isScriptable(t)&&(c=BD(t,c,e,i)),hi(c)&&c.length&&(c=LD(t,c,e,l.isIndexable)),J0(t,c)&&(c=Xo(c,r,o&&o[t],l)),c}function BD(e,t,i,n){const{_proxy:r,_context:o,_subProxy:l,_stack:c}=i;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let u=t(o,l||n);return c.delete(e),J0(e,u)&&(u=ty(r._scopes,r,e,u)),u}function LD(e,t,i,n){const{_proxy:r,_context:o,_subProxy:l,_descriptors:c}=i;if(typeof o.index<"u"&&n(e))return t[o.index%t.length];if(ce(t[0])){const u=t,f=r._scopes.filter(p=>p!==u);t=[];for(const p of u){const g=ty(f,r,e,p);t.push(Xo(g,o,l&&l[e],c))}}return t}function aC(e,t,i){return Fa(e)?e(t,i):e}const DD=(e,t)=>e===!0?t:typeof e=="string"?Df(t,e):void 0;function OD(e,t,i,n,r){for(const o of t){const l=DD(i,o);if(l){e.add(l);const c=aC(l._fallback,i,r);if(typeof c<"u"&&c!==i&&c!==n)return c}else if(l===!1&&typeof n<"u"&&i!==n)return null}return!1}function ty(e,t,i,n){const r=t._rootScopes,o=aC(t._fallback,i,n),l=[...e,...r],c=new Set;c.add(n);let u=h_(c,l,i,o||i,n);return u===null||typeof o<"u"&&o!==i&&(u=h_(c,l,o,u,n),u===null)?!1:K0(Array.from(c),[""],r,o,()=>RD(t,i,n))}function h_(e,t,i,n,r){for(;i;)i=OD(e,t,i,n,r);return i}function RD(e,t,i){const n=e._getTarget();t in n||(n[t]={});const r=n[t];return hi(r)&&ce(i)?i:r||{}}function zD(e,t,i,n){let r;for(const o of t)if(r=sC(MD(o,e),i),typeof r<"u")return J0(e,r)?ty(i,n,e,r):r}function sC(e,t){for(const i of t){if(!i)continue;const n=i[e];if(typeof n<"u")return n}}function u_(e){let t=e._keys;return t||(t=e._keys=ND(e._scopes)),t}function ND(e){const t=new Set;for(const i of e)for(const n of Object.keys(i).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}const FD=Number.EPSILON||1e-14,Zo=(e,t)=>t<e.length&&!e[t].skip&&e[t],oC=e=>e==="x"?"y":"x";function $D(e,t,i,n){const r=e.skip?t:e,o=t,l=i.skip?t:i,c=zm(o,r),u=zm(l,o);let f=c/(c+u),p=u/(c+u);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const g=n*f,y=n*p;return{previous:{x:o.x-g*(l.x-r.x),y:o.y-g*(l.y-r.y)},next:{x:o.x+y*(l.x-r.x),y:o.y+y*(l.y-r.y)}}}function jD(e,t,i){const n=e.length;let r,o,l,c,u,f=Zo(e,0);for(let p=0;p<n-1;++p)if(u=f,f=Zo(e,p+1),!(!u||!f)){if(qc(t[p],0,FD)){i[p]=i[p+1]=0;continue}r=i[p]/t[p],o=i[p+1]/t[p],c=Math.pow(r,2)+Math.pow(o,2),!(c<=9)&&(l=3/Math.sqrt(c),i[p]=r*l*t[p],i[p+1]=o*l*t[p])}}function HD(e,t,i="x"){const n=oC(i),r=e.length;let o,l,c,u=Zo(e,0);for(let f=0;f<r;++f){if(l=c,c=u,u=Zo(e,f+1),!c)continue;const p=c[i],g=c[n];l&&(o=(p-l[i])/3,c[`cp1${i}`]=p-o,c[`cp1${n}`]=g-o*t[f]),u&&(o=(u[i]-p)/3,c[`cp2${i}`]=p+o,c[`cp2${n}`]=g+o*t[f])}}function ID(e,t="x"){const i=oC(t),n=e.length,r=Array(n).fill(0),o=Array(n);let l,c,u,f=Zo(e,0);for(l=0;l<n;++l)if(c=u,u=f,f=Zo(e,l+1),!!u){if(f){const p=f[t]-u[t];r[l]=p!==0?(f[i]-u[i])/p:0}o[l]=c?f?Vo(r[l-1])!==Vo(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}jD(e,r,o),HD(e,o,t)}function Iu(e,t,i){return Math.max(Math.min(e,i),t)}function PD(e,t){let i,n,r,o,l,c=ih(e[0],t);for(i=0,n=e.length;i<n;++i)l=o,o=c,c=i<n-1&&ih(e[i+1],t),o&&(r=e[i],l&&(r.cp1x=Iu(r.cp1x,t.left,t.right),r.cp1y=Iu(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=Iu(r.cp2x,t.left,t.right),r.cp2y=Iu(r.cp2y,t.top,t.bottom)))}function qD(e,t,i,n,r){let o,l,c,u;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")ID(e,r);else{let f=n?e[e.length-1]:e[0];for(o=0,l=e.length;o<l;++o)c=e[o],u=$D(f,c,e[Math.min(o+1,l-(n?0:1))%l],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,f=c}t.capBezierPoints&&PD(e,i)}function ey(){return typeof window<"u"&&typeof document<"u"}function iy(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function zf(e,t,i){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[i])):n=e,n}const bd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function UD(e,t){return bd(e).getPropertyValue(t)}const WD=["top","right","bottom","left"];function Ts(e,t,i){const n={};i=i?"-"+i:"";for(let r=0;r<4;r++){const o=WD[r];n[o]=parseFloat(e[t+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const YD=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function GD(e,t){const i=e.touches,n=i&&i.length?i[0]:e,{offsetX:r,offsetY:o}=n;let l=!1,c,u;if(YD(r,o,e.target))c=r,u=o;else{const f=t.getBoundingClientRect();c=n.clientX-f.left,u=n.clientY-f.top,l=!0}return{x:c,y:u,box:l}}function ps(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:n}=t,r=bd(i),o=r.boxSizing==="border-box",l=Ts(r,"padding"),c=Ts(r,"border","width"),{x:u,y:f,box:p}=GD(e,i),g=l.left+(p&&c.left),y=l.top+(p&&c.top);let{width:x,height:v}=t;return o&&(x-=l.width+c.width,v-=l.height+c.height),{x:Math.round((u-g)/x*i.width/n),y:Math.round((f-y)/v*i.height/n)}}function VD(e,t,i){let n,r;if(t===void 0||i===void 0){const o=e&&iy(e);if(!o)t=e.clientWidth,i=e.clientHeight;else{const l=o.getBoundingClientRect(),c=bd(o),u=Ts(c,"border","width"),f=Ts(c,"padding");t=l.width-f.width-u.width,i=l.height-f.height-u.height,n=zf(c.maxWidth,o,"clientWidth"),r=zf(c.maxHeight,o,"clientHeight")}}return{width:t,height:i,maxWidth:n||Rf,maxHeight:r||Rf}}const Pu=e=>Math.round(e*10)/10;function XD(e,t,i,n){const r=bd(e),o=Ts(r,"margin"),l=zf(r.maxWidth,e,"clientWidth")||Rf,c=zf(r.maxHeight,e,"clientHeight")||Rf,u=VD(e,t,i);let{width:f,height:p}=u;if(r.boxSizing==="content-box"){const y=Ts(r,"border","width"),x=Ts(r,"padding");f-=x.width+y.width,p-=x.height+y.height}return f=Math.max(0,f-o.width),p=Math.max(0,n?f/n:p-o.height),f=Pu(Math.min(f,l,u.maxWidth)),p=Pu(Math.min(p,c,u.maxHeight)),f&&!p&&(p=Pu(f/2)),(t!==void 0||i!==void 0)&&n&&u.height&&p>u.height&&(p=u.height,f=Pu(Math.floor(p*n))),{width:f,height:p}}function f_(e,t,i){const n=t||1,r=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(i||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||l.height!==r||l.width!==o?(e.currentDevicePixelRatio=n,l.height=r,l.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const ZD=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ey()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function d_(e,t){const i=UD(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function gs(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function QD(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:n==="middle"?i<.5?e.y:t.y:n==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function KD(e,t,i,n){const r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},l=gs(e,r,i),c=gs(r,o,i),u=gs(o,t,i),f=gs(l,c,i),p=gs(c,u,i);return gs(f,p,i)}const JD=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},tO=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function No(e,t,i){return e?JD(t,i):tO()}function lC(e,t){let i,n;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function cC(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function hC(e){return e==="angle"?{between:XS,compare:Q3,normalize:Ba}:{between:Lc,compare:(t,i)=>t-i,normalize:t=>t}}function p_({start:e,end:t,count:i,loop:n,style:r}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i===0,style:r}}function eO(e,t,i){const{property:n,start:r,end:o}=i,{between:l,normalize:c}=hC(n),u=t.length;let{start:f,end:p,loop:g}=e,y,x;if(g){for(f+=u,p+=u,y=0,x=u;y<x&&l(c(t[f%u][n]),r,o);++y)f--,p--;f%=u,p%=u}return p<f&&(p+=u),{start:f,end:p,loop:g,style:e.style}}function iO(e,t,i){if(!i)return[e];const{property:n,start:r,end:o}=i,l=t.length,{compare:c,between:u,normalize:f}=hC(n),{start:p,end:g,loop:y,style:x}=eO(e,t,i),v=[];let _=!1,S=null,w,T,M;const z=()=>u(r,M,w)&&c(r,M)!==0,D=()=>c(o,w)===0||u(o,M,w),E=()=>_||z(),R=()=>!_||D();for(let I=p,J=p;I<=g;++I)T=t[I%l],!T.skip&&(w=f(T[n]),w!==M&&(_=u(w,r,o),S===null&&E()&&(S=c(w,r)===0?I:J),S!==null&&R()&&(v.push(p_({start:S,end:I,loop:y,count:l,style:x})),S=null),J=I,M=w));return S!==null&&v.push(p_({start:S,end:g,loop:y,count:l,style:x})),v}function nO(e,t){const i=[],n=e.segments;for(let r=0;r<n.length;r++){const o=iO(n[r],e.points,t);o.length&&i.push(...o)}return i}function rO(e,t,i,n){let r=0,o=t-1;if(i&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,i&&(o+=r);o>r&&e[o%t].skip;)o--;return o%=t,{start:r,end:o}}function aO(e,t,i,n){const r=e.length,o=[];let l=t,c=e[t],u;for(u=t+1;u<=i;++u){const f=e[u%r];f.skip||f.stop?c.skip||(n=!1,o.push({start:t%r,end:(u-1)%r,loop:n}),t=l=f.stop?u:null):(l=u,c.skip&&(t=u)),c=f}return l!==null&&o.push({start:t%r,end:l%r,loop:n}),o}function sO(e,t){const i=e.points,n=e.options.spanGaps,r=i.length;if(!r)return[];const o=!!e._loop,{start:l,end:c}=rO(i,r,o,n);if(n===!0)return g_(e,[{start:l,end:c,loop:o}],i,t);const u=c<l?c+r:c,f=!!e._fullLoop&&l===0&&c===r-1;return g_(e,aO(i,l,u,f),i,t)}function g_(e,t,i,n){return!n||!n.setContext||!i?t:oO(e,t,i,n)}function oO(e,t,i,n){const r=e._chart.getContext(),o=m_(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,u=i.length,f=[];let p=o,g=t[0].start,y=g;function x(v,_,S,w){const T=c?-1:1;if(v!==_){for(v+=u;i[v%u].skip;)v-=T;for(;i[_%u].skip;)_+=T;v%u!==_%u&&(f.push({start:v%u,end:_%u,loop:S,style:w}),p=w,g=_%u)}}for(const v of t){g=c?g:v.start;let _=i[g%u],S;for(y=g+1;y<=v.end;y++){const w=i[y%u];S=m_(n.setContext(Ns(r,{type:"segment",p0:_,p1:w,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:l}))),lO(S,p)&&x(g,y-1,v.loop,p),_=w,p=S}g<y-1&&x(g,y-1,v.loop,p)}return f}function m_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function lO(e,t){if(!t)return!1;const i=[],n=function(r,o){return X0(o)?(i.includes(o)||i.push(o),i.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function qu(e,t,i){return e.options.clip?e[i]:t[i]}function cO(e,t){const{xScale:i,yScale:n}=e;return i&&n?{left:qu(i,t,"left"),right:qu(i,t,"right"),top:qu(n,t,"top"),bottom:qu(n,t,"bottom")}:t}function hO(e,t){const i=t._clip;if(i.disabled)return!1;const n=cO(t,e.chartArea);return{left:i.left===!1?0:n.left-(i.left===!0?0:i.left),right:i.right===!1?e.width:n.right+(i.right===!0?0:i.right),top:i.top===!1?0:n.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?e.height:n.bottom+(i.bottom===!0?0:i.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,n,r){const o=i.listeners[r],l=i.duration;o.forEach(c=>c({chart:t,initial:i.initial,numSteps:l,currentStep:Math.min(n-i.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=QS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const o=n.items;let l=o.length-1,c=!1,u;for(;l>=0;--l)u=o[l],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(t),c=!0):(o[l]=o[o.length-1],o.pop());c&&(r.draw(),this._notify(r,n,t,"progress")),o.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),i+=o.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let n=i.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,n)),n}listen(t,i,n){this._getAnims(t).listeners[i].push(n)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const n=i.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Pr=new uO;const y_="transparent",fO={boolean(e,t,i){return i>.5?t:e},color(e,t,i){const n=s_(e||y_),r=n.valid&&s_(t||y_);return r&&r.valid?r.mix(n,i).hexString():t},number(e,t,i){return e+(t-e)*i}};class dO{constructor(t,i,n,r){const o=i[n];r=Hu([t.to,r,o,t.from]);const l=Hu([t.from,o,r]);this._active=!0,this._fn=t.fn||fO[t.type||typeof l],this._easing=Uc[t.easing]||Uc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=n,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,i,n){if(this._active){this._notify(!1);const r=this._target[this._prop],o=n-this._start,l=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Hu([t.to,i,r,t.from]),this._from=Hu([t.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,n=this._duration,r=this._prop,o=this._from,l=this._loop,c=this._to;let u;if(this._active=o!==c&&(l||i<n),!this._active){this._target[r]=c,this._notify(!0);return}if(i<0){this._target[r]=o;return}u=i/n%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(o,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,n)=>{t.push({res:i,rej:n})})}_notify(t){const i=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][i]()}}class uC{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!ce(t))return;const i=Object.keys(Ye.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!ce(o))return;const l={};for(const c of i)l[c]=o[c];(hi(o.properties)&&o.properties||[r]).forEach(c=>{(c===r||!n.has(c))&&n.set(c,l)})})}_animateOptions(t,i){const n=i.options,r=gO(t,n);if(!r)return[];const o=this._createAnimations(r,n);return n.$shared&&pO(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,i){const n=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(i),c=Date.now();let u;for(u=l.length-1;u>=0;--u){const f=l[u];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,i));continue}const p=i[f];let g=o[f];const y=n.get(f);if(g)if(y&&g.active()){g.update(y,p,c);continue}else g.cancel();if(!y||!y.duration){t[f]=p;continue}o[f]=g=new dO(y,t,f,p),r.push(g)}return r}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const n=this._createAnimations(t,i);if(n.length)return Pr.add(this._chart,n),!0}}function pO(e,t){const i=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const o=e[n[r]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function gO(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function x_(e,t){const i=e&&e.options||{},n=i.reverse,r=i.min===void 0?t:0,o=i.max===void 0?t:0;return{start:n?o:r,end:n?r:o}}function mO(e,t,i){if(i===!1)return!1;const n=x_(e,i),r=x_(t,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function yO(e){let t,i,n,r;return ce(e)?(t=e.top,i=e.right,n=e.bottom,r=e.left):t=i=n=r=e,{top:t,right:i,bottom:n,left:r,disabled:e===!1}}function fC(e,t){const i=[],n=e._getSortedDatasetMetas(t);let r,o;for(r=0,o=n.length;r<o;++r)i.push(n[r].index);return i}function b_(e,t,i,n={}){const r=e.keys,o=n.mode==="single";let l,c,u,f;if(t===null)return;let p=!1;for(l=0,c=r.length;l<c;++l){if(u=+r[l],u===i){if(p=!0,n.all)continue;break}f=e.values[u],Rn(f)&&(o||t===0||Vo(t)===Vo(f))&&(t+=f)}return!p&&!n.all?0:t}function xO(e,t){const{iScale:i,vScale:n}=t,r=i.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let u,f,p;for(u=0,f=l.length;u<f;++u)p=l[u],c[u]={[r]:p,[o]:e[p]};return c}function sm(e,t){const i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function bO(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function vO(e){const{min:t,max:i,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function _O(e,t,i){const n=e[t]||(e[t]={});return n[i]||(n[i]={})}function v_(e,t,i,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const o=e[r.index];if(i&&o>0||!i&&o<0)return r.index}return null}function __(e,t){const{chart:i,_cachedMeta:n}=e,r=i._stacks||(i._stacks={}),{iScale:o,vScale:l,index:c}=n,u=o.axis,f=l.axis,p=bO(o,l,n),g=t.length;let y;for(let x=0;x<g;++x){const v=t[x],{[u]:_,[f]:S}=v,w=v._stacks||(v._stacks={});y=w[f]=_O(r,p,_),y[c]=S,y._top=v_(y,l,!0,n.type),y._bottom=v_(y,l,!1,n.type);const T=y._visualValues||(y._visualValues={});T[c]=S}}function om(e,t){const i=e.scales;return Object.keys(i).filter(n=>i[n].axis===t).shift()}function SO(e,t){return Ns(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function CO(e,t,i){return Ns(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function uc(e,t){const i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const r of t){const o=r._stacks;if(!o||o[n]===void 0||o[n][i]===void 0)return;delete o[n][i],o[n]._visualValues!==void 0&&o[n]._visualValues[i]!==void 0&&delete o[n]._visualValues[i]}}}const lm=e=>e==="reset"||e==="none",S_=(e,t)=>t?e:Object.assign({},e),wO=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:fC(i,!0),values:null};class Gc{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=sm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&uc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,n=this.getDataset(),r=(g,y,x,v)=>g==="x"?y:g==="r"?v:x,o=i.xAxisID=ie(n.xAxisID,om(t,"x")),l=i.yAxisID=ie(n.yAxisID,om(t,"y")),c=i.rAxisID=ie(n.rAxisID,om(t,"r")),u=i.indexAxis,f=i.iAxisID=r(u,o,l,c),p=i.vAxisID=r(u,l,o,c);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(f),i.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&n_(this._data,this),t._stacked&&uc(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),n=this._data;if(ce(i)){const r=this._cachedMeta;this._data=xO(i,r)}else if(n!==i){if(n){n_(n,this);const r=this._cachedMeta;uc(r),r._parsed=[]}i&&Object.isExtensible(i)&&eD(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const o=i._stacked;i._stacked=sm(i.vScale,i),i.stack!==n.stack&&(r=!0,uc(i),i.stack=n.stack),this._resyncElements(t),(r||o!==i._stacked)&&(__(this,i._parsed),i._stacked=sm(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:n,_data:r}=this,{iScale:o,_stacked:l}=n,c=o.axis;let u=t===0&&i===r.length?!0:n._sorted,f=t>0&&n._parsed[t-1],p,g,y;if(this._parsing===!1)n._parsed=r,n._sorted=!0,y=r;else{hi(r[t])?y=this.parseArrayData(n,r,t,i):ce(r[t])?y=this.parseObjectData(n,r,t,i):y=this.parsePrimitiveData(n,r,t,i);const x=()=>g[c]===null||f&&g[c]<f[c];for(p=0;p<i;++p)n._parsed[p+t]=g=y[p],u&&(x()&&(u=!1),f=g);n._sorted=u}l&&__(this,y)}parsePrimitiveData(t,i,n,r){const{iScale:o,vScale:l}=t,c=o.axis,u=l.axis,f=o.getLabels(),p=o===l,g=new Array(r);let y,x,v;for(y=0,x=r;y<x;++y)v=y+n,g[y]={[c]:p||o.parse(f[v],v),[u]:l.parse(i[v],v)};return g}parseArrayData(t,i,n,r){const{xScale:o,yScale:l}=t,c=new Array(r);let u,f,p,g;for(u=0,f=r;u<f;++u)p=u+n,g=i[p],c[u]={x:o.parse(g[0],p),y:l.parse(g[1],p)};return c}parseObjectData(t,i,n,r){const{xScale:o,yScale:l}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let p,g,y,x;for(p=0,g=r;p<g;++p)y=p+n,x=i[y],f[p]={x:o.parse(Df(x,c),y),y:l.parse(Df(x,u),y)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,n){const r=this.chart,o=this._cachedMeta,l=i[t.axis],c={keys:fC(r,!0),values:i._stacks[t.axis]._visualValues};return b_(c,l,o.index,{mode:n})}updateRangeFromParsed(t,i,n,r){const o=n[i.axis];let l=o===null?NaN:o;const c=r&&n._stacks[i.axis];r&&c&&(r.values=c,l=b_(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,i){const n=this._cachedMeta,r=n._parsed,o=n._sorted&&t===n.iScale,l=r.length,c=this._getOtherScale(t),u=wO(i,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=vO(c);let y,x;function v(){x=r[y];const _=x[c.axis];return!Rn(x[t.axis])||p>_||g<_}for(y=0;y<l&&!(!v()&&(this.updateRangeFromParsed(f,t,x,u),o));++y);if(o){for(y=l-1;y>=0;--y)if(!v()){this.updateRangeFromParsed(f,t,x,u);break}}return f}getAllParsedValues(t){const i=this._cachedMeta._parsed,n=[];let r,o,l;for(r=0,o=i.length;r<o;++r)l=i[r][t.axis],Rn(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,n=i.iScale,r=i.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=yO(ie(this.options.clip,mO(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,n=this._cachedMeta,r=n.data||[],o=i.chartArea,l=[],c=this._drawStart||0,u=this._drawCount||r.length-c,f=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(t,o,c,u),p=c;p<c+u;++p){const g=r[p];g.hidden||(g.active&&f?l.push(g):g.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,i){const n=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,i,n){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=CO(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=SO(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",n){const r=i==="active",o=this._cachedDataOpts,l=t+"-"+i,c=o[l],u=this.enableOptionSharing&&Of(n);if(c)return S_(c,u);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),g=r?[`${t}Hover`,"hover",t,""]:[t,""],y=f.getOptionScopes(this.getDataset(),p),x=Object.keys(Ye.elements[t]),v=()=>this.getContext(n,r,i),_=f.resolveNamedOptions(y,x,v,g);return _.$shared&&(_.$shared=u,o[l]=Object.freeze(S_(_,u))),_}_resolveAnimations(t,i,n){const r=this.chart,o=this._cachedDataOpts,l=`animation-${i}`,c=o[l];if(c)return c;let u;if(r.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,i),y=p.getOptionScopes(this.getDataset(),g);u=p.createResolver(y,this.getContext(t,n,i))}const f=new uC(r,u&&u.animations);return u&&u._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||lm(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const n=this.resolveDataElementOptions(t,i),r=this._sharedOptions,o=this.getSharedOptions(n),l=this.includeOptions(i,o)||o!==r;return this.updateSharedOptions(o,i,n),{sharedOptions:o,includeOptions:l}}updateElement(t,i,n,r){lm(r)?Object.assign(t,n):this._resolveAnimations(i,r).update(t,n)}updateSharedOptions(t,i,n){t&&!lm(i)&&this._resolveAnimations(void 0,i).update(t,n)}_setStyle(t,i,n,r){t.active=r;const o=this.getStyle(i,r);this._resolveAnimations(i,n,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,i,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,n=this._cachedMeta.data;for(const[c,u,f]of this._syncList)this[c](u,f);this._syncList=[];const r=n.length,o=i.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,i,n=!0){const r=this._cachedMeta,o=r.data,l=t+i;let c;const u=f=>{for(f.length+=i,c=f.length-1;c>=l;c--)f[c]=f[c-i]};for(u(o),c=t;c<l;++c)o[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(t,i),n&&this.updateElements(o,t,i,"reset")}updateElements(t,i,n,r){}_removeElements(t,i){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,i);n._stacked&&uc(n,r)}n.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,n,r]=t;this[i](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}bt(Gc,"defaults",{}),bt(Gc,"datasetElementType",null),bt(Gc,"dataElementType",null);class cf extends Gc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:n,data:r=[],_dataset:o}=i,l=this.chart._animationsDisabled;let{start:c,count:u}=aD(i,r,l);this._drawStart=c,this._drawCount=u,sD(i)&&(c=0,u=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:f},t),this.updateElements(r,c,u,t)}updateElements(t,i,n,r){const o=r==="reset",{iScale:l,vScale:c,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(i,r),y=l.axis,x=c.axis,{spanGaps:v,segment:_}=this.options,S=eh(v)?v:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||r==="none",T=i+n,M=t.length;let z=i>0&&this.getParsed(i-1);for(let D=0;D<M;++D){const E=t[D],R=w?E:{};if(D<i||D>=T){R.skip=!0;continue}const I=this.getParsed(D),J=ke(I[x]),K=R[y]=l.getPixelForValue(I[y],D),P=R[x]=o||J?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,I,u):I[x],D);R.skip=isNaN(K)||isNaN(P)||J,R.stop=D>0&&Math.abs(I[y]-z[y])>S,_&&(R.parsed=I,R.raw=f.data[D]),g&&(R.options=p||this.resolveDataElementOptions(D,E.active?"active":r)),w||this.updateElement(E,D,R,r),z=I}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,n=i.options&&i.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}bt(cf,"id","line"),bt(cf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),bt(cf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ny{constructor(t){bt(this,"options");this.options=t||{}}static override(t){Object.assign(ny.prototype,t)}init(){}formats(){return fs()}parse(){return fs()}format(){return fs()}add(){return fs()}diff(){return fs()}startOf(){return fs()}endOf(){return fs()}}var kO={_date:ny};function TO(e,t,i,n){const{controller:r,data:o,_sorted:l}=e,c=r._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&o.length){const f=c._reversePixels?J3:vs;if(n){if(r._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(t);if(g){const y=f(o,t,i-g),x=f(o,t,i+g);return{lo:y.lo,hi:x.hi}}}}else{const p=f(o,t,i);if(u){const{vScale:g}=r._cachedMeta,{_parsed:y}=e,x=y.slice(0,p.lo+1).reverse().findIndex(_=>!ke(_[g.axis]));p.lo-=Math.max(0,x);const v=y.slice(p.hi).findIndex(_=>!ke(_[g.axis]));p.hi+=Math.max(0,v)}return p}}return{lo:0,hi:o.length-1}}function vd(e,t,i,n,r){const o=e.getSortedVisibleDatasetMetas(),l=i[t];for(let c=0,u=o.length;c<u;++c){const{index:f,data:p}=o[c],{lo:g,hi:y}=TO(o[c],t,l,r);for(let x=g;x<=y;++x){const v=p[x];v.skip||n(v,f,x)}}}function AO(e){const t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(n,r){const o=t?Math.abs(n.x-r.x):0,l=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function cm(e,t,i,n,r){const o=[];return!r&&!e.isPointInArea(t)||vd(e,i,t,function(c,u,f){!r&&!ih(c,e.chartArea,0)||c.inRange(t.x,t.y,n)&&o.push({element:c,datasetIndex:u,index:f})},!0),o}function MO(e,t,i,n){let r=[];function o(l,c,u){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],n),{angle:g}=Z3(l,{x:t.x,y:t.y});XS(g,f,p)&&r.push({element:l,datasetIndex:c,index:u})}return vd(e,i,t,o),r}function EO(e,t,i,n,r,o){let l=[];const c=AO(i);let u=Number.POSITIVE_INFINITY;function f(p,g,y){const x=p.inRange(t.x,t.y,r);if(n&&!x)return;const v=p.getCenterPoint(r);if(!(!!o||e.isPointInArea(v))&&!x)return;const S=c(t,v);S<u?(l=[{element:p,datasetIndex:g,index:y}],u=S):S===u&&l.push({element:p,datasetIndex:g,index:y})}return vd(e,i,t,f),l}function hm(e,t,i,n,r,o){return!o&&!e.isPointInArea(t)?[]:i==="r"&&!n?MO(e,t,i,r):EO(e,t,i,n,r,o)}function C_(e,t,i,n,r){const o=[],l=i==="x"?"inXRange":"inYRange";let c=!1;return vd(e,i,t,(u,f,p)=>{u[l]&&u[l](t[i],r)&&(o.push({element:u,datasetIndex:f,index:p}),c=c||u.inRange(t.x,t.y,r))}),n&&!c?[]:o}var BO={modes:{index(e,t,i,n){const r=ps(t,e),o=i.axis||"x",l=i.includeInvisible||!1,c=i.intersect?cm(e,r,o,n,l):hm(e,r,o,!1,n,l),u=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,g=f.data[p];g&&!g.skip&&u.push({element:g,datasetIndex:f.index,index:p})}),u):[]},dataset(e,t,i,n){const r=ps(t,e),o=i.axis||"xy",l=i.includeInvisible||!1;let c=i.intersect?cm(e,r,o,n,l):hm(e,r,o,!1,n,l);if(c.length>0){const u=c[0].datasetIndex,f=e.getDatasetMeta(u).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:u,index:p})}return c},point(e,t,i,n){const r=ps(t,e),o=i.axis||"xy",l=i.includeInvisible||!1;return cm(e,r,o,n,l)},nearest(e,t,i,n){const r=ps(t,e),o=i.axis||"xy",l=i.includeInvisible||!1;return hm(e,r,o,i.intersect,n,l)},x(e,t,i,n){const r=ps(t,e);return C_(e,r,"x",i.intersect,n)},y(e,t,i,n){const r=ps(t,e);return C_(e,r,"y",i.intersect,n)}}};const dC=["left","top","right","bottom"];function fc(e,t){return e.filter(i=>i.pos===t)}function w_(e,t){return e.filter(i=>dC.indexOf(i.pos)===-1&&i.box.axis===t)}function dc(e,t){return e.sort((i,n)=>{const r=t?n:i,o=t?i:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function LO(e){const t=[];let i,n,r,o,l,c;for(i=0,n=(e||[]).length;i<n;++i)r=e[i],{position:o,options:{stack:l,stackWeight:c=1}}=r,t.push({index:i,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:c});return t}function DO(e){const t={};for(const i of e){const{stack:n,pos:r,stackWeight:o}=i;if(!n||!dC.includes(r))continue;const l=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function OO(e,t){const i=DO(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let o,l,c;for(o=0,l=e.length;o<l;++o){c=e[o];const{fullSize:u}=c.box,f=i[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*n:u&&t.availableWidth,c.height=r):(c.width=n,c.height=p?p*r:u&&t.availableHeight)}return i}function RO(e){const t=LO(e),i=dc(t.filter(f=>f.box.fullSize),!0),n=dc(fc(t,"left"),!0),r=dc(fc(t,"right")),o=dc(fc(t,"top"),!0),l=dc(fc(t,"bottom")),c=w_(t,"x"),u=w_(t,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:r.concat(u).concat(l).concat(c),chartArea:fc(t,"chartArea"),vertical:n.concat(r).concat(u),horizontal:o.concat(l).concat(c)}}function k_(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function pC(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function zO(e,t,i,n){const{pos:r,box:o}=i,l=e.maxPadding;if(!ce(r)){i.size&&(e[r]-=i.size);const g=n[i.stack]||{size:0,count:1};g.size=Math.max(g.size,i.horizontal?o.height:o.width),i.size=g.size/g.count,e[r]+=i.size}o.getPadding&&pC(l,o.getPadding());const c=Math.max(0,t.outerWidth-k_(l,e,"left","right")),u=Math.max(0,t.outerHeight-k_(l,e,"top","bottom")),f=c!==e.w,p=u!==e.h;return e.w=c,e.h=u,i.horizontal?{same:f,other:p}:{same:p,other:f}}function NO(e){const t=e.maxPadding;function i(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function FO(e,t){const i=t.maxPadding;function n(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],i[l])}),o}return n(e?["left","right"]:["top","bottom"])}function Dc(e,t,i,n){const r=[];let o,l,c,u,f,p;for(o=0,l=e.length,f=0;o<l;++o){c=e[o],u=c.box,u.update(c.width||t.w,c.height||t.h,FO(c.horizontal,t));const{same:g,other:y}=zO(t,i,c,n);f|=g&&r.length,p=p||y,u.fullSize||r.push(c)}return f&&Dc(r,t,i,n)||p}function Uu(e,t,i,n,r){e.top=i,e.left=t,e.right=t+n,e.bottom=i+r,e.width=n,e.height=r}function T_(e,t,i,n){const r=i.padding;let{x:o,y:l}=t;for(const c of e){const u=c.box,f=n[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const g=t.w*p,y=f.size||u.height;Of(f.start)&&(l=f.start),u.fullSize?Uu(u,r.left,l,i.outerWidth-r.right-r.left,y):Uu(u,t.left+f.placed,l,g,y),f.start=l,f.placed+=g,l=u.bottom}else{const g=t.h*p,y=f.size||u.width;Of(f.start)&&(o=f.start),u.fullSize?Uu(u,o,r.top,y,i.outerHeight-r.bottom-r.top):Uu(u,o,t.top+f.placed,y,g),f.start=o,f.placed+=g,o=u.right}}t.x=o,t.y=l}var On={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;const r=zn(e.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(i-r.height,0),c=RO(e.boxes),u=c.vertical,f=c.horizontal;me(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=u.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:i,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),y=Object.assign({},r);pC(y,zn(n));const x=Object.assign({maxPadding:y,w:o,h:l,x:r.left,y:r.top},r),v=OO(u.concat(f),g);Dc(c.fullSize,x,g,v),Dc(u,x,g,v),Dc(f,x,g,v)&&Dc(u,x,g,v),NO(x),T_(c.leftAndTop,x,g,v),x.x+=x.w,x.y+=x.h,T_(c.rightAndBottom,x,g,v),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},me(c.chartArea,_=>{const S=_.box;Object.assign(S,e.chartArea),S.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class gC{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,n){}removeEventListener(t,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,n,r){return i=Math.max(0,i||t.width),n=n||t.height,{width:i,height:Math.max(0,r?Math.floor(i/r):n)}}isAttached(t){return!0}updateConfig(t){}}class $O extends gC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const hf="$chartjs",jO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},A_=e=>e===null||e==="";function HO(e,t){const i=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[hf]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",A_(r)){const o=d_(e,"width");o!==void 0&&(e.width=o)}if(A_(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=d_(e,"height");o!==void 0&&(e.height=o)}return e}const mC=ZD?{passive:!0}:!1;function IO(e,t,i){e&&e.addEventListener(t,i,mC)}function PO(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,mC)}function qO(e,t){const i=jO[e.type]||e.type,{x:n,y:r}=ps(e,t);return{type:i,chart:t,native:e,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Nf(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function UO(e,t,i){const n=e.canvas,r=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Nf(c.addedNodes,n),l=l&&!Nf(c.removedNodes,n);l&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function WO(e,t,i){const n=e.canvas,r=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Nf(c.removedNodes,n),l=l&&!Nf(c.addedNodes,n);l&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}const rh=new Map;let M_=0;function yC(){const e=window.devicePixelRatio;e!==M_&&(M_=e,rh.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function YO(e,t){rh.size||window.addEventListener("resize",yC),rh.set(e,t)}function GO(e){rh.delete(e),rh.size||window.removeEventListener("resize",yC)}function VO(e,t,i){const n=e.canvas,r=n&&iy(n);if(!r)return;const o=KS((c,u)=>{const f=r.clientWidth;i(c,u),f<r.clientWidth&&i()},window),l=new ResizeObserver(c=>{const u=c[0],f=u.contentRect.width,p=u.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(r),YO(e,o),l}function um(e,t,i){i&&i.disconnect(),t==="resize"&&GO(e)}function XO(e,t,i){const n=e.canvas,r=KS(o=>{e.ctx!==null&&i(qO(o,e))},e);return IO(n,t,r),r}class ZO extends gC{acquireContext(t,i){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(HO(t,i),n):null}releaseContext(t){const i=t.canvas;if(!i[hf])return!1;const n=i[hf].initial;["height","width"].forEach(o=>{const l=n[o];ke(l)?i.removeAttribute(o):i.setAttribute(o,l)});const r=n.style||{};return Object.keys(r).forEach(o=>{i.style[o]=r[o]}),i.width=i.width,delete i[hf],!0}addEventListener(t,i,n){this.removeEventListener(t,i);const r=t.$proxies||(t.$proxies={}),l={attach:UO,detach:WO,resize:VO}[i]||XO;r[i]=l(t,i,n)}removeEventListener(t,i){const n=t.$proxies||(t.$proxies={}),r=n[i];if(!r)return;({attach:um,detach:um,resize:um}[i]||PO)(t,i,r),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,n,r){return XD(t,i,n,r)}isAttached(t){const i=t&&iy(t);return!!(i&&i.isConnected)}}function QO(e){return!ey()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?$O:ZO}var lf;let Fs=(lf=class{constructor(){bt(this,"x");bt(this,"y");bt(this,"active",!1);bt(this,"options");bt(this,"$animations")}tooltipPosition(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}hasValue(){return eh(this.x)&&eh(this.y)}getProps(t,i){const n=this.$animations;if(!i||!n)return this;const r={};return t.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}},bt(lf,"defaults",{}),bt(lf,"defaultRoutes"),lf);function KO(e,t){const i=e.options.ticks,n=JO(e),r=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?eR(t):[],l=o.length,c=o[0],u=o[l-1],f=[];if(l>r)return iR(t,f,o,l/r),f;const p=tR(o,t,r);if(l>0){let g,y;const x=l>1?Math.round((u-c)/(l-1)):null;for(Wu(t,f,p,ke(x)?0:c-x,c),g=0,y=l-1;g<y;g++)Wu(t,f,p,o[g],o[g+1]);return Wu(t,f,p,u,ke(x)?t.length:u+x),f}return Wu(t,f,p),f}function JO(e){const t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),r=e._maxLength/i;return Math.floor(Math.min(n,r))}function tR(e,t,i){const n=nR(e),r=t.length/i;if(!n)return Math.max(r,1);const o=W3(n);for(let l=0,c=o.length-1;l<c;l++){const u=o[l];if(u>r)return u}return Math.max(r,1)}function eR(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}function iR(e,t,i,n){let r=0,o=i[0],l;for(n=Math.ceil(n),l=0;l<e.length;l++)l===o&&(t.push(e[l]),r++,o=i[r*n])}function Wu(e,t,i,n,r){const o=ie(n,0),l=Math.min(ie(r,e.length),e.length);let c=0,u,f,p;for(i=Math.ceil(i),r&&(u=r-n,i=u/Math.floor(u/i)),p=o;p<0;)c++,p=Math.round(o+c*i);for(f=Math.max(o,0);f<l;f++)f===p&&(t.push(e[f]),c++,p=Math.round(o+c*i))}function nR(e){const t=e.length;let i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}const rR=e=>e==="left"?"right":e==="right"?"left":e,E_=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i,B_=(e,t)=>Math.min(t||e,e);function L_(e,t){const i=[],n=e.length/t,r=e.length;let o=0;for(;o<r;o+=n)i.push(e[Math.floor(o)]);return i}function aR(e,t,i){const n=e.ticks.length,r=Math.min(t,n-1),o=e._startPixel,l=e._endPixel,c=1e-6;let u=e.getPixelForTick(r),f;if(!(i&&(n===1?f=Math.max(u-o,l-u):t===0?f=(e.getPixelForTick(1)-u)/2:f=(u-e.getPixelForTick(r-1))/2,u+=r<t?f:-f,u<o-c||u>l+c)))return u}function sR(e,t){me(e,i=>{const n=i.gc,r=n.length/2;let o;if(r>t){for(o=0;o<r;++o)delete i.data[n[o]];n.splice(0,r)}})}function pc(e){return e.drawTicks?e.tickLength:0}function D_(e,t){if(!e.display)return 0;const i=Ei(e.font,t),n=zn(e.padding);return(hi(e.text)?e.text.length:1)*i.lineHeight+n.height}function oR(e,t){return Ns(e,{scale:t,type:"scale"})}function lR(e,t,i){return Ns(e,{tick:i,index:t,type:"tick"})}function cR(e,t,i){let n=V0(e);return(i&&t!=="right"||!i&&t==="right")&&(n=rR(n)),n}function hR(e,t,i,n){const{top:r,left:o,bottom:l,right:c,chart:u}=e,{chartArea:f,scales:p}=u;let g=0,y,x,v;const _=l-r,S=c-o;if(e.isHorizontal()){if(x=Mi(n,o,c),ce(i)){const w=Object.keys(i)[0],T=i[w];v=p[w].getPixelForValue(T)+_-t}else i==="center"?v=(f.bottom+f.top)/2+_-t:v=E_(e,i,t);y=c-o}else{if(ce(i)){const w=Object.keys(i)[0],T=i[w];x=p[w].getPixelForValue(T)-S+t}else i==="center"?x=(f.left+f.right)/2-S+t:x=E_(e,i,t);v=Mi(n,l,r),g=i==="left"?-Xn:Xn}return{titleX:x,titleY:v,maxWidth:y,rotation:g}}class cl extends Fs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:n,_suggestedMax:r}=this;return t=cr(t,Number.POSITIVE_INFINITY),i=cr(i,Number.NEGATIVE_INFINITY),n=cr(n,Number.POSITIVE_INFINITY),r=cr(r,Number.NEGATIVE_INFINITY),{min:cr(t,n),max:cr(i,r),minDefined:Rn(t),maxDefined:Rn(i)}}getMinMax(t){let{min:i,max:n,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:i,max:n};const c=this.getMatchingVisibleMetas();for(let u=0,f=c.length;u<f;++u)l=c[u].controller.getMinMax(this,t),r||(i=Math.min(i,l.min)),o||(n=Math.max(n,l.max));return i=o&&i>n?n:i,n=r&&i>n?i:n,{min:cr(i,cr(n,i)),max:cr(n,cr(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(t,i,n){const{beginAtZero:r,grace:o,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AD(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?L_(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=KO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,t=!t),this._startPixel=i,this._endPixel=n,this._reversePixels=t,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n],o.label=Be(i.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,n=B_(this.ticks.length,t.ticks.maxTicksLimit),r=i.minRotation||0,o=i.maxRotation;let l=r,c,u,f;if(!this._isVisible()||!i.display||r>=o||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),g=p.widest.width,y=p.highest.height,x=Dn(this.chart.width-g,0,this.maxWidth);c=t.offset?this.maxWidth/n:x/(n-1),g+6>c&&(c=x/(n-(t.offset?.5:1)),u=this.maxHeight-pc(t.grid)-i.padding-D_(t.title,this.chart.options.font),f=Math.sqrt(g*g+y*y),l=X3(Math.min(Math.asin(Dn((p.highest.height+6)/c,-1,1)),Math.asin(Dn(u/f,-1,1))-Math.asin(Dn(y/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:n,title:r,grid:o}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const u=D_(r,i.options.font);if(c?(t.width=this.maxWidth,t.height=pc(o)+u):(t.height=this.maxHeight,t.width=pc(o)+u),n.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:y}=this._getLabelSizes(),x=n.padding*2,v=bs(this.labelRotation),_=Math.cos(v),S=Math.sin(v);if(c){const w=n.mirror?0:S*g.width+_*y.height;t.height=Math.min(this.maxHeight,t.height+w+x)}else{const w=n.mirror?0:_*g.width+S*y.height;t.width=Math.min(this.maxWidth,t.width+w+x)}this._calculatePadding(f,p,S,_)}}this._handleMargins(),c?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,n,r){const{ticks:{align:o,padding:l},position:c}=this.options,u=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,x=0;u?f?(y=r*t.width,x=n*i.height):(y=n*t.height,x=r*i.width):o==="start"?x=i.width:o==="end"?y=t.width:o!=="inner"&&(y=t.width/2,x=i.width/2),this.paddingLeft=Math.max((y-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-g+l)*this.width/(this.width-g),0)}else{let p=i.height/2,g=t.height/2;o==="start"?(p=0,g=t.height):o==="end"&&(p=i.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,n;for(i=0,n=t.length;i<n;i++)ke(t[i].label)&&(t.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let n=this.ticks;i<n.length&&(n=L_(n,i)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,n){const{ctx:r,_longestTextCache:o}=this,l=[],c=[],u=Math.floor(i/B_(i,n));let f=0,p=0,g,y,x,v,_,S,w,T,M,z,D;for(g=0;g<i;g+=u){if(v=t[g].label,_=this._resolveTickFontOptions(g),r.font=S=_.string,w=o[S]=o[S]||{data:{},gc:[]},T=_.lineHeight,M=z=0,!ke(v)&&!hi(v))M=l_(r,w.data,w.gc,M,v),z=T;else if(hi(v))for(y=0,x=v.length;y<x;++y)D=v[y],!ke(D)&&!hi(D)&&(M=l_(r,w.data,w.gc,M,D),z+=T);l.push(M),c.push(z),f=Math.max(M,f),p=Math.max(z,p)}sR(o,i);const E=l.indexOf(f),R=c.indexOf(p),I=J=>({width:l[J]||0,height:c[J]||0});return{first:I(0),last:I(i-1),widest:I(E),highest:I(R),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return K3(this._alignToPixels?us(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const n=i[t];return n.$context||(n.$context=lR(this.getContext(),t,n))}return this.$context||(this.$context=oR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=bs(this.labelRotation),n=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,c=o?o.widest.width+l:0,u=o?o.highest.height+l:0;return this.isHorizontal()?u*n>c*r?c/n:u/r:u*r<c*n?u/n:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,n=this.chart,r=this.options,{grid:o,position:l,border:c}=r,u=o.offset,f=this.isHorizontal(),g=this.ticks.length+(u?1:0),y=pc(o),x=[],v=c.setContext(this.getContext()),_=v.display?v.width:0,S=_/2,w=function(L){return us(n,L,_)};let T,M,z,D,E,R,I,J,K,P,it,et;if(l==="top")T=w(this.bottom),R=this.bottom-y,J=T-S,P=w(t.top)+S,et=t.bottom;else if(l==="bottom")T=w(this.top),P=t.top,et=w(t.bottom)-S,R=T+S,J=this.top+y;else if(l==="left")T=w(this.right),E=this.right-y,I=T-S,K=w(t.left)+S,it=t.right;else if(l==="right")T=w(this.left),K=t.left,it=w(t.right)-S,E=T+S,I=this.left+y;else if(i==="x"){if(l==="center")T=w((t.top+t.bottom)/2+.5);else if(ce(l)){const L=Object.keys(l)[0],F=l[L];T=w(this.chart.scales[L].getPixelForValue(F))}P=t.top,et=t.bottom,R=T+S,J=R+y}else if(i==="y"){if(l==="center")T=w((t.left+t.right)/2);else if(ce(l)){const L=Object.keys(l)[0],F=l[L];T=w(this.chart.scales[L].getPixelForValue(F))}E=T-S,I=E-y,K=t.left,it=t.right}const G=ie(r.ticks.maxTicksLimit,g),q=Math.max(1,Math.ceil(g/G));for(M=0;M<g;M+=q){const L=this.getContext(M),F=o.setContext(L),j=c.setContext(L),ut=F.lineWidth,O=F.color,W=j.dash||[],ht=j.dashOffset,nt=F.tickWidth,gt=F.tickColor,yt=F.tickBorderDash||[],st=F.tickBorderDashOffset;z=aR(this,M,u),z!==void 0&&(D=us(n,z,ut),f?E=I=K=it=D:R=J=P=et=D,x.push({tx1:E,ty1:R,tx2:I,ty2:J,x1:K,y1:P,x2:it,y2:et,width:ut,color:O,borderDash:W,borderDashOffset:ht,tickWidth:nt,tickColor:gt,tickBorderDash:yt,tickBorderDashOffset:st}))}return this._ticksLength=g,this._borderValue=T,x}_computeLabelItems(t){const i=this.axis,n=this.options,{position:r,ticks:o}=n,l=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:f,padding:p,mirror:g}=o,y=pc(n.grid),x=y+p,v=g?-p:x,_=-bs(this.labelRotation),S=[];let w,T,M,z,D,E,R,I,J,K,P,it,et="middle";if(r==="top")E=this.bottom-v,R=this._getXAxisLabelAlignment();else if(r==="bottom")E=this.top+v,R=this._getXAxisLabelAlignment();else if(r==="left"){const q=this._getYAxisLabelAlignment(y);R=q.textAlign,D=q.x}else if(r==="right"){const q=this._getYAxisLabelAlignment(y);R=q.textAlign,D=q.x}else if(i==="x"){if(r==="center")E=(t.top+t.bottom)/2+x;else if(ce(r)){const q=Object.keys(r)[0],L=r[q];E=this.chart.scales[q].getPixelForValue(L)+x}R=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")D=(t.left+t.right)/2-x;else if(ce(r)){const q=Object.keys(r)[0],L=r[q];D=this.chart.scales[q].getPixelForValue(L)}R=this._getYAxisLabelAlignment(y).textAlign}i==="y"&&(u==="start"?et="top":u==="end"&&(et="bottom"));const G=this._getLabelSizes();for(w=0,T=c.length;w<T;++w){M=c[w],z=M.label;const q=o.setContext(this.getContext(w));I=this.getPixelForTick(w)+o.labelOffset,J=this._resolveTickFontOptions(w),K=J.lineHeight,P=hi(z)?z.length:1;const L=P/2,F=q.color,j=q.textStrokeColor,ut=q.textStrokeWidth;let O=R;l?(D=I,R==="inner"&&(w===T-1?O=this.options.reverse?"left":"right":w===0?O=this.options.reverse?"right":"left":O="center"),r==="top"?f==="near"||_!==0?it=-P*K+K/2:f==="center"?it=-G.highest.height/2-L*K+K:it=-G.highest.height+K/2:f==="near"||_!==0?it=K/2:f==="center"?it=G.highest.height/2-L*K:it=G.highest.height-P*K,g&&(it*=-1),_!==0&&!q.showLabelBackdrop&&(D+=K/2*Math.sin(_))):(E=I,it=(1-P)*K/2);let W;if(q.showLabelBackdrop){const ht=zn(q.backdropPadding),nt=G.heights[w],gt=G.widths[w];let yt=it-ht.top,st=0-ht.left;switch(et){case"middle":yt-=nt/2;break;case"bottom":yt-=nt;break}switch(R){case"center":st-=gt/2;break;case"right":st-=gt;break;case"inner":w===T-1?st-=gt:w>0&&(st-=gt/2);break}W={left:st,top:yt,width:gt+ht.width,height:nt+ht.height,color:q.backdropColor}}S.push({label:z,font:J,textOffset:it,options:{rotation:_,color:F,strokeColor:j,strokeWidth:ut,textAlign:O,textBaseline:et,translation:[D,E],backdrop:W}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-bs(this.labelRotation))return t==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),c=t+o,u=l.widest.width;let f,p;return i==="left"?r?(p=this.right+o,n==="near"?f="left":n==="center"?(f="center",p+=u/2):(f="right",p+=u)):(p=this.right-c,n==="near"?f="right":n==="center"?(f="center",p-=u/2):(f="left",p=this.left)):i==="right"?r?(p=this.left+o,n==="near"?f="right":n==="center"?(f="center",p-=u/2):(f="left",p-=u)):(p=this.left+c,n==="near"?f="left":n==="center"?(f="center",p+=u/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:n,top:r,width:o,height:l}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(n,r,o,l),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const i=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const c=(u,f,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(i.display)for(o=0,l=r.length;o<l;++o){const u=r[o];i.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),i.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),l=n.display?o.width:0;if(!l)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,p,g,y;this.isHorizontal()?(f=us(t,this.left,l)-l/2,p=us(t,this.right,c)+c/2,g=y=u):(g=us(t,this.top,l)-l/2,y=us(t,this.bottom,c)+c/2,f=p=u),i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.beginPath(),i.moveTo(f,g),i.lineTo(p,y),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Z0(n,r);const o=this.getLabelItems(t);for(const l of o){const c=l.options,u=l.font,f=l.label,p=l.textOffset;nh(n,f,0,p,u,c)}r&&Q0(n)}drawTitle(){const{ctx:t,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;const o=Ei(n.font),l=zn(n.padding),c=n.align;let u=o.lineHeight/2;i==="bottom"||i==="center"||ce(i)?(u+=l.bottom,hi(n.text)&&(u+=o.lineHeight*(n.text.length-1))):u+=l.top;const{titleX:f,titleY:p,maxWidth:g,rotation:y}=hR(this,u,i,c);nh(t,n.text,0,0,o,{color:n.color,maxWidth:g,rotation:y,textAlign:cR(c,i,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,n=ie(t.grid&&t.grid.z,-1),r=ie(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==cl.prototype.draw?[{z:i,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let o,l;for(o=0,l=i.length;o<l;++o){const c=i[o];c[n]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return Ei(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Yu{constructor(t,i,n){this.type=t,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let n;dR(i)&&(n=this.register(i));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,uR(t,l,n),this.override&&Ye.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const i=this.items,n=t.id,r=this.scope;n in i&&delete i[n],r&&n in Ye[r]&&(delete Ye[r][n],this.override&&delete Es[n])}}function uR(e,t,i){const n=th(Object.create(null),[i?Ye.get(i):{},Ye.get(t),e.defaults]);Ye.set(t,n),e.defaultRoutes&&fR(t,e.defaultRoutes),e.descriptors&&Ye.describe(t,e.descriptors)}function fR(e,t){Object.keys(t).forEach(i=>{const n=i.split("."),r=n.pop(),o=[e].concat(n).join("."),l=t[i].split("."),c=l.pop(),u=l.join(".");Ye.route(o,r,u,c)})}function dR(e){return"id"in e&&"defaults"in e}class pR{constructor(){this.controllers=new Yu(Gc,"datasets",!0),this.elements=new Yu(Fs,"elements"),this.plugins=new Yu(Object,"plugins"),this.scales=new Yu(cl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,n){[...i].forEach(r=>{const o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):me(r,l=>{const c=n||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,i,n){const r=Y0(t);Be(n["before"+r],[],n),i[t](n),Be(n["after"+r],[],n)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const n=this._typedRegistries[i];if(n.isForType(t))return n}return this.plugins}_get(t,i,n){const r=i.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var pr=new pR;class gR{constructor(){this._init=[]}notify(t,i,n,r){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,i,n);return i==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,i,n,r){r=r||{};for(const o of t){const l=o.plugin,c=l[n],u=[i,r,o.options];if(Be(c,u,l)===!1&&r.cancelable)return!1}return!0}invalidate(){ke(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const n=t&&t.config,r=ie(n.options&&n.options.plugins,{}),o=mR(n);return r===!1&&!i?[]:xR(t,o,r,i)}_notifyStateChanges(t){const i=this._oldCache||[],n=this._cache,r=(o,l)=>o.filter(c=>!l.some(u=>c.plugin.id===u.plugin.id));this._notify(r(i,n),t,"stop"),this._notify(r(n,i),t,"start")}}function mR(e){const t={},i=[],n=Object.keys(pr.plugins.items);for(let o=0;o<n.length;o++)i.push(pr.getPlugin(n[o]));const r=e.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];i.indexOf(l)===-1&&(i.push(l),t[l.id]=!0)}return{plugins:i,localIds:t}}function yR(e,t){return!t&&e===!1?null:e===!0?{}:e}function xR(e,{plugins:t,localIds:i},n,r){const o=[],l=e.getContext();for(const c of t){const u=c.id,f=yR(n[u],r);f!==null&&o.push({plugin:c,options:bR(e.config,{plugin:c,local:i[u]},f,l)})}return o}function bR(e,{plugin:t,local:i},n,r){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(n,o);return i&&t.defaults&&l.push(t.defaults),e.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jm(e,t){const i=Ye.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function vR(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function _R(e,t){return e===t?"_index_":"_value_"}function O_(e){if(e==="x"||e==="y"||e==="r")return e}function SR(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Hm(e,...t){if(O_(e))return e;for(const i of t){const n=i.axis||SR(i.position)||e.length>1&&O_(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function R_(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function CR(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(i.length)return R_(e,"x",i[0])||R_(e,"y",i[0])}return{}}function wR(e,t){const i=Es[e.type]||{scales:{}},n=t.scales||{},r=jm(e.type,t),o=Object.create(null);return Object.keys(n).forEach(l=>{const c=n[l];if(!ce(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=Hm(l,c,CR(l,e),Ye.scales[c.type]),f=_R(u,r),p=i.scales||{};o[l]=Pc(Object.create(null),[{axis:u},c,p[u],p[f]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,u=l.indexAxis||jm(c,t),p=(Es[c]||{}).scales||{};Object.keys(p).forEach(g=>{const y=vR(g,u),x=l[y+"AxisID"]||y;o[x]=o[x]||Object.create(null),Pc(o[x],[{axis:y},n[x],p[g]])})}),Object.keys(o).forEach(l=>{const c=o[l];Pc(c,[Ye.scales[c.type],Ye.scale])}),o}function xC(e){const t=e.options||(e.options={});t.plugins=ie(t.plugins,{}),t.scales=wR(e,t)}function bC(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function kR(e){return e=e||{},e.data=bC(e.data),xC(e),e}const z_=new Map,vC=new Set;function Gu(e,t){let i=z_.get(e);return i||(i=t(),z_.set(e,i),vC.add(i)),i}const gc=(e,t,i)=>{const n=Df(t,i);n!==void 0&&e.add(n)};class TR{constructor(t){this._config=kR(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Gu(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Gu(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,n=this.type;return Gu(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const n=this._scopeCache;let r=n.get(t);return(!r||i)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,i,n){const{options:r,type:o}=this,l=this._cachedScopes(t,n),c=l.get(i);if(c)return c;const u=new Set;i.forEach(p=>{t&&(u.add(t),p.forEach(g=>gc(u,t,g))),p.forEach(g=>gc(u,r,g)),p.forEach(g=>gc(u,Es[o]||{},g)),p.forEach(g=>gc(u,Ye,g)),p.forEach(g=>gc(u,Nm,g))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),vC.has(i)&&l.set(i,f),f}chartOptionScopes(){const{options:t,type:i}=this;return[t,Es[i]||{},Ye.datasets[i]||{},{type:i},Ye,Nm]}resolveNamedOptions(t,i,n,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:c}=N_(this._resolverCache,t,r);let u=l;if(MR(l,i)){o.$shared=!1,n=Fa(n)?n():n;const f=this.createResolver(t,n,c);u=Xo(l,n,f)}for(const f of i)o[f]=u[f];return o}createResolver(t,i,n=[""],r){const{resolver:o}=N_(this._resolverCache,t,n);return ce(i)?Xo(o,i,void 0,r):o}}function N_(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));const r=i.join();let o=n.get(r);return o||(o={resolver:K0(t,i),subPrefixes:i.filter(c=>!c.toLowerCase().includes("hover"))},n.set(r,o)),o}const AR=e=>ce(e)&&Object.getOwnPropertyNames(e).some(t=>Fa(e[t]));function MR(e,t){const{isScriptable:i,isIndexable:n}=nC(e);for(const r of t){const o=i(r),l=n(r),c=(l||o)&&e[r];if(o&&(Fa(c)||AR(c))||l&&hi(c))return!0}return!1}var ER="4.4.9";const BR=["top","bottom","left","right","chartArea"];function F_(e,t){return e==="top"||e==="bottom"||BR.indexOf(e)===-1&&t==="x"}function $_(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function j_(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),Be(i&&i.onComplete,[e],t)}function LR(e){const t=e.chart,i=t.options.animation;Be(i&&i.onProgress,[e],t)}function _C(e){return ey()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const uf={},H_=e=>{const t=_C(e);return Object.values(uf).filter(i=>i.canvas===t).pop()};function DR(e,t,i){const n=Object.keys(e);for(const r of n){const o=+r;if(o>=t){const l=e[r];delete e[r],(i>0||o>t)&&(e[o+i]=l)}}}function OR(e,t,i,n){return!i||e.type==="mouseout"?null:n?t:e}var Ea;let _d=(Ea=class{static register(...t){pr.add(...t),I_()}static unregister(...t){pr.remove(...t),I_()}constructor(t,i){const n=this.config=new TR(i),r=_C(t),o=H_(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||QO(r)),this.platform.updateConfig(n);const c=this.platform.acquireContext(r,l.aspectRatio),u=c&&c.canvas,f=u&&u.height,p=u&&u.width;if(this.id=N3(),this.ctx=c,this.canvas=u,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nD(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],uf[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Pr.listen(this,"complete",j_),Pr.listen(this,"progress",LR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:n,height:r,_aspectRatio:o}=this;return ke(t)?i&&o?o:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return pr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():f_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return c_(this.canvas,this.ctx),this}stop(){return Pr.stop(this),this}resize(t,i){Pr.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const n=this.options,r=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,i,o),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,f_(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Be(n.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};me(i,(n,r)=>{n.id=r})}buildOrUpdateScales(){const t=this.options,i=t.scales,n=this.scales,r=Object.keys(n).reduce((l,c)=>(l[c]=!1,l),{});let o=[];i&&(o=o.concat(Object.keys(i).map(l=>{const c=i[l],u=Hm(l,c),f=u==="r",p=u==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),me(o,l=>{const c=l.options,u=c.id,f=Hm(u,c),p=ie(c.type,l.dtype);(c.position===void 0||F_(c.position,f)!==F_(l.dposition))&&(c.position=l.dposition),r[u]=!0;let g=null;if(u in n&&n[u].type===p)g=n[u];else{const y=pr.getScale(p);g=new y({id:u,type:p,ctx:this.ctx,chart:this}),n[g.id]=g}g.init(c,t)}),me(r,(l,c)=>{l||delete n[c]}),me(n,l=>{On.configure(this,l,l.options),On.addBox(this,l)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,n=t.length;if(t.sort((r,o)=>r.index-o.index),n>i){for(let r=i;r<n;++r)this._destroyDatasetMeta(r);t.splice(i,n-i)}this._sortedMetasets=t.slice(0).sort($_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((n,r)=>{i.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=i.length;n<r;n++){const o=i[n];let l=this.getDatasetMeta(n);const c=o.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=c,l.indexAxis=o.indexAxis||jm(c,this.options),l.order=o.order||0,l.index=n,l.label=""+o.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const u=pr.getController(c),{datasetElementType:f,dataElementType:p}=Ye.datasets[c];Object.assign(u,{dataElementType:pr.getElement(p),datasetElementType:f&&pr.getElement(f)}),l.controller=new u(this,n),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){me(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),y=!r&&o.indexOf(g)===-1;g.buildOrUpdateElements(y),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),r||me(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($_("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){me(this.scales,t=>{On.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Jv(i,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:o}of i){const l=n==="_removeElements"?-o:o;DR(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,n=o=>new Set(t.filter(l=>l[0]===o).map((l,c)=>c+","+l.splice(1).join(","))),r=n(0);for(let o=1;o<i;o++)if(!Jv(r,n(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;On.update(this,this.width,this.height,t);const i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],me(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,Fa(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pr.has(this)?this.attached&&!Pr.running(this)&&Pr.start(this):(this.draw(),j_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,n=[];let r,o;for(r=0,o=i.length;r<o;++r){const l=i[r];(!t||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,n={meta:t,index:t.index,cancelable:!0},r=hO(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&Z0(i,r),t.controller.draw(),r&&Q0(i),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return ih(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,n,r){const o=BO.modes[i];return typeof o=="function"?o(this,t,n,r):[]}getDatasetMeta(t){const i=this.data.datasets[t],n=this._metasets;let r=n.filter(o=>o&&o._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Ns(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(t,i){const n=this.getDatasetMeta(t);n.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,n){const r=n?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);Of(i)?(o.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),l.update(o,{visible:n}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),Pr.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),c_(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete uf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,n=(o,l)=>{i.addEventListener(this,o,l),t[o]=l},r=(o,l,c)=>{o.offsetX=l,o.offsetY=c,this._eventHandler(o)};me(this.options.events,o=>n(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,n=(u,f)=>{i.addEventListener(this,u,f),t[u]=f},r=(u,f)=>{t[u]&&(i.removeEventListener(this,u,f),delete t[u])},o=(u,f)=>{this.canvas&&this.resize(u,f)};let l;const c=()=>{r("attach",c),this.attached=!0,this.resize(),n("resize",o),n("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),n("attach",c)},i.isAttached(this.canvas)?c():l()}unbindEvents(){me(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},me(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,n){const r=n?"set":"remove";let o,l,c,u;for(i==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],n=t.map(({datasetIndex:o,index:l})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[l],index:l}});!Bf(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(t,i,n){return this._plugins.notify(this,t,i,n)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,n){const r=this.options.hover,o=(u,f)=>u.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=o(i,t),c=n?t:o(t,i);l.length&&this.updateHoverStyle(l,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,i){const n={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const o=this._handleEvent(t,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(o||n.changed)&&this.render(),this}_handleEvent(t,i,n){const{_active:r=[],options:o}=this,l=i,c=this._getActiveElements(t,r,n,l),u=P3(t),f=OR(t,this._lastEvent,n,u);n&&(this._lastEvent=null,Be(o.onHover,[t,c,this],this),u&&Be(o.onClick,[t,c,this],this));const p=!Bf(c,r);return(p||i)&&(this._active=c,this._updateHoverStyles(c,r,i)),this._lastEvent=f,p}_getActiveElements(t,i,n,r){if(t.type==="mouseout")return[];if(!n)return i;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}},bt(Ea,"defaults",Ye),bt(Ea,"instances",uf),bt(Ea,"overrides",Es),bt(Ea,"registry",pr),bt(Ea,"version",ER),bt(Ea,"getChart",H_),Ea);function I_(){return me(_d.instances,e=>e._plugins.invalidate())}function SC(e,t,i=t){e.lineCap=ie(i.borderCapStyle,t.borderCapStyle),e.setLineDash(ie(i.borderDash,t.borderDash)),e.lineDashOffset=ie(i.borderDashOffset,t.borderDashOffset),e.lineJoin=ie(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ie(i.borderWidth,t.borderWidth),e.strokeStyle=ie(i.borderColor,t.borderColor)}function RR(e,t,i){e.lineTo(i.x,i.y)}function zR(e){return e.stepped?yD:e.tension||e.cubicInterpolationMode==="monotone"?xD:RR}function CC(e,t,i={}){const n=e.length,{start:r=0,end:o=n-1}=i,{start:l,end:c}=t,u=Math.max(r,l),f=Math.min(o,c),p=r<l&&o<l||r>c&&o>c;return{count:n,start:u,loop:t.loop,ilen:f<u&&!p?n+f-u:f-u}}function NR(e,t,i,n){const{points:r,options:o}=t,{count:l,start:c,loop:u,ilen:f}=CC(r,i,n),p=zR(o);let{move:g=!0,reverse:y}=n||{},x,v,_;for(x=0;x<=f;++x)v=r[(c+(y?f-x:x))%l],!v.skip&&(g?(e.moveTo(v.x,v.y),g=!1):p(e,_,v,y,o.stepped),_=v);return u&&(v=r[(c+(y?f:0))%l],p(e,_,v,y,o.stepped)),!!u}function FR(e,t,i,n){const r=t.points,{count:o,start:l,ilen:c}=CC(r,i,n),{move:u=!0,reverse:f}=n||{};let p=0,g=0,y,x,v,_,S,w;const T=z=>(l+(f?c-z:z))%o,M=()=>{_!==S&&(e.lineTo(p,S),e.lineTo(p,_),e.lineTo(p,w))};for(u&&(x=r[T(0)],e.moveTo(x.x,x.y)),y=0;y<=c;++y){if(x=r[T(y)],x.skip)continue;const z=x.x,D=x.y,E=z|0;E===v?(D<_?_=D:D>S&&(S=D),p=(g*p+z)/++g):(M(),e.lineTo(z,D),v=E,g=0,_=S=D),w=D}M()}function Im(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?FR:NR}function $R(e){return e.stepped?QD:e.tension||e.cubicInterpolationMode==="monotone"?KD:gs}function jR(e,t,i,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,i,n)&&r.closePath()),SC(e,t.options),e.stroke(r)}function HR(e,t,i,n){const{segments:r,options:o}=t,l=Im(t);for(const c of r)SC(e,o,c.style),e.beginPath(),l(e,t,c,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}const IR=typeof Path2D=="function";function PR(e,t,i,n){IR&&!t.options.segment?jR(e,t,i,n):HR(e,t,i,n)}class Oc extends Fs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;qD(this._points,n,t,r,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sO(this,this.options.segment))}first(){const t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){const t=this.segments,i=this.points,n=t.length;return n&&i[t[n-1].end]}interpolate(t,i){const n=this.options,r=t[i],o=this.points,l=nO(this,{property:i,start:r,end:r});if(!l.length)return;const c=[],u=$R(n);let f,p;for(f=0,p=l.length;f<p;++f){const{start:g,end:y}=l[f],x=o[g],v=o[y];if(x===v){c.push(x);continue}const _=Math.abs((r-x[i])/(v[i]-x[i])),S=u(x,v,_,n.stepped);S[i]=t[i],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,i,n){return Im(this)(t,this,i,n)}path(t,i,n){const r=this.segments,o=Im(this);let l=this._loop;i=i||0,n=n||this.points.length-i;for(const c of r)l&=o(t,this,c,{start:i,end:i+n-1});return!!l}draw(t,i,n,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),PR(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}bt(Oc,"id","line"),bt(Oc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),bt(Oc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),bt(Oc,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function P_(e,t,i,n){const r=e.options,{[i]:o}=e.getProps([i],n);return Math.abs(t-o)<r.radius+r.hitRadius}class ff extends Fs{constructor(i){super();bt(this,"parsed");bt(this,"skip");bt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,r){const o=this.options,{x:l,y:c}=this.getProps(["x","y"],r);return Math.pow(i-l,2)+Math.pow(n-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(i,n){return P_(this,i,"x",n)}inYRange(i,n){return P_(this,i,"y",n)}getCenterPoint(i){const{x:n,y:r}=this.getProps(["x","y"],i);return{x:n,y:r}}size(i){i=i||this.options||{};let n=i.radius||0;n=Math.max(n,n&&i.hoverRadius||0);const r=n&&i.borderWidth||0;return(n+r)*2}draw(i,n){const r=this.options;this.skip||r.radius<.1||!ih(this,n,this.size(r)/2)||(i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.fillStyle=r.backgroundColor,Fm(i,r,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}bt(ff,"id","point"),bt(ff,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),bt(ff,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const q_=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}},qR=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class U_ extends Fs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,n){this.maxWidth=t,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=Be(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(n=>t.filter(n,this.chart.data))),t.sort&&(i=i.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,r=Ei(n.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=q_(n,o);let f,p;i.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,c,u)+10):(p=this.maxHeight,f=this._fitCols(l,r,c,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,i,n,r){const{ctx:o,maxWidth:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+c;let g=t;o.textAlign="left",o.textBaseline="middle";let y=-1,x=-p;return this.legendItems.forEach((v,_)=>{const S=n+i/2+o.measureText(v.text).width;(_===0||f[f.length-1]+S+2*c>l)&&(g+=p,f[f.length-(_>0?0:1)]=0,x+=p,y++),u[_]={left:0,top:x,row:y,width:S,height:r},f[f.length-1]+=S+c}),g}_fitCols(t,i,n,r){const{ctx:o,maxHeight:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let g=c,y=0,x=0,v=0,_=0;return this.legendItems.forEach((S,w)=>{const{itemWidth:T,itemHeight:M}=UR(n,i,o,S,r);w>0&&x+M+2*c>p&&(g+=y+c,f.push({width:y,height:x}),v+=y+c,_++,y=x=0),u[w]={left:v,top:x,col:_,width:T,height:M},y=Math.max(y,T),x+=M+c}),g+=y,f.push({width:y,height:x}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:r},rtl:o}}=this,l=No(o,this.left,this.width);if(this.isHorizontal()){let c=0,u=Mi(n,this.left+r,this.right-this.lineWidths[c]);for(const f of i)c!==f.row&&(c=f.row,u=Mi(n,this.left+r,this.right-this.lineWidths[c])),f.top+=this.top+t+r,f.left=l.leftForLtr(l.x(u),f.width),u+=f.width+r}else{let c=0,u=Mi(n,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const f of i)f.col!==c&&(c=f.col,u=Mi(n,this.top+t+r,this.bottom-this.columnSizes[c].height)),f.top=u,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),u+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Z0(t,this),this._draw(),Q0(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:n,ctx:r}=this,{align:o,labels:l}=t,c=Ye.color,u=No(t.rtl,this.left,this.width),f=Ei(l.font),{padding:p}=l,g=f.size,y=g/2;let x;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:v,boxHeight:_,itemHeight:S}=q_(l,g),w=function(E,R,I){if(isNaN(v)||v<=0||isNaN(_)||_<0)return;r.save();const J=ie(I.lineWidth,1);if(r.fillStyle=ie(I.fillStyle,c),r.lineCap=ie(I.lineCap,"butt"),r.lineDashOffset=ie(I.lineDashOffset,0),r.lineJoin=ie(I.lineJoin,"miter"),r.lineWidth=J,r.strokeStyle=ie(I.strokeStyle,c),r.setLineDash(ie(I.lineDash,[])),l.usePointStyle){const K={radius:_*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:J},P=u.xPlus(E,v/2),it=R+y;eC(r,K,P,it,l.pointStyleWidth&&v)}else{const K=R+Math.max((g-_)/2,0),P=u.leftForLtr(E,v),it=Yc(I.borderRadius);r.beginPath(),Object.values(it).some(et=>et!==0)?$m(r,{x:P,y:K,w:v,h:_,radius:it}):r.rect(P,K,v,_),r.fill(),J!==0&&r.stroke()}r.restore()},T=function(E,R,I){nh(r,I.text,E,R+S/2,f,{strikethrough:I.hidden,textAlign:u.textAlign(I.textAlign)})},M=this.isHorizontal(),z=this._computeTitleHeight();M?x={x:Mi(o,this.left+p,this.right-n[0]),y:this.top+p+z,line:0}:x={x:this.left+p,y:Mi(o,this.top+z+p,this.bottom-i[0].height),line:0},lC(this.ctx,t.textDirection);const D=S+p;this.legendItems.forEach((E,R)=>{r.strokeStyle=E.fontColor,r.fillStyle=E.fontColor;const I=r.measureText(E.text).width,J=u.textAlign(E.textAlign||(E.textAlign=l.textAlign)),K=v+y+I;let P=x.x,it=x.y;u.setWidth(this.width),M?R>0&&P+K+p>this.right&&(it=x.y+=D,x.line++,P=x.x=Mi(o,this.left+p,this.right-n[x.line])):R>0&&it+D>this.bottom&&(P=x.x=P+i[x.line].width+p,x.line++,it=x.y=Mi(o,this.top+z+p,this.bottom-i[x.line].height));const et=u.x(P);if(w(et,it,E),P=rD(J,P+v+y,M?P+K:this.right,t.rtl),T(u.x(P),it,E),M)x.x+=K+p;else if(typeof E.text!="string"){const G=f.lineHeight;x.y+=wC(E,G)+p}else x.y+=D}),cC(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,n=Ei(i.font),r=zn(i.padding);if(!i.display)return;const o=No(t.rtl,this.left,this.width),l=this.ctx,c=i.position,u=n.size/2,f=r.top+u;let p,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+f,g=Mi(t.align,g,this.right-y);else{const v=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);p=f+Mi(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const x=Mi(c,g,g+y);l.textAlign=o.textAlign(V0(c)),l.textBaseline="middle",l.strokeStyle=i.color,l.fillStyle=i.color,l.font=n.string,nh(l,i.text,x,p,n)}_computeTitleHeight(){const t=this.options.title,i=Ei(t.font),n=zn(t.padding);return t.display?i.lineHeight+n.height:0}_getLegendItemAt(t,i){let n,r,o;if(Lc(t,this.left,this.right)&&Lc(i,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],Lc(t,r.left,r.left+r.width)&&Lc(i,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){const i=this.options;if(!GR(t.type,i))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=qR(r,n);r&&!o&&Be(i.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!o&&Be(i.onHover,[t,n,this],this)}else n&&Be(i.onClick,[t,n,this],this)}}function UR(e,t,i,n,r){const o=WR(n,e,t,i),l=YR(r,n,t.lineHeight);return{itemWidth:o,itemHeight:l}}function WR(e,t,i,n){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+i.size/2+n.measureText(r).width}function YR(e,t,i){let n=e;return typeof t.text!="string"&&(n=wC(t,i)),n}function wC(e,t){const i=e.text?e.text.length:0;return t*i}function GR(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var VR={id:"legend",_element:U_,start(e,t,i){const n=e.legend=new U_({ctx:e.ctx,options:i,chart:e});On.configure(e,n,i),On.addBox(e,n)},stop(e){On.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const n=e.legend;On.configure(e,n,i),n.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const n=t.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:o,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(i?0:void 0),p=zn(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class kC extends Fs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;const r=hi(n.text)?n.text.length:1;this._padding=zn(n.padding);const o=r*Ei(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:i,left:n,bottom:r,right:o,options:l}=this,c=l.align;let u=0,f,p,g;return this.isHorizontal()?(p=Mi(c,n,o),g=i+t,f=o-n):(l.position==="left"?(p=n+t,g=Mi(c,r,i),u=ui*-.5):(p=o-t,g=Mi(c,i,r),u=ui*.5),f=r-i),{titleX:p,titleY:g,maxWidth:f,rotation:u}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const n=Ei(i.font),o=n.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:u,rotation:f}=this._drawArgs(o);nh(t,i.text,0,0,n,{color:i.color,maxWidth:u,rotation:f,textAlign:V0(i.align),textBaseline:"middle",translation:[l,c]})}}function XR(e,t){const i=new kC({ctx:e.ctx,options:t,chart:e});On.configure(e,i,t),On.addBox(e,i),e.titleBlock=i}var ZR={id:"title",_element:kC,start(e,t,i){XR(e,i)},stop(e){const t=e.titleBlock;On.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const n=e.titleBlock;On.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rc={average(e){if(!e.length)return!1;let t,i,n=new Set,r=0,o=0;for(t=0,i=e.length;t<i;++t){const c=e[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();n.add(u.x),r+=u.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((c,u)=>c+u)/n.size,y:r/o}},nearest(e,t){if(!e.length)return!1;let i=t.x,n=t.y,r=Number.POSITIVE_INFINITY,o,l,c;for(o=0,l=e.length;o<l;++o){const u=e[o].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),p=zm(t,f);p<r&&(r=p,c=u)}}if(c){const u=c.tooltipPosition();i=u.x,n=u.y}return{x:i,y:n}}};function ur(e,t){return t&&(hi(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function qr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function QR(e,t){const{element:i,datasetIndex:n,index:r}=t,o=e.getDatasetMeta(n).controller,{label:l,value:c}=o.getLabelAndValue(r);return{chart:e,label:l,parsed:o.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:c,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function W_(e,t){const i=e.chart.ctx,{body:n,footer:r,title:o}=e,{boxWidth:l,boxHeight:c}=t,u=Ei(t.bodyFont),f=Ei(t.titleFont),p=Ei(t.footerFont),g=o.length,y=r.length,x=n.length,v=zn(t.padding);let _=v.height,S=0,w=n.reduce((z,D)=>z+D.before.length+D.lines.length+D.after.length,0);if(w+=e.beforeBody.length+e.afterBody.length,g&&(_+=g*f.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),w){const z=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;_+=x*z+(w-x)*u.lineHeight+(w-1)*t.bodySpacing}y&&(_+=t.footerMarginTop+y*p.lineHeight+(y-1)*t.footerSpacing);let T=0;const M=function(z){S=Math.max(S,i.measureText(z).width+T)};return i.save(),i.font=f.string,me(e.title,M),i.font=u.string,me(e.beforeBody.concat(e.afterBody),M),T=t.displayColors?l+2+t.boxPadding:0,me(n,z=>{me(z.before,M),me(z.lines,M),me(z.after,M)}),T=0,i.font=p.string,me(e.footer,M),i.restore(),S+=v.width,{width:S,height:_}}function KR(e,t){const{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}function JR(e,t,i,n){const{x:r,width:o}=n,l=i.caretSize+i.caretPadding;if(e==="left"&&r+o+l>t.width||e==="right"&&r-o-l<0)return!0}function t5(e,t,i,n){const{x:r,width:o}=i,{width:l,chartArea:{left:c,right:u}}=e;let f="center";return n==="center"?f=r<=(c+u)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),JR(f,e,t,i)&&(f="center"),f}function Y_(e,t,i){const n=i.yAlign||t.yAlign||KR(e,i);return{xAlign:i.xAlign||t.xAlign||t5(e,t,i,n),yAlign:n}}function e5(e,t){let{x:i,width:n}=e;return t==="right"?i-=n:t==="center"&&(i-=n/2),i}function i5(e,t,i){let{y:n,height:r}=e;return t==="top"?n+=i:t==="bottom"?n-=r+i:n-=r/2,n}function G_(e,t,i,n){const{caretSize:r,caretPadding:o,cornerRadius:l}=e,{xAlign:c,yAlign:u}=i,f=r+o,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:x}=Yc(l);let v=e5(t,c);const _=i5(t,u,f);return u==="center"?c==="left"?v+=f:c==="right"&&(v-=f):c==="left"?v-=Math.max(p,y)+r:c==="right"&&(v+=Math.max(g,x)+r),{x:Dn(v,0,n.width-t.width),y:Dn(_,0,n.height-t.height)}}function Vu(e,t,i){const n=zn(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function V_(e){return ur([],qr(e))}function n5(e,t,i){return Ns(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function X_(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const TC={beforeTitle:jr,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:jr,beforeBody:jr,beforeLabel:jr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return ke(i)||(t+=i),t},labelColor(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:jr,afterBody:jr,beforeFooter:jr,footer:jr,afterFooter:jr};function Vi(e,t,i,n){const r=e[t].call(i,n);return typeof r>"u"?TC[t].call(i,n):r}class Pm extends Fs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&i.options.animation&&n.animations,o=new uC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=n5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:n}=i,r=Vi(n,"beforeTitle",this,t),o=Vi(n,"title",this,t),l=Vi(n,"afterTitle",this,t);let c=[];return c=ur(c,qr(r)),c=ur(c,qr(o)),c=ur(c,qr(l)),c}getBeforeBody(t,i){return V_(Vi(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:n}=i,r=[];return me(t,o=>{const l={before:[],lines:[],after:[]},c=X_(n,o);ur(l.before,qr(Vi(c,"beforeLabel",this,o))),ur(l.lines,Vi(c,"label",this,o)),ur(l.after,qr(Vi(c,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,i){return V_(Vi(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:n}=i,r=Vi(n,"beforeFooter",this,t),o=Vi(n,"footer",this,t),l=Vi(n,"afterFooter",this,t);let c=[];return c=ur(c,qr(r)),c=ur(c,qr(o)),c=ur(c,qr(l)),c}_createItems(t){const i=this._active,n=this.chart.data,r=[],o=[],l=[];let c=[],u,f;for(u=0,f=i.length;u<f;++u)c.push(QR(this.chart,i[u]));return t.filter&&(c=c.filter((p,g,y)=>t.filter(p,g,y,n))),t.itemSort&&(c=c.sort((p,g)=>t.itemSort(p,g,n))),me(c,p=>{const g=X_(t.callbacks,p);r.push(Vi(g,"labelColor",this,p)),o.push(Vi(g,"labelPointStyle",this,p)),l.push(Vi(g,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=c,c}update(t,i){const n=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const c=Rc[n.position].call(this,r,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const u=this._size=W_(this,n),f=Object.assign({},c,u),p=Y_(this.chart,n,f),g=G_(n,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,n,r){const o=this.getCaretPosition(t,n,r);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,n){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:c}=n,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:g}=Yc(c),{x:y,y:x}=t,{width:v,height:_}=i;let S,w,T,M,z,D;return o==="center"?(z=x+_/2,r==="left"?(S=y,w=S-l,M=z+l,D=z-l):(S=y+v,w=S+l,M=z-l,D=z+l),T=S):(r==="left"?w=y+Math.max(u,p)+l:r==="right"?w=y+v-Math.max(f,g)-l:w=this.caretX,o==="top"?(M=x,z=M-l,S=w-l,T=w+l):(M=x+_,z=M+l,S=w+l,T=w-l),D=M),{x1:S,x2:w,x3:T,y1:M,y2:z,y3:D}}drawTitle(t,i,n){const r=this.title,o=r.length;let l,c,u;if(o){const f=No(n.rtl,this.x,this.width);for(t.x=Vu(this,n.titleAlign,n),i.textAlign=f.textAlign(n.titleAlign),i.textBaseline="middle",l=Ei(n.titleFont),c=n.titleSpacing,i.fillStyle=n.titleColor,i.font=l.string,u=0;u<o;++u)i.fillText(r[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,u+1===o&&(t.y+=n.titleMarginBottom-c)}}_drawColorBox(t,i,n,r,o){const l=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:u,boxWidth:f}=o,p=Ei(o.bodyFont),g=Vu(this,"left",o),y=r.x(g),x=u<p.lineHeight?(p.lineHeight-u)/2:0,v=i.y+x;if(o.usePointStyle){const _={radius:Math.min(f,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=r.leftForLtr(y,f)+f/2,w=v+u/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Fm(t,_,S,w),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Fm(t,_,S,w)}else{t.lineWidth=ce(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const _=r.leftForLtr(y,f),S=r.leftForLtr(r.xPlus(y,1),f-2),w=Yc(l.borderRadius);Object.values(w).some(T=>T!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,$m(t,{x:_,y:v,w:f,h:u,radius:w}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),$m(t,{x:S,y:v+1,w:f-2,h:u-2,radius:w}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(_,v,f,u),t.strokeRect(_,v,f,u),t.fillStyle=l.backgroundColor,t.fillRect(S,v+1,f-2,u-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,i,n){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:c,boxHeight:u,boxWidth:f,boxPadding:p}=n,g=Ei(n.bodyFont);let y=g.lineHeight,x=0;const v=No(n.rtl,this.x,this.width),_=function(I){i.fillText(I,v.x(t.x+x),t.y+y/2),t.y+=y+o},S=v.textAlign(l);let w,T,M,z,D,E,R;for(i.textAlign=l,i.textBaseline="middle",i.font=g.string,t.x=Vu(this,S,n),i.fillStyle=n.bodyColor,me(this.beforeBody,_),x=c&&S!=="right"?l==="center"?f/2+p:f+2+p:0,z=0,E=r.length;z<E;++z){for(w=r[z],T=this.labelTextColors[z],i.fillStyle=T,me(w.before,_),M=w.lines,c&&M.length&&(this._drawColorBox(i,t,z,v,n),y=Math.max(g.lineHeight,u)),D=0,R=M.length;D<R;++D)_(M[D]),y=g.lineHeight;me(w.after,_)}x=0,y=g.lineHeight,me(this.afterBody,_),t.y-=o}drawFooter(t,i,n){const r=this.footer,o=r.length;let l,c;if(o){const u=No(n.rtl,this.x,this.width);for(t.x=Vu(this,n.footerAlign,n),t.y+=n.footerMarginTop,i.textAlign=u.textAlign(n.footerAlign),i.textBaseline="middle",l=Ei(n.footerFont),i.fillStyle=n.footerColor,i.font=l.string,c=0;c<o;++c)i.fillText(r[c],u.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+n.footerSpacing}}drawBackground(t,i,n,r){const{xAlign:o,yAlign:l}=this,{x:c,y:u}=t,{width:f,height:p}=n,{topLeft:g,topRight:y,bottomLeft:x,bottomRight:v}=Yc(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(c+g,u),l==="top"&&this.drawCaret(t,i,n,r),i.lineTo(c+f-y,u),i.quadraticCurveTo(c+f,u,c+f,u+y),l==="center"&&o==="right"&&this.drawCaret(t,i,n,r),i.lineTo(c+f,u+p-v),i.quadraticCurveTo(c+f,u+p,c+f-v,u+p),l==="bottom"&&this.drawCaret(t,i,n,r),i.lineTo(c+x,u+p),i.quadraticCurveTo(c,u+p,c,u+p-x),l==="center"&&o==="left"&&this.drawCaret(t,i,n,r),i.lineTo(c,u+g),i.quadraticCurveTo(c,u,c+g,u),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,n=this.$animations,r=n&&n.x,o=n&&n.y;if(r||o){const l=Rc[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=W_(this,t),u=Object.assign({},l,this._size),f=Y_(i,t,u),p=G_(t,u,f,i);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=zn(i.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&c&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,r,i),lC(t,i.textDirection),o.y+=l.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),cC(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const n=this._active,r=t.map(({datasetIndex:c,index:u})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[u],index:u}}),o=!Bf(n,r),l=this._positionChanged(r,i);(o||l)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,i,n),c=this._positionChanged(l,t),u=i||!Bf(l,o)||c;return u&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),u}_getActiveElements(t,i,n,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&l.reverse(),l}_positionChanged(t,i){const{caretX:n,caretY:r,options:o}=this,l=Rc[o.position].call(this,t,i);return l!==!1&&(n!==l.x||r!==l.y)}}bt(Pm,"positioners",Rc);var r5={id:"tooltip",_element:Pm,positioners:Rc,afterInit(e,t,i){i&&(e.tooltip=new Pm({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:TC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const a5=(e,t,i,n)=>(typeof t=="string"?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function s5(e,t,i,n){const r=e.indexOf(t);if(r===-1)return a5(e,t,i,n);const o=e.lastIndexOf(t);return r!==o?i:r}const o5=(e,t)=>e===null?null:Dn(Math.round(e),0,t);function Z_(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class qm extends cl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const n=this.getLabels();for(const{index:r,label:o}of i)n[r]===o&&n.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(ke(t))return null;const n=this.getLabels();return i=isFinite(i)&&n[i]===t?i:s5(n,t,ie(i,t),this._addedLabels),o5(i,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),i||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,i=this.max,n=this.options.offset,r=[];let o=this.getLabels();o=t===0&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=t;l<=i;l++)r.push({value:l});return r}getLabelForValue(t){return Z_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}bt(qm,"id","category"),bt(qm,"defaults",{ticks:{callback:Z_}});function l5(e,t){const i=[],{bounds:r,step:o,min:l,max:c,precision:u,count:f,maxTicks:p,maxDigits:g,includeBounds:y}=e,x=o||1,v=p-1,{min:_,max:S}=t,w=!ke(l),T=!ke(c),M=!ke(f),z=(S-_)/(g+1);let D=e_((S-_)/v/x)*x,E,R,I,J;if(D<1e-14&&!w&&!T)return[{value:_},{value:S}];J=Math.ceil(S/D)-Math.floor(_/D),J>v&&(D=e_(J*D/v/x)*x),ke(u)||(E=Math.pow(10,u),D=Math.ceil(D*E)/E),r==="ticks"?(R=Math.floor(_/D)*D,I=Math.ceil(S/D)*D):(R=_,I=S),w&&T&&o&&G3((c-l)/o,D/1e3)?(J=Math.round(Math.min((c-l)/D,p)),D=(c-l)/J,R=l,I=c):M?(R=w?l:R,I=T?c:I,J=f-1,D=(I-R)/J):(J=(I-R)/D,qc(J,Math.round(J),D/1e3)?J=Math.round(J):J=Math.ceil(J));const K=Math.max(i_(D),i_(R));E=Math.pow(10,ke(u)?K:u),R=Math.round(R*E)/E,I=Math.round(I*E)/E;let P=0;for(w&&(y&&R!==l?(i.push({value:l}),R<l&&P++,qc(Math.round((R+P*D)*E)/E,l,Q_(l,z,e))&&P++):R<l&&P++);P<J;++P){const it=Math.round((R+P*D)*E)/E;if(T&&it>c)break;i.push({value:it})}return T&&y&&I!==c?i.length&&qc(i[i.length-1].value,c,Q_(c,z,e))?i[i.length-1].value=c:i.push({value:c}):(!T||I===c)&&i.push({value:I}),i}function Q_(e,t,{horizontal:i,minRotation:n}){const r=bs(n),o=(i?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class c5 extends cl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return ke(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this;const l=u=>r=i?r:u,c=u=>o=n?o:u;if(t){const u=Vo(r),f=Vo(o);u<0&&f<0?c(0):u>0&&f>0&&l(0)}if(r===o){let u=o===0?1:Math.abs(o*.05);c(o+u),t||l(r-u)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:i,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,l=l5(r,o);return t.bounds==="ticks"&&V3(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let i=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-i)/Math.max(t.length-1,1)/2;i-=r,n+=r}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(t){return JS(t,this.chart.options.locale,this.options.ticks.format)}}class Um extends c5{determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=Rn(t)?t:0,this.max=Rn(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,n=bs(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}bt(Um,"id","linear"),bt(Um,"defaults",{ticks:{callback:tC.formatters.numeric}});const Sd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qi=Object.keys(Sd);function K_(e,t){return e-t}function J_(e,t){if(ke(t))return null;const i=e._adapter,{parser:n,round:r,isoWeekday:o}=e._parseOpts;let l=t;return typeof n=="function"&&(l=n(l)),Rn(l)||(l=typeof n=="string"?i.parse(l,n):i.parse(l)),l===null?null:(r&&(l=r==="week"&&(eh(o)||o===!0)?i.startOf(l,"isoWeek",o):i.startOf(l,r)),+l)}function t2(e,t,i,n){const r=Qi.length;for(let o=Qi.indexOf(e);o<r-1;++o){const l=Sd[Qi[o]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((i-t)/(c*l.size))<=n)return Qi[o]}return Qi[r-1]}function h5(e,t,i,n,r){for(let o=Qi.length-1;o>=Qi.indexOf(i);o--){const l=Qi[o];if(Sd[l].common&&e._adapter.diff(r,n,l)>=t-1)return l}return Qi[i?Qi.indexOf(i):0]}function u5(e){for(let t=Qi.indexOf(e)+1,i=Qi.length;t<i;++t)if(Sd[Qi[t]].common)return Qi[t]}function e2(e,t,i){if(!i)e[t]=!0;else if(i.length){const{lo:n,hi:r}=G0(i,t),o=i[n]>=t?i[n]:i[r];e[o]=!0}}function f5(e,t,i,n){const r=e._adapter,o=+r.startOf(t[0].value,n),l=t[t.length-1].value;let c,u;for(c=o;c<=l;c=+r.add(c,1,n))u=i[c],u>=0&&(t[u].major=!0);return t}function i2(e,t,i){const n=[],r={},o=t.length;let l,c;for(l=0;l<o;++l)c=t[l],r[c]=l,n.push({value:c,major:!1});return o===0||!i?n:f5(e,n,r,i)}class Ff extends cl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const n=t.time||(t.time={}),r=this._adapter=new kO._date(t.adapters.date);r.init(i),Pc(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:J_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,n=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:c}=this.getUserBounds();function u(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!c&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Rn(r)&&!isNaN(r)?r:+i.startOf(Date.now(),n),o=Rn(o)&&!isNaN(o)?o:+i.endOf(Date.now(),n)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],n=t[t.length-1]),{min:i,max:n}}buildTicks(){const t=this.options,i=t.time,n=t.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,c=tD(r,o,l);return this._unit=i.unit||(n.autoSkip?t2(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):h5(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:u5(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),i2(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,n=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?i=1-r:i=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;i=Dn(i,0,l),n=Dn(n,0,l),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const t=this._adapter,i=this.min,n=this.max,r=this.options,o=r.time,l=o.unit||t2(o.minUnit,i,n,this._getLabelCapacity(i)),c=ie(r.ticks.stepSize,1),u=l==="week"?o.isoWeekday:!1,f=eh(u)||u===!0,p={};let g=i,y,x;if(f&&(g=+t.startOf(g,"isoWeek",u)),g=+t.startOf(g,f?"day":l),t.diff(n,i,l)>1e5*c)throw new Error(i+" and "+n+" are too far apart with stepSize of "+c+" "+l);const v=r.ticks.source==="data"&&this.getDataTimestamps();for(y=g,x=0;y<n;y=+t.add(y,c,l),x++)e2(p,y,v);return(y===n||r.bounds==="ticks"||x===1)&&e2(p,y,v),Object.keys(p).sort(K_).map(_=>+_)}getLabelForValue(t){const i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(t,n.tooltipFormat):i.format(t,n.displayFormats.datetime)}format(t,i){const r=this.options.time.displayFormats,o=this._unit,l=i||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,i,n,r){const o=this.options,l=o.ticks.callback;if(l)return Be(l,[t,i,n],this);const c=o.time.displayFormats,u=this._unit,f=this._majorUnit,p=u&&c[u],g=f&&c[f],y=n[i],x=f&&g&&y&&y.major;return this._adapter.format(t,r||(x?g:p))}generateTickLabels(t){let i,n,r;for(i=0,n=t.length;i<n;++i)r=t[i],r.label=this._tickFormatFunction(r.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,n=this.ctx.measureText(t).width,r=bs(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(r),l=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:n*o+c*l,h:n*l+c*o}}_getLabelCapacity(t){const i=this.options.time,n=i.displayFormats,r=n[i.unit]||n.millisecond,o=this._tickFormatFunction(t,0,i2(this,[t],this._majorUnit),r),l=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],i,n;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,n=r.length;i<n;++i)t=t.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,n;if(t.length)return t;const r=this.getLabels();for(i=0,n=r.length;i<n;++i)t.push(J_(this,r[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return iD(t.sort(K_))}}bt(Ff,"id","time"),bt(Ff,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xu(e,t,i){let n=0,r=e.length-1,o,l,c,u;i?(t>=e[n].pos&&t<=e[r].pos&&({lo:n,hi:r}=vs(e,"pos",t)),{pos:o,time:c}=e[n],{pos:l,time:u}=e[r]):(t>=e[n].time&&t<=e[r].time&&({lo:n,hi:r}=vs(e,"time",t)),{time:o,pos:c}=e[n],{time:l,pos:u}=e[r]);const f=l-o;return f?c+(u-c)*(t-o)/f:c}class n2 extends Ff{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=Xu(i,this.min),this._tableRange=Xu(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:n}=this,r=[],o=[];let l,c,u,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=i&&f<=n&&r.push(f);if(r.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(l=0,c=r.length;l<c;++l)p=r[l+1],u=r[l-1],f=r[l],Math.round((p+u)/2)!==f&&o.push({time:f,pos:l/(c-1)});return o}_generate(){const t=this.min,i=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?t=this.normalize(i.concat(n)):t=i.length?i:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Xu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return Xu(this._table,n*this._tableRange+this._minPos,!0)}}bt(n2,"id","timeseries"),bt(n2,"defaults",Ff.defaults);const AC="label";function r2(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function d5(e,t){const i=e.options;i&&t&&Object.assign(i,t)}function MC(e,t){e.labels=t}function EC(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AC;const n=[];e.datasets=t.map(r=>{const o=e.datasets.find(l=>l[i]===r[i]);return!o||!r.data||n.includes(o)?{...r}:(n.push(o),Object.assign(o,r),o)})}function p5(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AC;const i={labels:[],datasets:[]};return MC(i,e.labels),EC(i,e.datasets,t),i}function g5(e,t){const{height:i=150,width:n=300,redraw:r=!1,datasetIdKey:o,type:l,data:c,options:u,plugins:f=[],fallbackContent:p,updateMode:g,...y}=e,x=xt.useRef(null),v=xt.useRef(null),_=()=>{x.current&&(v.current=new _d(x.current,{type:l,data:p5(c,o),options:u&&{...u},plugins:f}),r2(t,v.current))},S=()=>{r2(t,null),v.current&&(v.current.destroy(),v.current=null)};return xt.useEffect(()=>{!r&&v.current&&u&&d5(v.current,u)},[r,u]),xt.useEffect(()=>{!r&&v.current&&MC(v.current.config.data,c.labels)},[r,c.labels]),xt.useEffect(()=>{!r&&v.current&&c.datasets&&EC(v.current.config.data,c.datasets,o)},[r,c.datasets]),xt.useEffect(()=>{v.current&&(r?(S(),setTimeout(_)):v.current.update(g))},[r,u,c.labels,c.datasets,g]),xt.useEffect(()=>{v.current&&(S(),setTimeout(_))},[l]),xt.useEffect(()=>(_(),()=>S()),[]),PS.createElement("canvas",{ref:x,role:"img",height:i,width:n,...y},p)}const m5=xt.forwardRef(g5);function y5(e,t){return _d.register(t),xt.forwardRef((i,n)=>PS.createElement(m5,{...i,ref:n,type:e}))}const x5=y5("line",cf);_d.register(qm,Um,ff,Oc,ZR,r5,VR);function b5({roundHistory:e}){var o;const t={responsive:!0,interaction:{mode:"point",intersect:!0},plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"bold"}}},title:{display:!0,text:"玩家戰鬥力趨勢圖",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#fff",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{title:function(l){return`回合 ${l[0].dataIndex}`},label:function(l){return`${l.dataset.label}: ${l.parsed.y} 戰鬥力`},afterLabel:function(l){var f,p;const c=((p=(f=e[0])==null?void 0:f.playerPowers.find(g=>g.name===l.dataset.label))==null?void 0:p.power)||1;return`倍數: ${(l.parsed.y/c).toFixed(2)}x`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"戰鬥力",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{title:{display:!0,text:"回合",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"}}},elements:{point:{radius:4,hoverRadius:6,borderWidth:2},line:{borderWidth:3,tension:.2}},hover:{mode:"point",intersect:!0}},i=e.map((l,c)=>`回合 ${c}`),n=((o=e[0])==null?void 0:o.playerPowers.map(l=>({label:l.name,data:e.map(c=>{var u;return((u=c.playerPowers.find(f=>f.name===l.name))==null?void 0:u.power)||0}),borderColor:l.color,backgroundColor:l.color+"40",pointBackgroundColor:l.color,pointBorderColor:"#fff",pointHoverBackgroundColor:l.color,pointHoverBorderColor:"#fff",tension:.2})))||[],r={labels:i,datasets:n};return B.jsx("div",{style:{padding:"1em",background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",marginTop:"1em"},children:B.jsx(x5,{options:t,data:r})})}function v5(e){return e>=1.5?"#43a047":e>=1?"#1976d2":"#e53935"}function _5({roundData:e,roundHistory:t,onConfirm:i,onBack:n,isCurrentMC:r}){var g,y;const o=e.playerPowers,l=(((g=t[0])==null?void 0:g.playerPowers)||[]).reduce((x,v)=>(x[v.name]=v.power,x),{}),c=[...o].sort((x,v)=>v.power-x.power),f=(((y=t[0])==null?void 0:y.playerPowers)||[]).sort((x,v)=>v.power-x.power).reduce((x,v,_)=>(x[v.name]=_+1,x),{}),p=`回合${e.round}戰鬥力`;return B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:B.jsxs("div",{style:{background:"white",padding:"2em",borderRadius:"12px",maxWidth:"920px",width:"95%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 24px #0002"},children:[B.jsxs("h2",{style:{marginTop:0},children:["回合 ",e.round," 總結"]}),B.jsxs("div",{style:{marginBottom:"2em"},children:[B.jsx("h3",{style:{marginBottom:12},children:"本回合玩家排名"}),B.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,background:"#f9f9f9",borderRadius:"12px",overflow:"hidden",boxShadow:"0 2px 8px #0001"},children:[B.jsx("thead",{children:B.jsxs("tr",{style:{background:"#f1f1f1"},children:[B.jsx("th",{style:{padding:"10px 8px",textAlign:"center",fontWeight:600},children:"目前排名"}),B.jsx("th",{style:{padding:"10px 8px",textAlign:"left",fontWeight:600},children:"玩家"}),B.jsx("th",{style:{padding:"10px 8px",textAlign:"center",fontWeight:600},children:"初始排名"}),B.jsx("th",{style:{padding:"10px 8px",textAlign:"right",fontWeight:600},children:p}),B.jsx("th",{style:{padding:"10px 8px",textAlign:"center",fontWeight:600},children:"排名變化"})]})}),B.jsx("tbody",{children:c.map((x,v)=>{const _=x.power/(l[x.name]||1),S=v+1,w=f[x.name]||0,T=w-S;return B.jsxs("tr",{style:{background:v===0?"linear-gradient(90deg,#fffde7 60%,#ffe082 100%)":v%2===0?"#fff":"#f5f5f5",fontWeight:v===0?700:400,boxShadow:v===0?"0 2px 8px #ffe08255":void 0,transition:"background 0.2s"},onMouseOver:M=>M.currentTarget.style.background="#e3f2fd",onMouseOut:M=>M.currentTarget.style.background=v===0?"linear-gradient(90deg,#fffde7 60%,#ffe082 100%)":v%2===0?"#fff":"#f5f5f5",children:[B.jsxs("td",{style:{padding:"10px 8px",textAlign:"center",fontSize:18},children:[v===0?B.jsx("span",{style:{fontSize:20,marginRight:4},children:"🏆"}):null,S]}),B.jsxs("td",{style:{padding:"10px 8px",display:"flex",alignItems:"center",gap:8},children:[B.jsx("span",{style:{display:"inline-block",width:18,height:18,borderRadius:"50%",background:x.color,marginRight:4,border:"2px solid #fff",boxShadow:"0 1px 4px #0001"}}),B.jsx("span",{style:{fontWeight:600},children:x.name})]}),B.jsx("td",{style:{padding:"10px 8px",textAlign:"center"},children:w===0?"-":w}),B.jsxs("td",{style:{padding:"10px 8px",textAlign:"right",fontWeight:600,color:v5(_)},children:[x.power,"（",_.toFixed(2),"x）"]}),B.jsx("td",{style:{padding:"10px 8px",textAlign:"center"},children:T>0?B.jsxs("span",{style:{color:"#4CAF50",fontWeight:600},children:["↑ +",T]}):T<0?B.jsxs("span",{style:{color:"#f44336",fontWeight:600},children:["↓ ",T]}):B.jsx("span",{style:{color:"#666"},children:"-"})})]},x.name)})})]}),B.jsx("div",{style:{fontSize:"0.95em",color:"#888",marginTop:6,textAlign:"right"},children:B.jsx("span",{children:"倍數 = 目前戰鬥力 ÷ 初始戰鬥力 | 排名變化 = 初始排名 - 目前排名"})})]}),B.jsx(b5,{roundHistory:[...t,e]}),B.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:16,marginTop:24},children:[r&&B.jsx("button",{onClick:i,style:{padding:"8px 24px",borderRadius:8,border:"none",background:"#4caf50",color:"#fff",fontWeight:600,cursor:"pointer"},children:"確認結束回合"}),B.jsx("button",{onClick:n,style:{padding:"8px 24px",borderRadius:8,border:"none",background:"#1976d2",color:"#fff",fontWeight:600,cursor:"pointer"},children:"返回遊戲"})]})]})})}function S5({players:e,cards:t,history:i,onSelectCard:n,onUnselectCard:r,onClose:o,isCurrentMC:l}){if(!e||e.length===0)return B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"white",borderRadius:12,padding:32,minWidth:600,maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 24px #0002"},children:[B.jsx("div",{style:{textAlign:"center",color:"#666"},children:"沒有玩家數據"}),B.jsx("button",{onClick:o,style:{marginTop:16,fontSize:18,background:"#eee",border:"none",borderRadius:6,padding:"4px 16px",cursor:"pointer"},children:"關閉"})]})});const c=e.map(v=>v.name);t.map(v=>v.name);const u={};t.forEach(v=>{u[v.name]=v});const f={};e.forEach((v,_)=>{f[v.name]=_});const p={};t.forEach(v=>{v.quota&&(p[v.id]=[])}),i.forEach(v=>{const _=t.find(S=>S.id===v.cardId);if(_&&_.quota){const S=e[v.playerIdx];S&&!p[_.id].includes(S.name)&&p[_.id].push(S.name)}});const g={};e.forEach((v,_)=>{g[v.name]=i.filter(S=>S.playerIdx===_&&t.find(w=>w.id===S.cardId&&w.type==="chain")).map(S=>{const w=t.find(T=>T.id===S.cardId);return w?w.group:null}).filter(Boolean)});const y={};e.forEach((v,_)=>{y[v.name]=i.filter(S=>S.playerIdx===_).map(S=>S.cardId)});const x={};return e.forEach((v,_)=>{const S={};i.filter(w=>w.playerIdx===_).forEach(w=>{const T=t.find(M=>M.id===w.cardId);T&&T.group&&(S[T.group]=w.cardId)}),x[v.name]=S}),B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"white",borderRadius:12,padding:32,minWidth:600,maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 24px #0002"},children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[B.jsx("h2",{style:{margin:0},children:"表格選擇模式"}),B.jsx("button",{onClick:o,style:{fontSize:18,background:"#eee",border:"none",borderRadius:6,padding:"4px 16px",cursor:"pointer"},children:"關閉"})]}),B.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#f9f9f9",borderRadius:8,overflow:"hidden"},children:[B.jsx("thead",{children:B.jsxs("tr",{style:{background:"#e3eafc"},children:[B.jsx("th",{style:{padding:8,minWidth:120},children:"事件"}),c.map(v=>B.jsx("th",{style:{padding:8,minWidth:80},children:v},v))]})}),B.jsx("tbody",{children:t.map(v=>{var w;const _=!!v.quota,S=_?v.quota-(((w=p[v.id])==null?void 0:w.length)||0):null;return B.jsxs("tr",{children:[B.jsx("td",{style:{padding:8,fontWeight:600},children:v.name}),c.map((T,M)=>{const z=f[T],D=y[T].includes(v.id);let E=!1,R="";v.type==="chain"&&v.prerequisite&&(g[T].includes(v.prerequisite)||(E=!0,R=`需先完成${v.prerequisite}`)),v.type==="chain"&&x[T][v.group]&&x[T][v.group]!==v.id&&(E=!0,R="已選擇其他學校"),_&&S<=0&&!D&&(E=!0,R="名額已滿");const I=D;return B.jsxs("td",{style:{padding:8,textAlign:"center",background:I?"#c8e6c9":E?"#f0f0f0":"#fff",color:E?"#888":"#222",cursor:E?"not-allowed":"pointer",border:"1px solid #eee",borderRadius:4,fontWeight:I?700:400,position:"relative",minWidth:60},title:R,onClick:()=>{!l||E||(I?r(z,v.id):n({...v,_tableSelectPlayerIdx:z}))},children:[I?"✔":"",E&&R&&B.jsx("span",{style:{fontSize:11,color:"#b71c1c",display:"block"},children:R})]},T)})]},v.name)})})]})]})})}function C5({card:e,onSave:t,onCancel:i,onDelete:n,customTabs:r=[]}){const[o,l]=xt.useState({name:"",type:"single",group:"",cost:0,multiplier:1,condition:"",quota:"",order:"",prerequisite:"",isCustom:!1,customTab:""});xt.useEffect(()=>{e&&l({name:e.name||"",type:e.type||"single",group:e.group||"",cost:e.cost||0,multiplier:e.multiplier||1,condition:e.condition||"",quota:e.quota||"",order:e.order||"",prerequisite:e.prerequisite||"",isCustom:e.isCustom||!1,customTab:e.customTab||""})},[e]);const c=f=>{var g;f.preventDefault();const p={...o,id:(e==null?void 0:e.id)||Date.now(),cost:parseInt(o.cost)||0,multiplier:parseFloat(o.multiplier)||1,quota:o.quota?parseInt(o.quota):null,order:o.order?parseInt(o.order):null,customTab:((g=o.customTab)==null?void 0:g.trim())||""};t(p)},u=(f,p)=>{l(g=>({...g,[f]:p}))};return B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:B.jsxs("div",{style:{background:"white",borderRadius:12,padding:24,width:"90%",maxWidth:500,maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.2)"},children:[B.jsx("h2",{style:{marginTop:0,marginBottom:20,color:"#1976d2"},children:e?"編輯事件":"新增事件"}),B.jsxs("form",{onSubmit:c,children:[B.jsxs("div",{style:{marginBottom:16},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"事件名稱 *"}),B.jsx("input",{type:"text",value:o.name,onChange:f=>u("name",f.target.value),style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14},required:!0})]}),B.jsxs("div",{style:{marginBottom:16},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"事件類型 *"}),B.jsxs("select",{value:o.type,onChange:f=>u("type",f.target.value),style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14},children:[B.jsx("option",{value:"single",children:"單次事件"}),B.jsx("option",{value:"chain",children:"連續事件"})]})]}),B.jsxs("div",{style:{marginBottom:16},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"分類"}),B.jsx("input",{type:"text",value:o.group,onChange:f=>u("group",f.target.value),placeholder:"例如：補習、設備、課外活動",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14}})]}),B.jsxs("div",{style:{display:"flex",gap:16,marginBottom:16},children:[B.jsxs("div",{style:{flex:1},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"費用"}),B.jsx("input",{type:"number",value:o.cost,onChange:f=>u("cost",f.target.value),min:"0",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14}})]}),B.jsxs("div",{style:{flex:1},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"戰鬥力倍率"}),B.jsx("input",{type:"number",value:o.multiplier,onChange:f=>u("multiplier",f.target.value),min:"0.1",step:"0.1",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14}})]})]}),o.type==="chain"&&B.jsxs("div",{style:{display:"flex",gap:16,marginBottom:16},children:[B.jsxs("div",{style:{flex:1},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"順序"}),B.jsx("input",{type:"number",value:o.order,onChange:f=>u("order",f.target.value),min:"1",placeholder:"例如：1, 2, 3...",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14}})]}),B.jsxs("div",{style:{flex:1},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"前置條件"}),B.jsx("input",{type:"text",value:o.prerequisite,onChange:f=>u("prerequisite",f.target.value),placeholder:"例如：小學、中學",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14}})]})]}),B.jsxs("div",{style:{marginBottom:16},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"名額限制"}),B.jsx("input",{type:"number",value:o.quota,onChange:f=>u("quota",f.target.value),min:"1",placeholder:"留空表示無限制",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14}})]}),B.jsxs("div",{style:{marginBottom:24},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"特殊條件"}),B.jsx("textarea",{value:o.condition,onChange:f=>u("condition",f.target.value),placeholder:"例如：每人最多只可參加2項、須小學畢業",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14,minHeight:60,resize:"vertical"}})]}),B.jsxs("div",{style:{marginBottom:16},children:[B.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:600},children:"分配到自訂Tab"}),B.jsx("input",{list:"customTabList",value:o.customTab,onChange:f=>u("customTab",f.target.value),placeholder:"可輸入新名稱或選擇現有Tab",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:14}}),B.jsx("datalist",{id:"customTabList",children:r.map(f=>B.jsx("option",{value:f},f))}),B.jsx("p",{style:{margin:"4px 0 0 0",color:"#666",fontSize:"0.9em"},children:"可直接輸入新Tab名稱，或選擇現有Tab"})]}),B.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[e&&n&&B.jsx("button",{type:"button",onClick:()=>n(e.id),style:{padding:"8px 16px",background:"#f44336",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontSize:14},children:"刪除"}),B.jsx("button",{type:"button",onClick:i,style:{padding:"8px 16px",background:"#9e9e9e",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontSize:14},children:"取消"}),B.jsx("button",{type:"submit",style:{padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontSize:14},children:"儲存"})]})]})]})})}const w5="modulepreload",k5=function(e){return"/LifeHolmes/"+e},a2={},_e=function(t,i,n){let r=Promise.resolve();if(i&&i.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=l(i.map(f=>{if(f=k5(f),f in a2)return;a2[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":w5,p||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((x,v)=>{y.addEventListener("load",x),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return r.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};var df={exports:{}},T5=df.exports,s2;function A5(){return s2||(s2=1,function(e,t){(function(i,n){e.exports=n()})(T5,function(){var i=1e3,n=6e4,r=36e5,o="millisecond",l="second",c="minute",u="hour",f="day",p="week",g="month",y="quarter",x="year",v="date",_="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var q=["th","st","nd","rd"],L=G%100;return"["+G+(q[(L-20)%10]||q[L]||q[0])+"]"}},M=function(G,q,L){var F=String(G);return!F||F.length>=q?G:""+Array(q+1-F.length).join(L)+G},z={s:M,z:function(G){var q=-G.utcOffset(),L=Math.abs(q),F=Math.floor(L/60),j=L%60;return(q<=0?"+":"-")+M(F,2,"0")+":"+M(j,2,"0")},m:function G(q,L){if(q.date()<L.date())return-G(L,q);var F=12*(L.year()-q.year())+(L.month()-q.month()),j=q.clone().add(F,g),ut=L-j<0,O=q.clone().add(F+(ut?-1:1),g);return+(-(F+(L-j)/(ut?j-O:O-j))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:g,y:x,w:p,d:f,D:v,h:u,m:c,s:l,ms:o,Q:y}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},D="en",E={};E[D]=T;var R="$isDayjsObject",I=function(G){return G instanceof it||!(!G||!G[R])},J=function G(q,L,F){var j;if(!q)return D;if(typeof q=="string"){var ut=q.toLowerCase();E[ut]&&(j=ut),L&&(E[ut]=L,j=ut);var O=q.split("-");if(!j&&O.length>1)return G(O[0])}else{var W=q.name;E[W]=q,j=W}return!F&&j&&(D=j),j||!F&&D},K=function(G,q){if(I(G))return G.clone();var L=typeof q=="object"?q:{};return L.date=G,L.args=arguments,new it(L)},P=z;P.l=J,P.i=I,P.w=function(G,q){return K(G,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var it=function(){function G(L){this.$L=J(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[R]=!0}var q=G.prototype;return q.parse=function(L){this.$d=function(F){var j=F.date,ut=F.utc;if(j===null)return new Date(NaN);if(P.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var O=j.match(S);if(O){var W=O[2]-1||0,ht=(O[7]||"0").substring(0,3);return ut?new Date(Date.UTC(O[1],W,O[3]||1,O[4]||0,O[5]||0,O[6]||0,ht)):new Date(O[1],W,O[3]||1,O[4]||0,O[5]||0,O[6]||0,ht)}}return new Date(j)}(L),this.init()},q.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},q.$utils=function(){return P},q.isValid=function(){return this.$d.toString()!==_},q.isSame=function(L,F){var j=K(L);return this.startOf(F)<=j&&j<=this.endOf(F)},q.isAfter=function(L,F){return K(L)<this.startOf(F)},q.isBefore=function(L,F){return this.endOf(F)<K(L)},q.$g=function(L,F,j){return P.u(L)?this[F]:this.set(j,L)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(L,F){var j=this,ut=!!P.u(F)||F,O=P.p(L),W=function(Gt,It){var Jt=P.w(j.$u?Date.UTC(j.$y,It,Gt):new Date(j.$y,It,Gt),j);return ut?Jt:Jt.endOf(f)},ht=function(Gt,It){return P.w(j.toDate()[Gt].apply(j.toDate("s"),(ut?[0,0,0,0]:[23,59,59,999]).slice(It)),j)},nt=this.$W,gt=this.$M,yt=this.$D,st="set"+(this.$u?"UTC":"");switch(O){case x:return ut?W(1,0):W(31,11);case g:return ut?W(1,gt):W(0,gt+1);case p:var Ct=this.$locale().weekStart||0,zt=(nt<Ct?nt+7:nt)-Ct;return W(ut?yt-zt:yt+(6-zt),gt);case f:case v:return ht(st+"Hours",0);case u:return ht(st+"Minutes",1);case c:return ht(st+"Seconds",2);case l:return ht(st+"Milliseconds",3);default:return this.clone()}},q.endOf=function(L){return this.startOf(L,!1)},q.$set=function(L,F){var j,ut=P.p(L),O="set"+(this.$u?"UTC":""),W=(j={},j[f]=O+"Date",j[v]=O+"Date",j[g]=O+"Month",j[x]=O+"FullYear",j[u]=O+"Hours",j[c]=O+"Minutes",j[l]=O+"Seconds",j[o]=O+"Milliseconds",j)[ut],ht=ut===f?this.$D+(F-this.$W):F;if(ut===g||ut===x){var nt=this.clone().set(v,1);nt.$d[W](ht),nt.init(),this.$d=nt.set(v,Math.min(this.$D,nt.daysInMonth())).$d}else W&&this.$d[W](ht);return this.init(),this},q.set=function(L,F){return this.clone().$set(L,F)},q.get=function(L){return this[P.p(L)]()},q.add=function(L,F){var j,ut=this;L=Number(L);var O=P.p(F),W=function(gt){var yt=K(ut);return P.w(yt.date(yt.date()+Math.round(gt*L)),ut)};if(O===g)return this.set(g,this.$M+L);if(O===x)return this.set(x,this.$y+L);if(O===f)return W(1);if(O===p)return W(7);var ht=(j={},j[c]=n,j[u]=r,j[l]=i,j)[O]||1,nt=this.$d.getTime()+L*ht;return P.w(nt,this)},q.subtract=function(L,F){return this.add(-1*L,F)},q.format=function(L){var F=this,j=this.$locale();if(!this.isValid())return j.invalidDate||_;var ut=L||"YYYY-MM-DDTHH:mm:ssZ",O=P.z(this),W=this.$H,ht=this.$m,nt=this.$M,gt=j.weekdays,yt=j.months,st=j.meridiem,Ct=function(It,Jt,Te,ue){return It&&(It[Jt]||It(F,ut))||Te[Jt].slice(0,ue)},zt=function(It){return P.s(W%12||12,It,"0")},Gt=st||function(It,Jt,Te){var ue=It<12?"AM":"PM";return Te?ue.toLowerCase():ue};return ut.replace(w,function(It,Jt){return Jt||function(Te){switch(Te){case"YY":return String(F.$y).slice(-2);case"YYYY":return P.s(F.$y,4,"0");case"M":return nt+1;case"MM":return P.s(nt+1,2,"0");case"MMM":return Ct(j.monthsShort,nt,yt,3);case"MMMM":return Ct(yt,nt);case"D":return F.$D;case"DD":return P.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return Ct(j.weekdaysMin,F.$W,gt,2);case"ddd":return Ct(j.weekdaysShort,F.$W,gt,3);case"dddd":return gt[F.$W];case"H":return String(W);case"HH":return P.s(W,2,"0");case"h":return zt(1);case"hh":return zt(2);case"a":return Gt(W,ht,!0);case"A":return Gt(W,ht,!1);case"m":return String(ht);case"mm":return P.s(ht,2,"0");case"s":return String(F.$s);case"ss":return P.s(F.$s,2,"0");case"SSS":return P.s(F.$ms,3,"0");case"Z":return O}return null}(It)||O.replace(":","")})},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(L,F,j){var ut,O=this,W=P.p(F),ht=K(L),nt=(ht.utcOffset()-this.utcOffset())*n,gt=this-ht,yt=function(){return P.m(O,ht)};switch(W){case x:ut=yt()/12;break;case g:ut=yt();break;case y:ut=yt()/3;break;case p:ut=(gt-nt)/6048e5;break;case f:ut=(gt-nt)/864e5;break;case u:ut=gt/r;break;case c:ut=gt/n;break;case l:ut=gt/i;break;default:ut=gt}return j?ut:P.a(ut)},q.daysInMonth=function(){return this.endOf(g).$D},q.$locale=function(){return E[this.$L]},q.locale=function(L,F){if(!L)return this.$L;var j=this.clone(),ut=J(L,F,!0);return ut&&(j.$L=ut),j},q.clone=function(){return P.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},G}(),et=it.prototype;return K.prototype=et,[["$ms",o],["$s",l],["$m",c],["$H",u],["$W",f],["$M",g],["$y",x],["$D",v]].forEach(function(G){et[G[1]]=function(q){return this.$g(q,G[0],G[1])}}),K.extend=function(G,q){return G.$i||(G(q,it,K),G.$i=!0),K},K.locale=J,K.isDayjs=I,K.unix=function(G){return K(1e3*G)},K.en=E[D],K.Ls=E,K.p={},K})}(df)),df.exports}var M5=A5();const E5=IS(M5),pf={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e),hsl2rgb:({h:e,s:t,l:i},n)=>{if(!t)return i*2.55;e/=360,t/=100,i/=100;const r=i<.5?i*(1+t):i+t-i*t,o=2*i-r;switch(n){case"r":return pf.hue2rgb(o,r,e+1/3)*255;case"g":return pf.hue2rgb(o,r,e)*255;case"b":return pf.hue2rgb(o,r,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:i},n)=>{e/=255,t/=255,i/=255;const r=Math.max(e,t,i),o=Math.min(e,t,i),l=(r+o)/2;if(n==="l")return l*100;if(r===o)return 0;const c=r-o,u=l>.5?c/(2-r-o):c/(r+o);if(n==="s")return u*100;switch(r){case e:return((t-i)/c+(t<i?6:0))*60;case t:return((i-e)/c+2)*60;case i:return((e-t)/c+4)*60;default:return-1}}},B5={clamp:(e,t,i)=>t>i?Math.min(t,Math.max(i,e)):Math.min(i,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},L5={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Ut={channel:pf,lang:B5,unit:L5},La={};for(let e=0;e<=255;e++)La[e]=Ut.unit.dec2hex(e);const Ai={ALL:0,RGB:1,HSL:2};class D5{constructor(){this.type=Ai.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Ai.ALL}is(t){return this.type===t}}class O5{constructor(t,i){this.color=i,this.changed=!1,this.data=t,this.type=new D5}set(t,i){return this.color=i,this.changed=!1,this.data=t,this.type.type=Ai.ALL,this}_ensureHSL(){const t=this.data,{h:i,s:n,l:r}=t;i===void 0&&(t.h=Ut.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Ut.channel.rgb2hsl(t,"s")),r===void 0&&(t.l=Ut.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:i,g:n,b:r}=t;i===void 0&&(t.r=Ut.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Ut.channel.hsl2rgb(t,"g")),r===void 0&&(t.b=Ut.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,i=t.r;return!this.type.is(Ai.HSL)&&i!==void 0?i:(this._ensureHSL(),Ut.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,i=t.g;return!this.type.is(Ai.HSL)&&i!==void 0?i:(this._ensureHSL(),Ut.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,i=t.b;return!this.type.is(Ai.HSL)&&i!==void 0?i:(this._ensureHSL(),Ut.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,i=t.h;return!this.type.is(Ai.RGB)&&i!==void 0?i:(this._ensureRGB(),Ut.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,i=t.s;return!this.type.is(Ai.RGB)&&i!==void 0?i:(this._ensureRGB(),Ut.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,i=t.l;return!this.type.is(Ai.RGB)&&i!==void 0?i:(this._ensureRGB(),Ut.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Ai.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Ai.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Ai.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Ai.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Ai.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Ai.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Cd=new O5({r:0,g:0,b:0,a:0},"transparent"),Fo={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Fo.re);if(!t)return;const i=t[1],n=parseInt(i,16),r=i.length,o=r%4===0,l=r>4,c=l?1:17,u=l?8:4,f=o?0:-1,p=l?255:15;return Cd.set({r:(n>>u*(f+3)&p)*c,g:(n>>u*(f+2)&p)*c,b:(n>>u*(f+1)&p)*c,a:o?(n&p)*c/255:1},e)},stringify:e=>{const{r:t,g:i,b:n,a:r}=e;return r<1?`#${La[Math.round(t)]}${La[Math.round(i)]}${La[Math.round(n)]}${La[Math.round(r*255)]}`:`#${La[Math.round(t)]}${La[Math.round(i)]}${La[Math.round(n)]}`}},_s={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(_s.hueRe);if(t){const[,i,n]=t;switch(n){case"grad":return Ut.channel.clamp.h(parseFloat(i)*.9);case"rad":return Ut.channel.clamp.h(parseFloat(i)*180/Math.PI);case"turn":return Ut.channel.clamp.h(parseFloat(i)*360)}}return Ut.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const i=e.match(_s.re);if(!i)return;const[,n,r,o,l,c]=i;return Cd.set({h:_s._hue2deg(n),s:Ut.channel.clamp.s(parseFloat(r)),l:Ut.channel.clamp.l(parseFloat(o)),a:l?Ut.channel.clamp.a(c?parseFloat(l)/100:parseFloat(l)):1},e)},stringify:e=>{const{h:t,s:i,l:n,a:r}=e;return r<1?`hsla(${Ut.lang.round(t)}, ${Ut.lang.round(i)}%, ${Ut.lang.round(n)}%, ${r})`:`hsl(${Ut.lang.round(t)}, ${Ut.lang.round(i)}%, ${Ut.lang.round(n)}%)`}},Vc={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Vc.colors[e];if(t)return Fo.parse(t)},stringify:e=>{const t=Fo.stringify(e);for(const i in Vc.colors)if(Vc.colors[i]===t)return i}},zc={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const i=e.match(zc.re);if(!i)return;const[,n,r,o,l,c,u,f,p]=i;return Cd.set({r:Ut.channel.clamp.r(r?parseFloat(n)*2.55:parseFloat(n)),g:Ut.channel.clamp.g(l?parseFloat(o)*2.55:parseFloat(o)),b:Ut.channel.clamp.b(u?parseFloat(c)*2.55:parseFloat(c)),a:f?Ut.channel.clamp.a(p?parseFloat(f)/100:parseFloat(f)):1},e)},stringify:e=>{const{r:t,g:i,b:n,a:r}=e;return r<1?`rgba(${Ut.lang.round(t)}, ${Ut.lang.round(i)}, ${Ut.lang.round(n)}, ${Ut.lang.round(r)})`:`rgb(${Ut.lang.round(t)}, ${Ut.lang.round(i)}, ${Ut.lang.round(n)})`}},br={format:{keyword:Vc,hex:Fo,rgb:zc,rgba:zc,hsl:_s,hsla:_s},parse:e=>{if(typeof e!="string")return e;const t=Fo.parse(e)||zc.parse(e)||_s.parse(e)||Vc.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Ai.HSL)||e.data.r===void 0?_s.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?zc.stringify(e):Fo.stringify(e)},BC=(e,t)=>{const i=br.parse(e);for(const n in t)i[n]=Ut.channel.clamp[n](t[n]);return br.stringify(i)},Xc=(e,t,i=0,n=1)=>{if(typeof e!="number")return BC(e,{a:t});const r=Cd.set({r:Ut.channel.clamp.r(e),g:Ut.channel.clamp.g(t),b:Ut.channel.clamp.b(i),a:Ut.channel.clamp.a(n)});return br.stringify(r)},R5=e=>{const{r:t,g:i,b:n}=br.parse(e),r=.2126*Ut.channel.toLinear(t)+.7152*Ut.channel.toLinear(i)+.0722*Ut.channel.toLinear(n);return Ut.lang.round(r)},z5=e=>R5(e)>=.5,bh=e=>!z5(e),LC=(e,t,i)=>{const n=br.parse(e),r=n[t],o=Ut.channel.clamp[t](r+i);return r!==o&&(n[t]=o),br.stringify(n)},_t=(e,t)=>LC(e,"l",t),Rt=(e,t)=>LC(e,"l",-t),Y=(e,t)=>{const i=br.parse(e),n={};for(const r in t)t[r]&&(n[r]=i[r]+t[r]);return BC(e,n)},N5=(e,t,i=50)=>{const{r:n,g:r,b:o,a:l}=br.parse(e),{r:c,g:u,b:f,a:p}=br.parse(t),g=i/100,y=g*2-1,x=l-p,_=((y*x===-1?y:(y+x)/(1+y*x))+1)/2,S=1-_,w=n*_+c*S,T=r*_+u*S,M=o*_+f*S,z=l*g+p*(1-g);return Xc(w,T,M,z)},mt=(e,t=100)=>{const i=br.parse(e);return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,N5(i,e,t)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:DC,setPrototypeOf:o2,isFrozen:F5,getPrototypeOf:$5,getOwnPropertyDescriptor:j5}=Object;let{freeze:Pi,seal:Nn,create:OC}=Object,{apply:Wm,construct:Ym}=typeof Reflect<"u"&&Reflect;Pi||(Pi=function(t){return t});Nn||(Nn=function(t){return t});Wm||(Wm=function(t,i,n){return t.apply(i,n)});Ym||(Ym=function(t,i){return new t(...i)});const Zu=qi(Array.prototype.forEach),H5=qi(Array.prototype.lastIndexOf),l2=qi(Array.prototype.pop),mc=qi(Array.prototype.push),I5=qi(Array.prototype.splice),gf=qi(String.prototype.toLowerCase),fm=qi(String.prototype.toString),c2=qi(String.prototype.match),yc=qi(String.prototype.replace),P5=qi(String.prototype.indexOf),q5=qi(String.prototype.trim),Gn=qi(Object.prototype.hasOwnProperty),Fi=qi(RegExp.prototype.test),xc=U5(TypeError);function qi(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Wm(e,t,n)}}function U5(e){return function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return Ym(e,i)}}function Kt(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gf;o2&&o2(e,null);let n=t.length;for(;n--;){let r=t[n];if(typeof r=="string"){const o=i(r);o!==r&&(F5(t)||(t[n]=o),r=o)}e[r]=!0}return e}function W5(e){for(let t=0;t<e.length;t++)Gn(e,t)||(e[t]=null);return e}function Ur(e){const t=OC(null);for(const[i,n]of DC(e))Gn(e,i)&&(Array.isArray(n)?t[i]=W5(n):n&&typeof n=="object"&&n.constructor===Object?t[i]=Ur(n):t[i]=n);return t}function bc(e,t){for(;e!==null;){const n=j5(e,t);if(n){if(n.get)return qi(n.get);if(typeof n.value=="function")return qi(n.value)}e=$5(e)}function i(){return null}return i}const h2=Pi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),dm=Pi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pm=Pi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y5=Pi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gm=Pi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),G5=Pi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),u2=Pi(["#text"]),f2=Pi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),mm=Pi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),d2=Pi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qu=Pi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V5=Nn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),X5=Nn(/<%[\w\W]*|[\w\W]*%>/gm),Z5=Nn(/\$\{[\w\W]*/gm),Q5=Nn(/^data-[\-\w.\u00B7-\uFFFF]+$/),K5=Nn(/^aria-[\-\w]+$/),RC=Nn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J5=Nn(/^(?:\w+script|data):/i),t4=Nn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zC=Nn(/^html$/i),e4=Nn(/^[a-z][.\w]*(-[.\w]+)+$/i);var p2=Object.freeze({__proto__:null,ARIA_ATTR:K5,ATTR_WHITESPACE:t4,CUSTOM_ELEMENT:e4,DATA_ATTR:Q5,DOCTYPE_NAME:zC,ERB_EXPR:X5,IS_ALLOWED_URI:RC,IS_SCRIPT_OR_DATA:J5,MUSTACHE_EXPR:V5,TMPLIT_EXPR:Z5});const vc={element:1,text:3,progressingInstruction:7,comment:8,document:9},i4=function(){return typeof window>"u"?null:window},n4=function(t,i){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";i&&i.hasAttribute(r)&&(n=i.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},g2=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function NC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i4();const t=kt=>NC(kt);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==vc.document||!e.Element)return t.isSupported=!1,t;let{document:i}=e;const n=i,r=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:f,NamedNodeMap:p=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:y,trustedTypes:x}=e,v=u.prototype,_=bc(v,"cloneNode"),S=bc(v,"remove"),w=bc(v,"nextSibling"),T=bc(v,"childNodes"),M=bc(v,"parentNode");if(typeof l=="function"){const kt=i.createElement("template");kt.content&&kt.content.ownerDocument&&(i=kt.content.ownerDocument)}let z,D="";const{implementation:E,createNodeIterator:R,createDocumentFragment:I,getElementsByTagName:J}=i,{importNode:K}=n;let P=g2();t.isSupported=typeof DC=="function"&&typeof M=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:it,ERB_EXPR:et,TMPLIT_EXPR:G,DATA_ATTR:q,ARIA_ATTR:L,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:ut}=p2;let{IS_ALLOWED_URI:O}=p2,W=null;const ht=Kt({},[...h2,...dm,...pm,...gm,...u2]);let nt=null;const gt=Kt({},[...f2,...mm,...d2,...Qu]);let yt=Object.seal(OC(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),st=null,Ct=null,zt=!0,Gt=!0,It=!1,Jt=!0,Te=!1,ue=!0,_i=!1,qs=!1,oe=!1,ae=!1,ri=!1,$n=!1,na=!0,bn=!1;const Us="user-content-";let Cr=!0,en=!1,jn={},fi=null;const Le=Kt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Si=null;const di=Kt({},["audio","video","img","source","image","track"]);let Jn=null;const Ws=Kt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tr="http://www.w3.org/1998/Math/MathML",Di="http://www.w3.org/2000/svg",ai="http://www.w3.org/1999/xhtml";let pi=ai,nn=!1,rn=null;const Ys=Kt({},[tr,Di,ai],fm);let Hn=Kt({},["mi","mo","mn","ms","mtext"]),wr=Kt({},["annotation-xml"]);const er=Kt({},["title","style","font","a","script"]);let Ci=null;const Ua=["application/xhtml+xml","text/html"],Gs="text/html";let Ae=null,an=null;const vn=i.createElement("form"),Wa=function(H){return H instanceof RegExp||H instanceof Function},Ya=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(an&&an===H)){if((!H||typeof H!="object")&&(H={}),H=Ur(H),Ci=Ua.indexOf(H.PARSER_MEDIA_TYPE)===-1?Gs:H.PARSER_MEDIA_TYPE,Ae=Ci==="application/xhtml+xml"?fm:gf,W=Gn(H,"ALLOWED_TAGS")?Kt({},H.ALLOWED_TAGS,Ae):ht,nt=Gn(H,"ALLOWED_ATTR")?Kt({},H.ALLOWED_ATTR,Ae):gt,rn=Gn(H,"ALLOWED_NAMESPACES")?Kt({},H.ALLOWED_NAMESPACES,fm):Ys,Jn=Gn(H,"ADD_URI_SAFE_ATTR")?Kt(Ur(Ws),H.ADD_URI_SAFE_ATTR,Ae):Ws,Si=Gn(H,"ADD_DATA_URI_TAGS")?Kt(Ur(di),H.ADD_DATA_URI_TAGS,Ae):di,fi=Gn(H,"FORBID_CONTENTS")?Kt({},H.FORBID_CONTENTS,Ae):Le,st=Gn(H,"FORBID_TAGS")?Kt({},H.FORBID_TAGS,Ae):Ur({}),Ct=Gn(H,"FORBID_ATTR")?Kt({},H.FORBID_ATTR,Ae):Ur({}),jn=Gn(H,"USE_PROFILES")?H.USE_PROFILES:!1,zt=H.ALLOW_ARIA_ATTR!==!1,Gt=H.ALLOW_DATA_ATTR!==!1,It=H.ALLOW_UNKNOWN_PROTOCOLS||!1,Jt=H.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Te=H.SAFE_FOR_TEMPLATES||!1,ue=H.SAFE_FOR_XML!==!1,_i=H.WHOLE_DOCUMENT||!1,ae=H.RETURN_DOM||!1,ri=H.RETURN_DOM_FRAGMENT||!1,$n=H.RETURN_TRUSTED_TYPE||!1,oe=H.FORCE_BODY||!1,na=H.SANITIZE_DOM!==!1,bn=H.SANITIZE_NAMED_PROPS||!1,Cr=H.KEEP_CONTENT!==!1,en=H.IN_PLACE||!1,O=H.ALLOWED_URI_REGEXP||RC,pi=H.NAMESPACE||ai,Hn=H.MATHML_TEXT_INTEGRATION_POINTS||Hn,wr=H.HTML_INTEGRATION_POINTS||wr,yt=H.CUSTOM_ELEMENT_HANDLING||{},H.CUSTOM_ELEMENT_HANDLING&&Wa(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yt.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&Wa(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yt.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yt.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(Gt=!1),ri&&(ae=!0),jn&&(W=Kt({},u2),nt=[],jn.html===!0&&(Kt(W,h2),Kt(nt,f2)),jn.svg===!0&&(Kt(W,dm),Kt(nt,mm),Kt(nt,Qu)),jn.svgFilters===!0&&(Kt(W,pm),Kt(nt,mm),Kt(nt,Qu)),jn.mathMl===!0&&(Kt(W,gm),Kt(nt,d2),Kt(nt,Qu))),H.ADD_TAGS&&(W===ht&&(W=Ur(W)),Kt(W,H.ADD_TAGS,Ae)),H.ADD_ATTR&&(nt===gt&&(nt=Ur(nt)),Kt(nt,H.ADD_ATTR,Ae)),H.ADD_URI_SAFE_ATTR&&Kt(Jn,H.ADD_URI_SAFE_ATTR,Ae),H.FORBID_CONTENTS&&(fi===Le&&(fi=Ur(fi)),Kt(fi,H.FORBID_CONTENTS,Ae)),Cr&&(W["#text"]=!0),_i&&Kt(W,["html","head","body"]),W.table&&(Kt(W,["tbody"]),delete st.tbody),H.TRUSTED_TYPES_POLICY){if(typeof H.TRUSTED_TYPES_POLICY.createHTML!="function")throw xc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof H.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw xc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');z=H.TRUSTED_TYPES_POLICY,D=z.createHTML("")}else z===void 0&&(z=n4(x,r)),z!==null&&typeof D=="string"&&(D=z.createHTML(""));Pi&&Pi(H),an=H}},sn=Kt({},[...dm,...pm,...Y5]),Se=Kt({},[...gm,...G5]),Ge=function(H){let ft=M(H);(!ft||!ft.tagName)&&(ft={namespaceURI:pi,tagName:"template"});const pt=gf(H.tagName),ye=gf(ft.tagName);return rn[H.namespaceURI]?H.namespaceURI===Di?ft.namespaceURI===ai?pt==="svg":ft.namespaceURI===tr?pt==="svg"&&(ye==="annotation-xml"||Hn[ye]):!!sn[pt]:H.namespaceURI===tr?ft.namespaceURI===ai?pt==="math":ft.namespaceURI===Di?pt==="math"&&wr[ye]:!!Se[pt]:H.namespaceURI===ai?ft.namespaceURI===Di&&!wr[ye]||ft.namespaceURI===tr&&!Hn[ye]?!1:!Se[pt]&&(er[pt]||!sn[pt]):!!(Ci==="application/xhtml+xml"&&rn[H.namespaceURI]):!1},Qe=function(H){mc(t.removed,{element:H});try{M(H).removeChild(H)}catch{S(H)}},on=function(H,ft){try{mc(t.removed,{attribute:ft.getAttributeNode(H),from:ft})}catch{mc(t.removed,{attribute:null,from:ft})}if(ft.removeAttribute(H),H==="is")if(ae||ri)try{Qe(ft)}catch{}else try{ft.setAttribute(H,"")}catch{}},ra=function(H){let ft=null,pt=null;if(oe)H="<remove></remove>"+H;else{const ze=c2(H,/^[\r\n\t ]+/);pt=ze&&ze[0]}Ci==="application/xhtml+xml"&&pi===ai&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");const ye=z?z.createHTML(H):H;if(pi===ai)try{ft=new y().parseFromString(ye,Ci)}catch{}if(!ft||!ft.documentElement){ft=E.createDocument(pi,"template",null);try{ft.documentElement.innerHTML=nn?D:ye}catch{}}const Pe=ft.body||ft.documentElement;return H&&pt&&Pe.insertBefore(i.createTextNode(pt),Pe.childNodes[0]||null),pi===ai?J.call(ft,_i?"html":"body")[0]:_i?ft.documentElement:Pe},Vs=function(H){return R.call(H.ownerDocument||H,H,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},aa=function(H){return H instanceof g&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof p)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function"||typeof H.hasChildNodes!="function")},ir=function(H){return typeof c=="function"&&H instanceof c};function Oi(kt,H,ft){Zu(kt,pt=>{pt.call(t,H,ft,an)})}const In=function(H){let ft=null;if(Oi(P.beforeSanitizeElements,H,null),aa(H))return Qe(H),!0;const pt=Ae(H.nodeName);if(Oi(P.uponSanitizeElement,H,{tagName:pt,allowedTags:W}),ue&&H.hasChildNodes()&&!ir(H.firstElementChild)&&Fi(/<[/\w!]/g,H.innerHTML)&&Fi(/<[/\w!]/g,H.textContent)||H.nodeType===vc.progressingInstruction||ue&&H.nodeType===vc.comment&&Fi(/<[/\w]/g,H.data))return Qe(H),!0;if(!W[pt]||st[pt]){if(!st[pt]&&nr(pt)&&(yt.tagNameCheck instanceof RegExp&&Fi(yt.tagNameCheck,pt)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(pt)))return!1;if(Cr&&!fi[pt]){const ye=M(H)||H.parentNode,Pe=T(H)||H.childNodes;if(Pe&&ye){const ze=Pe.length;for(let re=ze-1;re>=0;--re){const wi=_(Pe[re],!0);wi.__removalCount=(H.__removalCount||0)+1,ye.insertBefore(wi,w(H))}}}return Qe(H),!0}return H instanceof u&&!Ge(H)||(pt==="noscript"||pt==="noembed"||pt==="noframes")&&Fi(/<\/no(script|embed|frames)/i,H.innerHTML)?(Qe(H),!0):(Te&&H.nodeType===vc.text&&(ft=H.textContent,Zu([it,et,G],ye=>{ft=yc(ft,ye," ")}),H.textContent!==ft&&(mc(t.removed,{element:H.cloneNode()}),H.textContent=ft)),Oi(P.afterSanitizeElements,H,null),!1)},Ri=function(H,ft,pt){if(na&&(ft==="id"||ft==="name")&&(pt in i||pt in vn))return!1;if(!(Gt&&!Ct[ft]&&Fi(q,ft))){if(!(zt&&Fi(L,ft))){if(!nt[ft]||Ct[ft]){if(!(nr(H)&&(yt.tagNameCheck instanceof RegExp&&Fi(yt.tagNameCheck,H)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(H))&&(yt.attributeNameCheck instanceof RegExp&&Fi(yt.attributeNameCheck,ft)||yt.attributeNameCheck instanceof Function&&yt.attributeNameCheck(ft))||ft==="is"&&yt.allowCustomizedBuiltInElements&&(yt.tagNameCheck instanceof RegExp&&Fi(yt.tagNameCheck,pt)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(pt))))return!1}else if(!Jn[ft]){if(!Fi(O,yc(pt,j,""))){if(!((ft==="src"||ft==="xlink:href"||ft==="href")&&H!=="script"&&P5(pt,"data:")===0&&Si[H])){if(!(It&&!Fi(F,yc(pt,j,"")))){if(pt)return!1}}}}}}return!0},nr=function(H){return H!=="annotation-xml"&&c2(H,ut)},Pn=function(H){Oi(P.beforeSanitizeAttributes,H,null);const{attributes:ft}=H;if(!ft||aa(H))return;const pt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:nt,forceKeepAttr:void 0};let ye=ft.length;for(;ye--;){const Pe=ft[ye],{name:ze,namespaceURI:re,value:wi}=Pe,_n=Ae(ze),zi=wi;let Ne=ze==="value"?zi:q5(zi);if(pt.attrName=_n,pt.attrValue=Ne,pt.keepAttr=!0,pt.forceKeepAttr=void 0,Oi(P.uponSanitizeAttribute,H,pt),Ne=pt.attrValue,bn&&(_n==="id"||_n==="name")&&(on(ze,H),Ne=Us+Ne),ue&&Fi(/((--!?|])>)|<\/(style|title)/i,Ne)){on(ze,H);continue}if(pt.forceKeepAttr)continue;if(!pt.keepAttr){on(ze,H);continue}if(!Jt&&Fi(/\/>/i,Ne)){on(ze,H);continue}Te&&Zu([it,et,G],tt=>{Ne=yc(Ne,tt," ")});const sa=Ae(H.nodeName);if(!Ri(sa,_n,Ne)){on(ze,H);continue}if(z&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!re)switch(x.getAttributeType(sa,_n)){case"TrustedHTML":{Ne=z.createHTML(Ne);break}case"TrustedScriptURL":{Ne=z.createScriptURL(Ne);break}}if(Ne!==zi)try{re?H.setAttributeNS(re,ze,Ne):H.setAttribute(ze,Ne),aa(H)?Qe(H):l2(t.removed)}catch{on(ze,H)}}Oi(P.afterSanitizeAttributes,H,null)},$e=function kt(H){let ft=null;const pt=Vs(H);for(Oi(P.beforeSanitizeShadowDOM,H,null);ft=pt.nextNode();)Oi(P.uponSanitizeShadowNode,ft,null),In(ft),Pn(ft),ft.content instanceof o&&kt(ft.content);Oi(P.afterSanitizeShadowDOM,H,null)};return t.sanitize=function(kt){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft=null,pt=null,ye=null,Pe=null;if(nn=!kt,nn&&(kt="<!-->"),typeof kt!="string"&&!ir(kt))if(typeof kt.toString=="function"){if(kt=kt.toString(),typeof kt!="string")throw xc("dirty is not a string, aborting")}else throw xc("toString is not a function");if(!t.isSupported)return kt;if(qs||Ya(H),t.removed=[],typeof kt=="string"&&(en=!1),en){if(kt.nodeName){const wi=Ae(kt.nodeName);if(!W[wi]||st[wi])throw xc("root node is forbidden and cannot be sanitized in-place")}}else if(kt instanceof c)ft=ra("<!---->"),pt=ft.ownerDocument.importNode(kt,!0),pt.nodeType===vc.element&&pt.nodeName==="BODY"||pt.nodeName==="HTML"?ft=pt:ft.appendChild(pt);else{if(!ae&&!Te&&!_i&&kt.indexOf("<")===-1)return z&&$n?z.createHTML(kt):kt;if(ft=ra(kt),!ft)return ae?null:$n?D:""}ft&&oe&&Qe(ft.firstChild);const ze=Vs(en?kt:ft);for(;ye=ze.nextNode();)In(ye),Pn(ye),ye.content instanceof o&&$e(ye.content);if(en)return kt;if(ae){if(ri)for(Pe=I.call(ft.ownerDocument);ft.firstChild;)Pe.appendChild(ft.firstChild);else Pe=ft;return(nt.shadowroot||nt.shadowrootmode)&&(Pe=K.call(n,Pe,!0)),Pe}let re=_i?ft.outerHTML:ft.innerHTML;return _i&&W["!doctype"]&&ft.ownerDocument&&ft.ownerDocument.doctype&&ft.ownerDocument.doctype.name&&Fi(zC,ft.ownerDocument.doctype.name)&&(re="<!DOCTYPE "+ft.ownerDocument.doctype.name+`>
`+re),Te&&Zu([it,et,G],wi=>{re=yc(re,wi," ")}),z&&$n?z.createHTML(re):re},t.setConfig=function(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ya(kt),qs=!0},t.clearConfig=function(){an=null,qs=!1},t.isValidAttribute=function(kt,H,ft){an||Ya({});const pt=Ae(kt),ye=Ae(H);return Ri(pt,ye,ft)},t.addHook=function(kt,H){typeof H=="function"&&mc(P[kt],H)},t.removeHook=function(kt,H){if(H!==void 0){const ft=H5(P[kt],H);return ft===-1?void 0:I5(P[kt],ft,1)[0]}return l2(P[kt])},t.removeHooks=function(kt){P[kt]=[]},t.removeAllHooks=function(){P=g2()},t}var Qo=NC(),FC=Object.defineProperty,C=(e,t)=>FC(e,"name",{value:t,configurable:!0}),r4=(e,t)=>{for(var i in t)FC(e,i,{get:t[i],enumerable:!0})},Hr={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ct={trace:C((...e)=>{},"trace"),debug:C((...e)=>{},"debug"),info:C((...e)=>{},"info"),warn:C((...e)=>{},"warn"),error:C((...e)=>{},"error"),fatal:C((...e)=>{},"fatal")},ry=C(function(e="fatal"){let t=Hr.fatal;typeof e=="string"?e.toLowerCase()in Hr&&(t=Hr[e]):typeof e=="number"&&(t=e),ct.trace=()=>{},ct.debug=()=>{},ct.info=()=>{},ct.warn=()=>{},ct.error=()=>{},ct.fatal=()=>{},t<=Hr.fatal&&(ct.fatal=console.error?console.error.bind(console,Bn("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Bn("FATAL"))),t<=Hr.error&&(ct.error=console.error?console.error.bind(console,Bn("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Bn("ERROR"))),t<=Hr.warn&&(ct.warn=console.warn?console.warn.bind(console,Bn("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Bn("WARN"))),t<=Hr.info&&(ct.info=console.info?console.info.bind(console,Bn("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Bn("INFO"))),t<=Hr.debug&&(ct.debug=console.debug?console.debug.bind(console,Bn("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Bn("DEBUG"))),t<=Hr.trace&&(ct.trace=console.debug?console.debug.bind(console,Bn("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Bn("TRACE")))},"setLogLevel"),Bn=C(e=>`%c${E5().format("ss.SSS")} : ${e} : `,"format"),$C=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Zc=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,a4=/\s*%%.*\n/gm,Ho,jC=(Ho=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},C(Ho,"UnknownDiagramError"),Ho),Ko={},ay=C(function(e,t){e=e.replace($C,"").replace(Zc,"").replace(a4,`
`);for(const[i,{detector:n}]of Object.entries(Ko))if(n(e,t))return i;throw new jC(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Gm=C((...e)=>{for(const{id:t,detector:i,loader:n}of e)HC(t,i,n)},"registerLazyLoadedDiagrams"),HC=C((e,t,i)=>{Ko[e]&&ct.warn(`Detector with key ${e} already exists. Overwriting.`),Ko[e]={detector:t,loader:i},ct.debug(`Detector with key ${e} added${i?" with loader":""}`)},"addDetector"),s4=C(e=>Ko[e].loader,"getDiagramLoader"),Vm=C((e,t,{depth:i=2,clobber:n=!1}={})=>{const r={depth:i,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(o=>Vm(e,o,r)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(o=>{e.includes(o)||e.push(o)}),e):e===void 0||i<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(o=>{typeof t[o]=="object"&&(e[o]===void 0||typeof e[o]=="object")?(e[o]===void 0&&(e[o]=Array.isArray(t[o])?[]:{}),e[o]=Vm(e[o],t[o],{depth:i-1,clobber:n})):(n||typeof e[o]!="object"&&typeof t[o]!="object")&&(e[o]=t[o])}),e)},"assignWithDepth"),vi=Vm,wd="#ffffff",kd="#f2f2f2",$i=C((e,t)=>t?Y(e,{s:-40,l:10}):Y(e,{s:-40,l:-10}),"mkBorder"),Io,o4=(Io=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var i,n,r,o,l,c,u,f,p,g,y,x,v,_,S,w,T,M,z,D,E;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Y(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Y(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||$i(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||$i(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||$i(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||$i(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||mt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||mt(this.tertiaryColor),this.lineColor=this.lineColor||mt(this.background),this.arrowheadColor=this.arrowheadColor||mt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Rt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||mt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||_t(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Rt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Rt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||_t(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||_t(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.darkMode)for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScale"+R]=Rt(this["cScale"+R],75);else for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScale"+R]=Rt(this["cScale"+R],25);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||mt(this["cScale"+R]);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this.darkMode?this["cScalePeer"+R]=this["cScalePeer"+R]||_t(this["cScale"+R],10):this["cScalePeer"+R]=this["cScalePeer"+R]||Rt(this["cScale"+R],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Y(this.mainBkg,{h:180,s:-15,l:t*(5+R*3)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Y(this.mainBkg,{h:180,s:-15,l:t*(8+R*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Y(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Y(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Y(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Y(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Y(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Y(this.primaryColor,{l:-10}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Y(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Y(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((i=this.radar)==null?void 0:i.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((r=this.radar)==null?void 0:r.axisLabelFontSize)||12,curveOpacity:((o=this.radar)==null?void 0:o.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((c=this.radar)==null?void 0:c.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((f=this.radar)==null?void 0:f.graticuleOpacity)||.3,legendBoxSize:((p=this.radar)==null?void 0:p.legendBoxSize)||12,legendFontSize:((g=this.radar)==null?void 0:g.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||bh(this.quadrant1Fill)?_t(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((y=this.xyChart)==null?void 0:y.backgroundColor)||this.background,titleColor:((x=this.xyChart)==null?void 0:x.titleColor)||this.primaryTextColor,xAxisTitleColor:((v=this.xyChart)==null?void 0:v.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((_=this.xyChart)==null?void 0:_.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((S=this.xyChart)==null?void 0:S.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((w=this.xyChart)==null?void 0:w.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((T=this.xyChart)==null?void 0:T.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((M=this.xyChart)==null?void 0:M.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((z=this.xyChart)==null?void 0:z.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((D=this.xyChart)==null?void 0:D.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((E=this.xyChart)==null?void 0:E.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=_t(this.git0,25),this.git1=_t(this.git1,25),this.git2=_t(this.git2,25),this.git3=_t(this.git3,25),this.git4=_t(this.git4,25),this.git5=_t(this.git5,25),this.git6=_t(this.git6,25),this.git7=_t(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||mt(this.git0),this.gitInv1=this.gitInv1||mt(this.git1),this.gitInv2=this.gitInv2||mt(this.git2),this.gitInv3=this.gitInv3||mt(this.git3),this.gitInv4=this.gitInv4||mt(this.git4),this.gitInv5=this.gitInv5||mt(this.git5),this.gitInv6=this.gitInv6||mt(this.git6),this.gitInv7=this.gitInv7||mt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||kd}calculate(t){if(typeof t!="object"){this.updateColors();return}const i=Object.keys(t);i.forEach(n=>{this[n]=t[n]}),this.updateColors(),i.forEach(n=>{this[n]=t[n]})}},C(Io,"Theme"),Io),l4=C(e=>{const t=new o4;return t.calculate(e),t},"getThemeVariables"),Po,c4=(Po=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=_t(this.primaryColor,16),this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=mt(this.background),this.secondaryBorderColor=$i(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$i(this.tertiaryColor,this.darkMode),this.primaryTextColor=mt(this.primaryColor),this.secondaryTextColor=mt(this.secondaryColor),this.tertiaryTextColor=mt(this.tertiaryColor),this.lineColor=mt(this.background),this.textColor=mt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=_t(mt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Xc(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Rt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Rt(this.sectionBkgColor,10),this.taskBorderColor=Xc(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Xc(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||_t(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Rt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,i,n,r,o,l,c,u,f,p,g,y,x,v,_,S,w,T,M,z,D;this.secondBkg=_t(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=_t(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=_t(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330});for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleInv"+E]=this["cScaleInv"+E]||mt(this["cScale"+E]);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScalePeer"+E]=this["cScalePeer"+E]||_t(this["cScale"+E],10);for(let E=0;E<5;E++)this["surface"+E]=this["surface"+E]||Y(this.mainBkg,{h:30,s:-30,l:-(-10+E*4)}),this["surfacePeer"+E]=this["surfacePeer"+E]||Y(this.mainBkg,{h:30,s:-30,l:-(-7+E*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleLabel"+E]=this["cScaleLabel"+E]||this.scaleLabelColor;for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["pie"+E]=this["cScale"+E];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||bh(this.quadrant1Fill)?_t(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((p=this.xyChart)==null?void 0:p.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((g=this.xyChart)==null?void 0:g.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((y=this.radar)==null?void 0:y.axisColor)||this.lineColor,axisStrokeWidth:((x=this.radar)==null?void 0:x.axisStrokeWidth)||2,axisLabelFontSize:((v=this.radar)==null?void 0:v.axisLabelFontSize)||12,curveOpacity:((_=this.radar)==null?void 0:_.curveOpacity)||.5,curveStrokeWidth:((S=this.radar)==null?void 0:S.curveStrokeWidth)||2,graticuleColor:((w=this.radar)==null?void 0:w.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((T=this.radar)==null?void 0:T.graticuleStrokeWidth)||1,graticuleOpacity:((M=this.radar)==null?void 0:M.graticuleOpacity)||.3,legendBoxSize:((z=this.radar)==null?void 0:z.legendBoxSize)||12,legendFontSize:((D=this.radar)==null?void 0:D.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=_t(this.secondaryColor,20),this.git1=_t(this.pie2||this.secondaryColor,20),this.git2=_t(this.pie3||this.tertiaryColor,20),this.git3=_t(this.pie4||Y(this.primaryColor,{h:-30}),20),this.git4=_t(this.pie5||Y(this.primaryColor,{h:-60}),20),this.git5=_t(this.pie6||Y(this.primaryColor,{h:-90}),10),this.git6=_t(this.pie7||Y(this.primaryColor,{h:60}),10),this.git7=_t(this.pie8||Y(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||mt(this.git0),this.gitInv1=this.gitInv1||mt(this.git1),this.gitInv2=this.gitInv2||mt(this.git2),this.gitInv3=this.gitInv3||mt(this.git3),this.gitInv4=this.gitInv4||mt(this.git4),this.gitInv5=this.gitInv5||mt(this.git5),this.gitInv6=this.gitInv6||mt(this.git6),this.gitInv7=this.gitInv7||mt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||mt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||mt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||_t(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||_t(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const i=Object.keys(t);i.forEach(n=>{this[n]=t[n]}),this.updateColors(),i.forEach(n=>{this[n]=t[n]})}},C(Po,"Theme"),Po),h4=C(e=>{const t=new c4;return t.calculate(e),t},"getThemeVariables"),qo,u4=(qo=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Y(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=$i(this.primaryColor,this.darkMode),this.secondaryBorderColor=$i(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$i(this.tertiaryColor,this.darkMode),this.primaryTextColor=mt(this.primaryColor),this.secondaryTextColor=mt(this.secondaryColor),this.tertiaryTextColor=mt(this.tertiaryColor),this.lineColor=mt(this.background),this.textColor=mt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Xc(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,i,n,r,o,l,c,u,f,p,g,y,x,v,_,S,w,T,M,z,D;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Rt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Rt(this.tertiaryColor,40);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScale"+E]=Rt(this["cScale"+E],10),this["cScalePeer"+E]=this["cScalePeer"+E]||Rt(this["cScale"+E],25);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleInv"+E]=this["cScaleInv"+E]||Y(this["cScale"+E],{h:180});for(let E=0;E<5;E++)this["surface"+E]=this["surface"+E]||Y(this.mainBkg,{h:30,l:-(5+E*5)}),this["surfacePeer"+E]=this["surfacePeer"+E]||Y(this.mainBkg,{h:30,l:-(7+E*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||mt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||mt(this.labelTextColor);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleLabel"+E]=this["cScaleLabel"+E]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=_t(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||_t(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||_t(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Y(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Y(this.primaryColor,{l:-10}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Y(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Y(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||bh(this.quadrant1Fill)?_t(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((r=this.radar)==null?void 0:r.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((u=this.radar)==null?void 0:u.graticuleOpacity)||.3,legendBoxSize:((f=this.radar)==null?void 0:f.legendBoxSize)||12,legendFontSize:((p=this.radar)==null?void 0:p.legendFontSize)||12},this.xyChart={backgroundColor:((g=this.xyChart)==null?void 0:g.backgroundColor)||this.background,titleColor:((y=this.xyChart)==null?void 0:y.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((v=this.xyChart)==null?void 0:v.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)==null?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((S=this.xyChart)==null?void 0:S.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((w=this.xyChart)==null?void 0:w.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((T=this.xyChart)==null?void 0:T.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((M=this.xyChart)==null?void 0:M.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((z=this.xyChart)==null?void 0:z.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((D=this.xyChart)==null?void 0:D.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=_t(this.git0,25),this.git1=_t(this.git1,25),this.git2=_t(this.git2,25),this.git3=_t(this.git3,25),this.git4=_t(this.git4,25),this.git5=_t(this.git5,25),this.git6=_t(this.git6,25),this.git7=_t(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||Rt(mt(this.git0),25),this.gitInv1=this.gitInv1||mt(this.git1),this.gitInv2=this.gitInv2||mt(this.git2),this.gitInv3=this.gitInv3||mt(this.git3),this.gitInv4=this.gitInv4||mt(this.git4),this.gitInv5=this.gitInv5||mt(this.git5),this.gitInv6=this.gitInv6||mt(this.git6),this.gitInv7=this.gitInv7||mt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||mt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||mt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||kd}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const i=Object.keys(t);i.forEach(n=>{this[n]=t[n]}),this.updateColors(),i.forEach(n=>{this[n]=t[n]})}},C(qo,"Theme"),qo),f4=C(e=>{const t=new u4;return t.calculate(e),t},"getThemeVariables"),Uo,d4=(Uo=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=_t("#cde498",10),this.primaryBorderColor=$i(this.primaryColor,this.darkMode),this.secondaryBorderColor=$i(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$i(this.tertiaryColor,this.darkMode),this.primaryTextColor=mt(this.primaryColor),this.secondaryTextColor=mt(this.secondaryColor),this.tertiaryTextColor=mt(this.primaryColor),this.lineColor=mt(this.background),this.textColor=mt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,i,n,r,o,l,c,u,f,p,g,y,x,v,_,S,w,T,M,z,D;this.actorBorder=Rt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Y(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Y(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Y(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Y(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Y(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Y(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Y(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Y(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Y(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Rt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Rt(this.tertiaryColor,40);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScale"+E]=Rt(this["cScale"+E],10),this["cScalePeer"+E]=this["cScalePeer"+E]||Rt(this["cScale"+E],25);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleInv"+E]=this["cScaleInv"+E]||Y(this["cScale"+E],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleLabel"+E]=this["cScaleLabel"+E]||this.scaleLabelColor;for(let E=0;E<5;E++)this["surface"+E]=this["surface"+E]||Y(this.mainBkg,{h:30,s:-30,l:-(5+E*5)}),this["surfacePeer"+E]=this["surfacePeer"+E]||Y(this.mainBkg,{h:30,s:-30,l:-(8+E*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||_t(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||_t(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Y(this.primaryColor,{l:-30}),this.pie5=this.pie5||Y(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Y(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Y(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Y(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Y(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Y(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Y(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Y(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||bh(this.quadrant1Fill)?_t(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((r=this.radar)==null?void 0:r.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((u=this.radar)==null?void 0:u.graticuleOpacity)||.3,legendBoxSize:((f=this.radar)==null?void 0:f.legendBoxSize)||12,legendFontSize:((p=this.radar)==null?void 0:p.legendFontSize)||12},this.xyChart={backgroundColor:((g=this.xyChart)==null?void 0:g.backgroundColor)||this.background,titleColor:((y=this.xyChart)==null?void 0:y.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((v=this.xyChart)==null?void 0:v.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)==null?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((S=this.xyChart)==null?void 0:S.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((w=this.xyChart)==null?void 0:w.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((T=this.xyChart)==null?void 0:T.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((M=this.xyChart)==null?void 0:M.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((z=this.xyChart)==null?void 0:z.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((D=this.xyChart)==null?void 0:D.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Y(this.primaryColor,{h:-30}),this.git4=this.git4||Y(this.primaryColor,{h:-60}),this.git5=this.git5||Y(this.primaryColor,{h:-90}),this.git6=this.git6||Y(this.primaryColor,{h:60}),this.git7=this.git7||Y(this.primaryColor,{h:120}),this.darkMode?(this.git0=_t(this.git0,25),this.git1=_t(this.git1,25),this.git2=_t(this.git2,25),this.git3=_t(this.git3,25),this.git4=_t(this.git4,25),this.git5=_t(this.git5,25),this.git6=_t(this.git6,25),this.git7=_t(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||mt(this.git0),this.gitInv1=this.gitInv1||mt(this.git1),this.gitInv2=this.gitInv2||mt(this.git2),this.gitInv3=this.gitInv3||mt(this.git3),this.gitInv4=this.gitInv4||mt(this.git4),this.gitInv5=this.gitInv5||mt(this.git5),this.gitInv6=this.gitInv6||mt(this.git6),this.gitInv7=this.gitInv7||mt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||mt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||mt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||kd}calculate(t){if(typeof t!="object"){this.updateColors();return}const i=Object.keys(t);i.forEach(n=>{this[n]=t[n]}),this.updateColors(),i.forEach(n=>{this[n]=t[n]})}},C(Uo,"Theme"),Uo),p4=C(e=>{const t=new d4;return t.calculate(e),t},"getThemeVariables"),Wo,g4=(Wo=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=_t(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Y(this.primaryColor,{h:-160}),this.primaryBorderColor=$i(this.primaryColor,this.darkMode),this.secondaryBorderColor=$i(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=$i(this.tertiaryColor,this.darkMode),this.primaryTextColor=mt(this.primaryColor),this.secondaryTextColor=mt(this.secondaryColor),this.tertiaryTextColor=mt(this.tertiaryColor),this.lineColor=mt(this.background),this.textColor=mt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||_t(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,i,n,r,o,l,c,u,f,p,g,y,x,v,_,S,w,T,M,z,D;this.secondBkg=_t(this.contrast,55),this.border2=this.contrast,this.actorBorder=_t(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleInv"+E]=this["cScaleInv"+E]||mt(this["cScale"+E]);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this.darkMode?this["cScalePeer"+E]=this["cScalePeer"+E]||_t(this["cScale"+E],10):this["cScalePeer"+E]=this["cScalePeer"+E]||Rt(this["cScale"+E],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleLabel"+E]=this["cScaleLabel"+E]||this.scaleLabelColor;for(let E=0;E<5;E++)this["surface"+E]=this["surface"+E]||Y(this.mainBkg,{l:-(5+E*5)}),this["surfacePeer"+E]=this["surfacePeer"+E]||Y(this.mainBkg,{l:-(8+E*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=_t(this.contrast,30),this.sectionBkgColor2=_t(this.contrast,30),this.taskBorderColor=Rt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=_t(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Rt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Y(this.primaryColor,{h:64}),this.fillType3=Y(this.secondaryColor,{h:64}),this.fillType4=Y(this.primaryColor,{h:-64}),this.fillType5=Y(this.secondaryColor,{h:-64}),this.fillType6=Y(this.primaryColor,{h:128}),this.fillType7=Y(this.secondaryColor,{h:128});for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["pie"+E]=this["cScale"+E];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Y(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Y(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Y(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Y(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Y(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Y(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||bh(this.quadrant1Fill)?_t(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((p=this.xyChart)==null?void 0:p.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((g=this.xyChart)==null?void 0:g.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((y=this.radar)==null?void 0:y.axisColor)||this.lineColor,axisStrokeWidth:((x=this.radar)==null?void 0:x.axisStrokeWidth)||2,axisLabelFontSize:((v=this.radar)==null?void 0:v.axisLabelFontSize)||12,curveOpacity:((_=this.radar)==null?void 0:_.curveOpacity)||.5,curveStrokeWidth:((S=this.radar)==null?void 0:S.curveStrokeWidth)||2,graticuleColor:((w=this.radar)==null?void 0:w.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((T=this.radar)==null?void 0:T.graticuleStrokeWidth)||1,graticuleOpacity:((M=this.radar)==null?void 0:M.graticuleOpacity)||.3,legendBoxSize:((z=this.radar)==null?void 0:z.legendBoxSize)||12,legendFontSize:((D=this.radar)==null?void 0:D.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Rt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Y(this.primaryColor,{h:-30}),this.git4=this.pie5||Y(this.primaryColor,{h:-60}),this.git5=this.pie6||Y(this.primaryColor,{h:-90}),this.git6=this.pie7||Y(this.primaryColor,{h:60}),this.git7=this.pie8||Y(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||mt(this.git0),this.gitInv1=this.gitInv1||mt(this.git1),this.gitInv2=this.gitInv2||mt(this.git2),this.gitInv3=this.gitInv3||mt(this.git3),this.gitInv4=this.gitInv4||mt(this.git4),this.gitInv5=this.gitInv5||mt(this.git5),this.gitInv6=this.gitInv6||mt(this.git6),this.gitInv7=this.gitInv7||mt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||kd}calculate(t){if(typeof t!="object"){this.updateColors();return}const i=Object.keys(t);i.forEach(n=>{this[n]=t[n]}),this.updateColors(),i.forEach(n=>{this[n]=t[n]})}},C(Wo,"Theme"),Wo),m4=C(e=>{const t=new g4;return t.calculate(e),t},"getThemeVariables"),Zr={base:{getThemeVariables:l4},dark:{getThemeVariables:h4},default:{getThemeVariables:f4},forest:{getThemeVariables:p4},neutral:{getThemeVariables:m4}},hr={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},IC={...hr,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Zr.default.getThemeVariables(),sequence:{...hr.sequence,messageFont:C(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:C(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:C(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...hr.gantt,tickInterval:void 0,useWidth:void 0},c4:{...hr.c4,useWidth:void 0,personFont:C(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...hr.flowchart,inheritDir:!1},external_personFont:C(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:C(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:C(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:C(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:C(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:C(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:C(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:C(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:C(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:C(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:C(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:C(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:C(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:C(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:C(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:C(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:C(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:C(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:C(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:C(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:C(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...hr.pie,useWidth:984},xyChart:{...hr.xyChart,useWidth:void 0},requirement:{...hr.requirement,useWidth:void 0},packet:{...hr.packet},radar:{...hr.radar}},PC=C((e,t="")=>Object.keys(e).reduce((i,n)=>Array.isArray(e[n])?i:typeof e[n]=="object"&&e[n]!==null?[...i,t+n,...PC(e[n],"")]:[...i,t+n],[]),"keyify"),y4=new Set(PC(IC,"")),qC=IC,$f=C(e=>{if(ct.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>$f(t));return}for(const t of Object.keys(e)){if(ct.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!y4.has(t)||e[t]==null){ct.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){ct.debug("sanitizing object",t),$f(e[t]);continue}const i=["themeCSS","fontFamily","altFontFamily"];for(const n of i)t.includes(n)&&(ct.debug("sanitizing css option",t),e[t]=x4(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const i=e.themeVariables[t];i!=null&&i.match&&!i.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}ct.debug("After sanitization",e)}},"sanitizeDirective"),x4=C(e=>{let t=0,i=0;for(const n of e){if(t<i)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&i++}return t!==i?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),Jo=Object.freeze(qC),Zi=vi({},Jo),UC,tl=[],Qc=vi({},Jo),Td=C((e,t)=>{let i=vi({},e),n={};for(const r of t)GC(r),n=vi(n,r);if(i=vi(i,n),n.theme&&n.theme in Zr){const r=vi({},UC),o=vi(r.themeVariables||{},n.themeVariables);i.theme&&i.theme in Zr&&(i.themeVariables=Zr[i.theme].getThemeVariables(o))}return Qc=i,VC(Qc),Qc},"updateCurrentConfig"),b4=C(e=>(Zi=vi({},Jo),Zi=vi(Zi,e),e.theme&&Zr[e.theme]&&(Zi.themeVariables=Zr[e.theme].getThemeVariables(e.themeVariables)),Td(Zi,tl),Zi),"setSiteConfig"),v4=C(e=>{UC=vi({},e)},"saveConfigFromInitialize"),_4=C(e=>(Zi=vi(Zi,e),Td(Zi,tl),Zi),"updateSiteConfig"),WC=C(()=>vi({},Zi),"getSiteConfig"),YC=C(e=>(VC(e),vi(Qc,e),tn()),"setConfig"),tn=C(()=>vi({},Qc),"getConfig"),GC=C(e=>{e&&(["secure",...Zi.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(ct.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&GC(e[t])}))},"sanitize"),S4=C(e=>{var t;$f(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),tl.push(e),Td(Zi,tl)},"addDirective"),jf=C((e=Zi)=>{tl=[],Td(e,tl)},"reset"),C4={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},m2={},w4=C(e=>{m2[e]||(ct.warn(C4[e]),m2[e]=!0)},"issueWarning"),VC=C(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&w4("LAZY_LOAD_DEPRECATED")},"checkConfig"),vh=/<br\s*\/?>/gi,k4=C(e=>e?QC(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),T4=(()=>{let e=!1;return()=>{e||(XC(),e=!0)}})();function XC(){const e="data-temp-href-target";Qo.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Qo.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}C(XC,"setupDompurifyHooks");var ZC=C(e=>(T4(),Qo.sanitize(e)),"removeScript"),y2=C((e,t)=>{var i;if(((i=t.flowchart)==null?void 0:i.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=ZC(e):n!=="loose"&&(e=QC(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=B4(e))}return e},"sanitizeMore"),Bs=C((e,t)=>e&&(t.dompurifyConfig?e=Qo.sanitize(y2(e,t),t.dompurifyConfig).toString():e=Qo.sanitize(y2(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),A4=C((e,t)=>typeof e=="string"?Bs(e,t):e.flat().map(i=>Bs(i,t)),"sanitizeTextOrArray"),M4=C(e=>vh.test(e),"hasBreaks"),E4=C(e=>e.split(vh),"splitBreaks"),B4=C(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),QC=C(e=>e.replace(vh,"#br#"),"breakToPlaceholder"),KC=C(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),ni=C(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),L4=C(function(...e){const t=e.filter(i=>!isNaN(i));return Math.max(...t)},"getMax"),D4=C(function(...e){const t=e.filter(i=>!isNaN(i));return Math.min(...t)},"getMin"),x2=C(function(e){const t=e.split(/(,)/),i=[];for(let n=0;n<t.length;n++){let r=t[n];if(r===","&&n>0&&n+1<t.length){const o=t[n-1],l=t[n+1];O4(o,l)&&(r=o+","+l,n++,i.pop())}i.push(R4(r))}return i.join("")},"parseGenericTypes"),Xm=C((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),O4=C((e,t)=>{const i=Xm(e,"~"),n=Xm(t,"~");return i===1&&n===1},"shouldCombineSets"),R4=C(e=>{const t=Xm(e,"~");let i=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),i=!0);const n=[...e];let r=n.indexOf("~"),o=n.lastIndexOf("~");for(;r!==-1&&o!==-1&&r!==o;)n[r]="<",n[o]=">",r=n.indexOf("~"),o=n.lastIndexOf("~");return i&&n.unshift("~"),n.join("")},"processSet"),b2=C(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Zm=/\$\$(.*)\$\$/g,el=C(e=>{var t;return(((t=e.match(Zm))==null?void 0:t.length)??0)>0},"hasKatex"),SU=C(async(e,t)=>{e=await sy(e,t);const i=document.createElement("div");i.innerHTML=e,i.id="katex-temp",i.style.visibility="hidden",i.style.position="absolute",i.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",i);const r={width:i.clientWidth,height:i.clientHeight};return i.remove(),r},"calculateMathMLDimensions"),sy=C(async(e,t)=>{if(!el(e))return e;if(!(b2()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Zm,"MathML is unsupported in this environment.");{const{default:i}=await _e(async()=>{const{default:r}=await import("./katex-ChWnQ-fc.js");return{default:r}},[]),n=t.forceLegacyMathML||!b2()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(vh).map(r=>el(r)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${r}</div>`:`<div>${r}</div>`).join("").replace(Zm,(r,o)=>i.renderToString(o,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatex"),hl={getRows:k4,sanitizeText:Bs,sanitizeTextOrArray:A4,hasBreaks:M4,splitBreaks:E4,lineBreakRegex:vh,removeScript:ZC,getUrl:KC,evaluate:ni,getMax:L4,getMin:D4},z4=C(function(e,t){for(let i of t)e.attr(i[0],i[1])},"d3Attrs"),N4=C(function(e,t,i){let n=new Map;return i?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),JC=C(function(e,t,i,n){const r=N4(t,i,n);z4(e,r)},"configureSvgSize"),F4=C(function(e,t,i,n){const r=t.node().getBBox(),o=r.width,l=r.height;ct.info(`SVG bounds: ${o}x${l}`,r);let c=0,u=0;ct.info(`Graph bounds: ${c}x${u}`,e),c=o+i*2,u=l+i*2,ct.info(`Calculated bounds: ${c}x${u}`),JC(t,u,c,n);const f=`${r.x-i} ${r.y-i} ${r.width+2*i} ${r.height+2*i}`;t.attr("viewBox",f)},"setupGraphViewbox"),mf={},$4=C((e,t,i)=>{let n="";return e in mf&&mf[e]?n=mf[e](i):ct.warn(`No theme found for ${e}`),` & {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
    fill: ${i.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${i.errorBkgColor};
  }
  & .error-text {
    fill: ${i.errorTextColor};
    stroke: ${i.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${i.lineColor};
    stroke: ${i.lineColor};
  }
  & .marker.cross {
    stroke: ${i.lineColor};
  }

  & svg {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),j4=C((e,t)=>{t!==void 0&&(mf[e]=t)},"addStylesForDiagram"),H4=$4,tw={};r4(tw,{clear:()=>I4,getAccDescription:()=>W4,getAccTitle:()=>q4,getDiagramTitle:()=>G4,setAccDescription:()=>U4,setAccTitle:()=>P4,setDiagramTitle:()=>Y4});var oy="",ly="",cy="",hy=C(e=>Bs(e,tn()),"sanitizeText"),I4=C(()=>{oy="",cy="",ly=""},"clear"),P4=C(e=>{oy=hy(e).replace(/^\s+/g,"")},"setAccTitle"),q4=C(()=>oy,"getAccTitle"),U4=C(e=>{cy=hy(e).replace(/\n\s+/g,`
`)},"setAccDescription"),W4=C(()=>cy,"getAccDescription"),Y4=C(e=>{ly=hy(e)},"setDiagramTitle"),G4=C(()=>ly,"getDiagramTitle"),v2=ct,V4=ry,he=tn,CU=YC,wU=Jo,Ad=C(e=>Bs(e,he()),"sanitizeText"),X4=F4,Z4=C(()=>tw,"getCommonDb"),Hf={},If=C((e,t,i)=>{var n;Hf[e]&&v2.warn(`Diagram with id ${e} already registered. Overwriting.`),Hf[e]=t,i&&HC(e,i),j4(e,t.styles),(n=t.injectUtils)==null||n.call(t,v2,V4,he,Ad,X4,Z4(),()=>{})},"registerDiagram"),Qm=C(e=>{if(e in Hf)return Hf[e];throw new Q4(e)},"getDiagram"),Yo,Q4=(Yo=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},C(Yo,"DiagramNotFoundError"),Yo);function uy(e){return typeof e>"u"||e===null}C(uy,"isNothing");function ew(e){return typeof e=="object"&&e!==null}C(ew,"isObject");function iw(e){return Array.isArray(e)?e:uy(e)?[]:[e]}C(iw,"toArray");function nw(e,t){var i,n,r,o;if(t)for(o=Object.keys(t),i=0,n=o.length;i<n;i+=1)r=o[i],e[r]=t[r];return e}C(nw,"extend");function rw(e,t){var i="",n;for(n=0;n<t;n+=1)i+=e;return i}C(rw,"repeat");function aw(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}C(aw,"isNegativeZero");var K4=uy,J4=ew,t6=iw,e6=rw,i6=aw,n6=nw,ii={isNothing:K4,isObject:J4,toArray:t6,repeat:e6,isNegativeZero:i6,extend:n6};function fy(e,t){var i="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(i+='in "'+e.mark.name+'" '),i+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(i+=`

`+e.mark.snippet),n+" "+i):n}C(fy,"formatError");function il(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=fy(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}C(il,"YAMLException$1");il.prototype=Object.create(Error.prototype);il.prototype.constructor=il;il.prototype.toString=C(function(t){return this.name+": "+fy(this,t)},"toString");var Ki=il;function yf(e,t,i,n,r){var o="",l="",c=Math.floor(r/2)-1;return n-t>c&&(o=" ... ",t=n-c+o.length),i-n>c&&(l=" ...",i=n+c-l.length),{str:o+e.slice(t,i).replace(/\t/g,"→")+l,pos:n-t+o.length}}C(yf,"getLine");function xf(e,t){return ii.repeat(" ",t-e.length)+e}C(xf,"padStart");function sw(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var i=/\r?\n|\r|\0/g,n=[0],r=[],o,l=-1;o=i.exec(e.buffer);)r.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&l<0&&(l=n.length-2);l<0&&(l=n.length-1);var c="",u,f,p=Math.min(e.line+t.linesAfter,r.length).toString().length,g=t.maxLength-(t.indent+p+3);for(u=1;u<=t.linesBefore&&!(l-u<0);u++)f=yf(e.buffer,n[l-u],r[l-u],e.position-(n[l]-n[l-u]),g),c=ii.repeat(" ",t.indent)+xf((e.line-u+1).toString(),p)+" | "+f.str+`
`+c;for(f=yf(e.buffer,n[l],r[l],e.position,g),c+=ii.repeat(" ",t.indent)+xf((e.line+1).toString(),p)+" | "+f.str+`
`,c+=ii.repeat("-",t.indent+p+3+f.pos)+`^
`,u=1;u<=t.linesAfter&&!(l+u>=r.length);u++)f=yf(e.buffer,n[l+u],r[l+u],e.position-(n[l]-n[l+u]),g),c+=ii.repeat(" ",t.indent)+xf((e.line+u+1).toString(),p)+" | "+f.str+`
`;return c.replace(/\n$/,"")}C(sw,"makeSnippet");var r6=sw,a6=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],s6=["scalar","sequence","mapping"];function ow(e){var t={};return e!==null&&Object.keys(e).forEach(function(i){e[i].forEach(function(n){t[String(n)]=i})}),t}C(ow,"compileStyleAliases");function lw(e,t){if(t=t||{},Object.keys(t).forEach(function(i){if(a6.indexOf(i)===-1)throw new Ki('Unknown option "'+i+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(i){return i},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=ow(t.styleAliases||null),s6.indexOf(this.kind)===-1)throw new Ki('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}C(lw,"Type$1");var Bi=lw;function Km(e,t){var i=[];return e[t].forEach(function(n){var r=i.length;i.forEach(function(o,l){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(r=l)}),i[r]=n}),i}C(Km,"compileList");function cw(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,i;function n(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(C(n,"collectType"),t=0,i=arguments.length;t<i;t+=1)arguments[t].forEach(n);return e}C(cw,"compileMap");function Pf(e){return this.extend(e)}C(Pf,"Schema$1");Pf.prototype.extend=C(function(t){var i=[],n=[];if(t instanceof Bi)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(i=i.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Ki("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(o){if(!(o instanceof Bi))throw new Ki("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Ki("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Ki("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Bi))throw new Ki("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Pf.prototype);return r.implicit=(this.implicit||[]).concat(i),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=Km(r,"implicit"),r.compiledExplicit=Km(r,"explicit"),r.compiledTypeMap=cw(r.compiledImplicit,r.compiledExplicit),r},"extend");var o6=Pf,l6=new Bi("tag:yaml.org,2002:str",{kind:"scalar",construct:C(function(e){return e!==null?e:""},"construct")}),c6=new Bi("tag:yaml.org,2002:seq",{kind:"sequence",construct:C(function(e){return e!==null?e:[]},"construct")}),h6=new Bi("tag:yaml.org,2002:map",{kind:"mapping",construct:C(function(e){return e!==null?e:{}},"construct")}),u6=new o6({explicit:[l6,c6,h6]});function hw(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}C(hw,"resolveYamlNull");function uw(){return null}C(uw,"constructYamlNull");function fw(e){return e===null}C(fw,"isNull");var f6=new Bi("tag:yaml.org,2002:null",{kind:"scalar",resolve:hw,construct:uw,predicate:fw,represent:{canonical:C(function(){return"~"},"canonical"),lowercase:C(function(){return"null"},"lowercase"),uppercase:C(function(){return"NULL"},"uppercase"),camelcase:C(function(){return"Null"},"camelcase"),empty:C(function(){return""},"empty")},defaultStyle:"lowercase"});function dw(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}C(dw,"resolveYamlBoolean");function pw(e){return e==="true"||e==="True"||e==="TRUE"}C(pw,"constructYamlBoolean");function gw(e){return Object.prototype.toString.call(e)==="[object Boolean]"}C(gw,"isBoolean");var d6=new Bi("tag:yaml.org,2002:bool",{kind:"scalar",resolve:dw,construct:pw,predicate:gw,represent:{lowercase:C(function(e){return e?"true":"false"},"lowercase"),uppercase:C(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:C(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function mw(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}C(mw,"isHexCode");function yw(e){return 48<=e&&e<=55}C(yw,"isOctCode");function xw(e){return 48<=e&&e<=57}C(xw,"isDecCode");function bw(e){if(e===null)return!1;var t=e.length,i=0,n=!1,r;if(!t)return!1;if(r=e[i],(r==="-"||r==="+")&&(r=e[++i]),r==="0"){if(i+1===t)return!0;if(r=e[++i],r==="b"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(r!=="0"&&r!=="1")return!1;n=!0}return n&&r!=="_"}if(r==="x"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(!mw(e.charCodeAt(i)))return!1;n=!0}return n&&r!=="_"}if(r==="o"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(!yw(e.charCodeAt(i)))return!1;n=!0}return n&&r!=="_"}}if(r==="_")return!1;for(;i<t;i++)if(r=e[i],r!=="_"){if(!xw(e.charCodeAt(i)))return!1;n=!0}return!(!n||r==="_")}C(bw,"resolveYamlInteger");function vw(e){var t=e,i=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(i=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return i*parseInt(t.slice(2),2);if(t[1]==="x")return i*parseInt(t.slice(2),16);if(t[1]==="o")return i*parseInt(t.slice(2),8)}return i*parseInt(t,10)}C(vw,"constructYamlInteger");function _w(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ii.isNegativeZero(e)}C(_w,"isInteger");var p6=new Bi("tag:yaml.org,2002:int",{kind:"scalar",resolve:bw,construct:vw,predicate:_w,represent:{binary:C(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:C(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:C(function(e){return e.toString(10)},"decimal"),hexadecimal:C(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),g6=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Sw(e){return!(e===null||!g6.test(e)||e[e.length-1]==="_")}C(Sw,"resolveYamlFloat");function Cw(e){var t,i;return t=e.replace(/_/g,"").toLowerCase(),i=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:i*parseFloat(t,10)}C(Cw,"constructYamlFloat");var m6=/^[-+]?[0-9]+e/;function ww(e,t){var i;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ii.isNegativeZero(e))return"-0.0";return i=e.toString(10),m6.test(i)?i.replace("e",".e"):i}C(ww,"representYamlFloat");function kw(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ii.isNegativeZero(e))}C(kw,"isFloat");var y6=new Bi("tag:yaml.org,2002:float",{kind:"scalar",resolve:Sw,construct:Cw,predicate:kw,represent:ww,defaultStyle:"lowercase"}),Tw=u6.extend({implicit:[f6,d6,p6,y6]}),x6=Tw,Aw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Mw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ew(e){return e===null?!1:Aw.exec(e)!==null||Mw.exec(e)!==null}C(Ew,"resolveYamlTimestamp");function Bw(e){var t,i,n,r,o,l,c,u=0,f=null,p,g,y;if(t=Aw.exec(e),t===null&&(t=Mw.exec(e)),t===null)throw new Error("Date resolve error");if(i=+t[1],n=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(i,n,r));if(o=+t[4],l=+t[5],c=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(p=+t[10],g=+(t[11]||0),f=(p*60+g)*6e4,t[9]==="-"&&(f=-f)),y=new Date(Date.UTC(i,n,r,o,l,c,u)),f&&y.setTime(y.getTime()-f),y}C(Bw,"constructYamlTimestamp");function Lw(e){return e.toISOString()}C(Lw,"representYamlTimestamp");var b6=new Bi("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ew,construct:Bw,instanceOf:Date,represent:Lw});function Dw(e){return e==="<<"||e===null}C(Dw,"resolveYamlMerge");var v6=new Bi("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Dw}),dy=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Ow(e){if(e===null)return!1;var t,i,n=0,r=e.length,o=dy;for(i=0;i<r;i++)if(t=o.indexOf(e.charAt(i)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}C(Ow,"resolveYamlBinary");function Rw(e){var t,i,n=e.replace(/[\r\n=]/g,""),r=n.length,o=dy,l=0,c=[];for(t=0;t<r;t++)t%4===0&&t&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|o.indexOf(n.charAt(t));return i=r%4*6,i===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):i===18?(c.push(l>>10&255),c.push(l>>2&255)):i===12&&c.push(l>>4&255),new Uint8Array(c)}C(Rw,"constructYamlBinary");function zw(e){var t="",i=0,n,r,o=e.length,l=dy;for(n=0;n<o;n++)n%3===0&&n&&(t+=l[i>>18&63],t+=l[i>>12&63],t+=l[i>>6&63],t+=l[i&63]),i=(i<<8)+e[n];return r=o%3,r===0?(t+=l[i>>18&63],t+=l[i>>12&63],t+=l[i>>6&63],t+=l[i&63]):r===2?(t+=l[i>>10&63],t+=l[i>>4&63],t+=l[i<<2&63],t+=l[64]):r===1&&(t+=l[i>>2&63],t+=l[i<<4&63],t+=l[64],t+=l[64]),t}C(zw,"representYamlBinary");function Nw(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}C(Nw,"isBinary");var _6=new Bi("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Ow,construct:Rw,predicate:Nw,represent:zw}),S6=Object.prototype.hasOwnProperty,C6=Object.prototype.toString;function Fw(e){if(e===null)return!0;var t=[],i,n,r,o,l,c=e;for(i=0,n=c.length;i<n;i+=1){if(r=c[i],l=!1,C6.call(r)!=="[object Object]")return!1;for(o in r)if(S6.call(r,o))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}C(Fw,"resolveYamlOmap");function $w(e){return e!==null?e:[]}C($w,"constructYamlOmap");var w6=new Bi("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Fw,construct:$w}),k6=Object.prototype.toString;function jw(e){if(e===null)return!0;var t,i,n,r,o,l=e;for(o=new Array(l.length),t=0,i=l.length;t<i;t+=1){if(n=l[t],k6.call(n)!=="[object Object]"||(r=Object.keys(n),r.length!==1))return!1;o[t]=[r[0],n[r[0]]]}return!0}C(jw,"resolveYamlPairs");function Hw(e){if(e===null)return[];var t,i,n,r,o,l=e;for(o=new Array(l.length),t=0,i=l.length;t<i;t+=1)n=l[t],r=Object.keys(n),o[t]=[r[0],n[r[0]]];return o}C(Hw,"constructYamlPairs");var T6=new Bi("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:jw,construct:Hw}),A6=Object.prototype.hasOwnProperty;function Iw(e){if(e===null)return!0;var t,i=e;for(t in i)if(A6.call(i,t)&&i[t]!==null)return!1;return!0}C(Iw,"resolveYamlSet");function Pw(e){return e!==null?e:{}}C(Pw,"constructYamlSet");var M6=new Bi("tag:yaml.org,2002:set",{kind:"mapping",resolve:Iw,construct:Pw}),qw=x6.extend({implicit:[b6,v6],explicit:[_6,w6,T6,M6]}),$a=Object.prototype.hasOwnProperty,qf=1,Uw=2,Ww=3,Uf=4,ym=1,E6=2,_2=3,B6=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,L6=/[\x85\u2028\u2029]/,D6=/[,\[\]\{\}]/,Yw=/^(?:!|!!|![a-z\-]+!)$/i,Gw=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Jm(e){return Object.prototype.toString.call(e)}C(Jm,"_class");function Zn(e){return e===10||e===13}C(Zn,"is_EOL");function Na(e){return e===9||e===32}C(Na,"is_WHITE_SPACE");function ji(e){return e===9||e===32||e===10||e===13}C(ji,"is_WS_OR_EOL");function Ss(e){return e===44||e===91||e===93||e===123||e===125}C(Ss,"is_FLOW_INDICATOR");function Vw(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}C(Vw,"fromHexCode");function Xw(e){return e===120?2:e===117?4:e===85?8:0}C(Xw,"escapedHexLen");function Zw(e){return 48<=e&&e<=57?e-48:-1}C(Zw,"fromDecimalCode");function t0(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}C(t0,"simpleEscapeSequence");function Qw(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}C(Qw,"charFromCodepoint");var Kw=new Array(256),Jw=new Array(256);for(ds=0;ds<256;ds++)Kw[ds]=t0(ds)?1:0,Jw[ds]=t0(ds);var ds;function tk(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||qw,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}C(tk,"State$1");function py(e,t){var i={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return i.snippet=r6(i),new Ki(t,i)}C(py,"generateError");function Dt(e,t){throw py(e,t)}C(Dt,"throwError");function ah(e,t){e.onWarning&&e.onWarning.call(null,py(e,t))}C(ah,"throwWarning");var S2={YAML:C(function(t,i,n){var r,o,l;t.version!==null&&Dt(t,"duplication of %YAML directive"),n.length!==1&&Dt(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),r===null&&Dt(t,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),l=parseInt(r[2],10),o!==1&&Dt(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&ah(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:C(function(t,i,n){var r,o;n.length!==2&&Dt(t,"TAG directive accepts exactly two arguments"),r=n[0],o=n[1],Yw.test(r)||Dt(t,"ill-formed tag handle (first argument) of the TAG directive"),$a.call(t.tagMap,r)&&Dt(t,'there is a previously declared suffix for "'+r+'" tag handle'),Gw.test(o)||Dt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Dt(t,"tag prefix is malformed: "+o)}t.tagMap[r]=o},"handleTagDirective")};function Qr(e,t,i,n){var r,o,l,c;if(t<i){if(c=e.input.slice(t,i),n)for(r=0,o=c.length;r<o;r+=1)l=c.charCodeAt(r),l===9||32<=l&&l<=1114111||Dt(e,"expected valid JSON character");else B6.test(c)&&Dt(e,"the stream contains non-printable characters");e.result+=c}}C(Qr,"captureSegment");function e0(e,t,i,n){var r,o,l,c;for(ii.isObject(i)||Dt(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(i),l=0,c=r.length;l<c;l+=1)o=r[l],$a.call(t,o)||(t[o]=i[o],n[o]=!0)}C(e0,"mergeMappings");function Cs(e,t,i,n,r,o,l,c,u){var f,p;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),f=0,p=r.length;f<p;f+=1)Array.isArray(r[f])&&Dt(e,"nested arrays are not supported inside keys"),typeof r=="object"&&Jm(r[f])==="[object Object]"&&(r[f]="[object Object]");if(typeof r=="object"&&Jm(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(f=0,p=o.length;f<p;f+=1)e0(e,t,o[f],i);else e0(e,t,o,i);else!e.json&&!$a.call(i,r)&&$a.call(t,r)&&(e.line=l||e.line,e.lineStart=c||e.lineStart,e.position=u||e.position,Dt(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[r]=o,delete i[r];return t}C(Cs,"storeMappingPair");function Md(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Dt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}C(Md,"readLineBreak");function We(e,t,i){for(var n=0,r=e.input.charCodeAt(e.position);r!==0;){for(;Na(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(Zn(r))for(Md(e),r=e.input.charCodeAt(e.position),n++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return i!==-1&&n!==0&&e.lineIndent<i&&ah(e,"deficient indentation"),n}C(We,"skipSeparationSpace");function _h(e){var t=e.position,i;return i=e.input.charCodeAt(t),!!((i===45||i===46)&&i===e.input.charCodeAt(t+1)&&i===e.input.charCodeAt(t+2)&&(t+=3,i=e.input.charCodeAt(t),i===0||ji(i)))}C(_h,"testDocumentSeparator");function Ed(e,t){t===1?e.result+=" ":t>1&&(e.result+=ii.repeat(`
`,t-1))}C(Ed,"writeFoldedLines");function ek(e,t,i){var n,r,o,l,c,u,f,p,g=e.kind,y=e.result,x;if(x=e.input.charCodeAt(e.position),ji(x)||Ss(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(r=e.input.charCodeAt(e.position+1),ji(r)||i&&Ss(r)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,c=!1;x!==0;){if(x===58){if(r=e.input.charCodeAt(e.position+1),ji(r)||i&&Ss(r))break}else if(x===35){if(n=e.input.charCodeAt(e.position-1),ji(n))break}else{if(e.position===e.lineStart&&_h(e)||i&&Ss(x))break;if(Zn(x))if(u=e.line,f=e.lineStart,p=e.lineIndent,We(e,!1,-1),e.lineIndent>=t){c=!0,x=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=u,e.lineStart=f,e.lineIndent=p;break}}c&&(Qr(e,o,l,!1),Ed(e,e.line-u),o=l=e.position,c=!1),Na(x)||(l=e.position+1),x=e.input.charCodeAt(++e.position)}return Qr(e,o,l,!1),e.result?!0:(e.kind=g,e.result=y,!1)}C(ek,"readPlainScalar");function ik(e,t){var i,n,r;if(i=e.input.charCodeAt(e.position),i!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(i=e.input.charCodeAt(e.position))!==0;)if(i===39)if(Qr(e,n,e.position,!0),i=e.input.charCodeAt(++e.position),i===39)n=e.position,e.position++,r=e.position;else return!0;else Zn(i)?(Qr(e,n,r,!0),Ed(e,We(e,!1,t)),n=r=e.position):e.position===e.lineStart&&_h(e)?Dt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);Dt(e,"unexpected end of the stream within a single quoted scalar")}C(ik,"readSingleQuotedScalar");function nk(e,t){var i,n,r,o,l,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return Qr(e,i,e.position,!0),e.position++,!0;if(c===92){if(Qr(e,i,e.position,!0),c=e.input.charCodeAt(++e.position),Zn(c))We(e,!1,t);else if(c<256&&Kw[c])e.result+=Jw[c],e.position++;else if((l=Xw(c))>0){for(r=l,o=0;r>0;r--)c=e.input.charCodeAt(++e.position),(l=Vw(c))>=0?o=(o<<4)+l:Dt(e,"expected hexadecimal character");e.result+=Qw(o),e.position++}else Dt(e,"unknown escape sequence");i=n=e.position}else Zn(c)?(Qr(e,i,n,!0),Ed(e,We(e,!1,t)),i=n=e.position):e.position===e.lineStart&&_h(e)?Dt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Dt(e,"unexpected end of the stream within a double quoted scalar")}C(nk,"readDoubleQuotedScalar");function rk(e,t){var i=!0,n,r,o,l=e.tag,c,u=e.anchor,f,p,g,y,x,v=Object.create(null),_,S,w,T;if(T=e.input.charCodeAt(e.position),T===91)p=93,x=!1,c=[];else if(T===123)p=125,x=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),T=e.input.charCodeAt(++e.position);T!==0;){if(We(e,!0,t),T=e.input.charCodeAt(e.position),T===p)return e.position++,e.tag=l,e.anchor=u,e.kind=x?"mapping":"sequence",e.result=c,!0;i?T===44&&Dt(e,"expected the node content, but found ','"):Dt(e,"missed comma between flow collection entries"),S=_=w=null,g=y=!1,T===63&&(f=e.input.charCodeAt(e.position+1),ji(f)&&(g=y=!0,e.position++,We(e,!0,t))),n=e.line,r=e.lineStart,o=e.position,Ls(e,t,qf,!1,!0),S=e.tag,_=e.result,We(e,!0,t),T=e.input.charCodeAt(e.position),(y||e.line===n)&&T===58&&(g=!0,T=e.input.charCodeAt(++e.position),We(e,!0,t),Ls(e,t,qf,!1,!0),w=e.result),x?Cs(e,c,v,S,_,w,n,r,o):g?c.push(Cs(e,null,v,S,_,w,n,r,o)):c.push(_),We(e,!0,t),T=e.input.charCodeAt(e.position),T===44?(i=!0,T=e.input.charCodeAt(++e.position)):i=!1}Dt(e,"unexpected end of the stream within a flow collection")}C(rk,"readFlowCollection");function ak(e,t){var i,n,r=ym,o=!1,l=!1,c=t,u=0,f=!1,p,g;if(g=e.input.charCodeAt(e.position),g===124)n=!1;else if(g===62)n=!0;else return!1;for(e.kind="scalar",e.result="";g!==0;)if(g=e.input.charCodeAt(++e.position),g===43||g===45)ym===r?r=g===43?_2:E6:Dt(e,"repeat of a chomping mode identifier");else if((p=Zw(g))>=0)p===0?Dt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Dt(e,"repeat of an indentation width identifier"):(c=t+p-1,l=!0);else break;if(Na(g)){do g=e.input.charCodeAt(++e.position);while(Na(g));if(g===35)do g=e.input.charCodeAt(++e.position);while(!Zn(g)&&g!==0)}for(;g!==0;){for(Md(e),e.lineIndent=0,g=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&g===32;)e.lineIndent++,g=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),Zn(g)){u++;continue}if(e.lineIndent<c){r===_2?e.result+=ii.repeat(`
`,o?1+u:u):r===ym&&o&&(e.result+=`
`);break}for(n?Na(g)?(f=!0,e.result+=ii.repeat(`
`,o?1+u:u)):f?(f=!1,e.result+=ii.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=ii.repeat(`
`,u):e.result+=ii.repeat(`
`,o?1+u:u),o=!0,l=!0,u=0,i=e.position;!Zn(g)&&g!==0;)g=e.input.charCodeAt(++e.position);Qr(e,i,e.position,!1)}return!0}C(ak,"readBlockScalar");function i0(e,t){var i,n=e.tag,r=e.anchor,o=[],l,c=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Dt(e,"tab characters must not be used in indentation")),!(u!==45||(l=e.input.charCodeAt(e.position+1),!ji(l))));){if(c=!0,e.position++,We(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(i=e.line,Ls(e,t,Ww,!1,!0),o.push(e.result),We(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>t)&&u!==0)Dt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return c?(e.tag=n,e.anchor=r,e.kind="sequence",e.result=o,!0):!1}C(i0,"readBlockSequence");function sk(e,t,i){var n,r,o,l,c,u,f=e.tag,p=e.anchor,g={},y=Object.create(null),x=null,v=null,_=null,S=!1,w=!1,T;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=g),T=e.input.charCodeAt(e.position);T!==0;){if(!S&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Dt(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(T===63||T===58)&&ji(n))T===63?(S&&(Cs(e,g,y,x,v,null,l,c,u),x=v=_=null),w=!0,S=!0,r=!0):S?(S=!1,r=!0):Dt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,T=n;else{if(l=e.line,c=e.lineStart,u=e.position,!Ls(e,i,Uw,!1,!0))break;if(e.line===o){for(T=e.input.charCodeAt(e.position);Na(T);)T=e.input.charCodeAt(++e.position);if(T===58)T=e.input.charCodeAt(++e.position),ji(T)||Dt(e,"a whitespace character is expected after the key-value separator within a block mapping"),S&&(Cs(e,g,y,x,v,null,l,c,u),x=v=_=null),w=!0,S=!1,r=!1,x=e.tag,v=e.result;else if(w)Dt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=f,e.anchor=p,!0}else if(w)Dt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=f,e.anchor=p,!0}if((e.line===o||e.lineIndent>t)&&(S&&(l=e.line,c=e.lineStart,u=e.position),Ls(e,t,Uf,!0,r)&&(S?v=e.result:_=e.result),S||(Cs(e,g,y,x,v,_,l,c,u),x=v=_=null),We(e,!0,-1),T=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&T!==0)Dt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return S&&Cs(e,g,y,x,v,null,l,c,u),w&&(e.tag=f,e.anchor=p,e.kind="mapping",e.result=g),w}C(sk,"readBlockMapping");function ok(e){var t,i=!1,n=!1,r,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&Dt(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(i=!0,l=e.input.charCodeAt(++e.position)):l===33?(n=!0,r="!!",l=e.input.charCodeAt(++e.position)):r="!",t=e.position,i){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):Dt(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!ji(l);)l===33&&(n?Dt(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Yw.test(r)||Dt(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),D6.test(o)&&Dt(e,"tag suffix cannot contain flow indicator characters")}o&&!Gw.test(o)&&Dt(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Dt(e,"tag name is malformed: "+o)}return i?e.tag=o:$a.call(e.tagMap,r)?e.tag=e.tagMap[r]+o:r==="!"?e.tag="!"+o:r==="!!"?e.tag="tag:yaml.org,2002:"+o:Dt(e,'undeclared tag handle "'+r+'"'),!0}C(ok,"readTagProperty");function lk(e){var t,i;if(i=e.input.charCodeAt(e.position),i!==38)return!1;for(e.anchor!==null&&Dt(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!ji(i)&&!Ss(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Dt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}C(lk,"readAnchorProperty");function ck(e){var t,i,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ji(n)&&!Ss(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Dt(e,"name of an alias node must contain at least one character"),i=e.input.slice(t,e.position),$a.call(e.anchorMap,i)||Dt(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],We(e,!0,-1),!0}C(ck,"readAlias");function Ls(e,t,i,n,r){var o,l,c,u=1,f=!1,p=!1,g,y,x,v,_,S;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=c=Uf===i||Ww===i,n&&We(e,!0,-1)&&(f=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;ok(e)||lk(e);)We(e,!0,-1)?(f=!0,c=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):c=!1;if(c&&(c=f||r),(u===1||Uf===i)&&(qf===i||Uw===i?_=t:_=t+1,S=e.position-e.lineStart,u===1?c&&(i0(e,S)||sk(e,S,_))||rk(e,_)?p=!0:(l&&ak(e,_)||ik(e,_)||nk(e,_)?p=!0:ck(e)?(p=!0,(e.tag!==null||e.anchor!==null)&&Dt(e,"alias node should not have any properties")):ek(e,_,qf===i)&&(p=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(p=c&&i0(e,S))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Dt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),g=0,y=e.implicitTypes.length;g<y;g+=1)if(v=e.implicitTypes[g],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if($a.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,x=e.typeMap.multi[e.kind||"fallback"],g=0,y=x.length;g<y;g+=1)if(e.tag.slice(0,x[g].tag.length)===x[g].tag){v=x[g];break}v||Dt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&Dt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Dt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||p}C(Ls,"composeNode");function hk(e){var t=e.position,i,n,r,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(We(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),i=e.position;l!==0&&!ji(l);)l=e.input.charCodeAt(++e.position);for(n=e.input.slice(i,e.position),r=[],n.length<1&&Dt(e,"directive name must not be less than one character in length");l!==0;){for(;Na(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!Zn(l));break}if(Zn(l))break;for(i=e.position;l!==0&&!ji(l);)l=e.input.charCodeAt(++e.position);r.push(e.input.slice(i,e.position))}l!==0&&Md(e),$a.call(S2,n)?S2[n](e,n,r):ah(e,'unknown document directive "'+n+'"')}if(We(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,We(e,!0,-1)):o&&Dt(e,"directives end mark is expected"),Ls(e,e.lineIndent-1,Uf,!1,!0),We(e,!0,-1),e.checkLineBreaks&&L6.test(e.input.slice(t,e.position))&&ah(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&_h(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,We(e,!0,-1));return}if(e.position<e.length-1)Dt(e,"end of the stream or a document separator is expected");else return}C(hk,"readDocument");function gy(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var i=new tk(e,t),n=e.indexOf("\0");for(n!==-1&&(i.position=n,Dt(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)hk(i);return i.documents}C(gy,"loadDocuments");function O6(e,t,i){t!==null&&typeof t=="object"&&typeof i>"u"&&(i=t,t=null);var n=gy(e,i);if(typeof t!="function")return n;for(var r=0,o=n.length;r<o;r+=1)t(n[r])}C(O6,"loadAll$1");function uk(e,t){var i=gy(e,t);if(i.length!==0){if(i.length===1)return i[0];throw new Ki("expected a single document in the stream, but found more")}}C(uk,"load$1");var R6=uk,z6={load:R6},fk=Object.prototype.toString,dk=Object.prototype.hasOwnProperty,my=65279,N6=9,sh=10,F6=13,$6=32,j6=33,H6=34,n0=35,I6=37,P6=38,q6=39,U6=42,pk=44,W6=45,Wf=58,Y6=61,G6=62,V6=63,X6=64,gk=91,mk=93,Z6=96,yk=123,Q6=124,xk=125,Li={};Li[0]="\\0";Li[7]="\\a";Li[8]="\\b";Li[9]="\\t";Li[10]="\\n";Li[11]="\\v";Li[12]="\\f";Li[13]="\\r";Li[27]="\\e";Li[34]='\\"';Li[92]="\\\\";Li[133]="\\N";Li[160]="\\_";Li[8232]="\\L";Li[8233]="\\P";var K6=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],J6=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function bk(e,t){var i,n,r,o,l,c,u;if(t===null)return{};for(i={},n=Object.keys(t),r=0,o=n.length;r<o;r+=1)l=n[r],c=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=e.compiledTypeMap.fallback[l],u&&dk.call(u.styleAliases,c)&&(c=u.styleAliases[c]),i[l]=c;return i}C(bk,"compileStyleMap");function vk(e){var t,i,n;if(t=e.toString(16).toUpperCase(),e<=255)i="x",n=2;else if(e<=65535)i="u",n=4;else if(e<=4294967295)i="U",n=8;else throw new Ki("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+ii.repeat("0",n-t.length)+t}C(vk,"encodeHex");var t8=1,oh=2;function _k(e){this.schema=e.schema||qw,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ii.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=bk(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?oh:t8,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}C(_k,"State");function r0(e,t){for(var i=ii.repeat(" ",t),n=0,r=-1,o="",l,c=e.length;n<c;)r=e.indexOf(`
`,n),r===-1?(l=e.slice(n),n=c):(l=e.slice(n,r+1),n=r+1),l.length&&l!==`
`&&(o+=i),o+=l;return o}C(r0,"indentString");function Yf(e,t){return`
`+ii.repeat(" ",e.indent*t)}C(Yf,"generateNextLine");function Sk(e,t){var i,n,r;for(i=0,n=e.implicitTypes.length;i<n;i+=1)if(r=e.implicitTypes[i],r.resolve(t))return!0;return!1}C(Sk,"testImplicitResolving");function lh(e){return e===$6||e===N6}C(lh,"isWhitespace");function nl(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==my||65536<=e&&e<=1114111}C(nl,"isPrintable");function a0(e){return nl(e)&&e!==my&&e!==F6&&e!==sh}C(a0,"isNsCharOrWhitespace");function s0(e,t,i){var n=a0(e),r=n&&!lh(e);return(i?n:n&&e!==pk&&e!==gk&&e!==mk&&e!==yk&&e!==xk)&&e!==n0&&!(t===Wf&&!r)||a0(t)&&!lh(t)&&e===n0||t===Wf&&r}C(s0,"isPlainSafe");function Ck(e){return nl(e)&&e!==my&&!lh(e)&&e!==W6&&e!==V6&&e!==Wf&&e!==pk&&e!==gk&&e!==mk&&e!==yk&&e!==xk&&e!==n0&&e!==P6&&e!==U6&&e!==j6&&e!==Q6&&e!==Y6&&e!==G6&&e!==q6&&e!==H6&&e!==I6&&e!==X6&&e!==Z6}C(Ck,"isPlainSafeFirst");function wk(e){return!lh(e)&&e!==Wf}C(wk,"isPlainSafeLast");function zo(e,t){var i=e.charCodeAt(t),n;return i>=55296&&i<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(i-55296)*1024+n-56320+65536:i}C(zo,"codePointAt");function yy(e){var t=/^\n* /;return t.test(e)}C(yy,"needIndentIndicator");var kk=1,o0=2,Tk=3,Ak=4,Oo=5;function Mk(e,t,i,n,r,o,l,c){var u,f=0,p=null,g=!1,y=!1,x=n!==-1,v=-1,_=Ck(zo(e,0))&&wk(zo(e,e.length-1));if(t||l)for(u=0;u<e.length;f>=65536?u+=2:u++){if(f=zo(e,u),!nl(f))return Oo;_=_&&s0(f,p,c),p=f}else{for(u=0;u<e.length;f>=65536?u+=2:u++){if(f=zo(e,u),f===sh)g=!0,x&&(y=y||u-v-1>n&&e[v+1]!==" ",v=u);else if(!nl(f))return Oo;_=_&&s0(f,p,c),p=f}y=y||x&&u-v-1>n&&e[v+1]!==" "}return!g&&!y?_&&!l&&!r(e)?kk:o===oh?Oo:o0:i>9&&yy(e)?Oo:l?o===oh?Oo:o0:y?Ak:Tk}C(Mk,"chooseScalarStyle");function Ek(e,t,i,n,r){e.dump=function(){if(t.length===0)return e.quotingType===oh?'""':"''";if(!e.noCompatMode&&(K6.indexOf(t)!==-1||J6.test(t)))return e.quotingType===oh?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,i),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),c=n||e.flowLevel>-1&&i>=e.flowLevel;function u(f){return Sk(e,f)}switch(C(u,"testAmbiguity"),Mk(t,c,e.indent,l,u,e.quotingType,e.forceQuotes&&!n,r)){case kk:return t;case o0:return"'"+t.replace(/'/g,"''")+"'";case Tk:return"|"+l0(t,e.indent)+c0(r0(t,o));case Ak:return">"+l0(t,e.indent)+c0(r0(Bk(t,l),o));case Oo:return'"'+Lk(t)+'"';default:throw new Ki("impossible error: invalid scalar style")}}()}C(Ek,"writeScalar");function l0(e,t){var i=yy(e)?String(t):"",n=e[e.length-1]===`
`,r=n&&(e[e.length-2]===`
`||e===`
`),o=r?"+":n?"":"-";return i+o+`
`}C(l0,"blockHeader");function c0(e){return e[e.length-1]===`
`?e.slice(0,-1):e}C(c0,"dropEndingNewline");function Bk(e,t){for(var i=/(\n+)([^\n]*)/g,n=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,i.lastIndex=f,h0(e.slice(0,f),t)}(),r=e[0]===`
`||e[0]===" ",o,l;l=i.exec(e);){var c=l[1],u=l[2];o=u[0]===" ",n+=c+(!r&&!o&&u!==""?`
`:"")+h0(u,t),r=o}return n}C(Bk,"foldString");function h0(e,t){if(e===""||e[0]===" ")return e;for(var i=/ [^ ]/g,n,r=0,o,l=0,c=0,u="";n=i.exec(e);)c=n.index,c-r>t&&(o=l>r?l:c,u+=`
`+e.slice(r,o),r=o+1),l=c;return u+=`
`,e.length-r>t&&l>r?u+=e.slice(r,l)+`
`+e.slice(l+1):u+=e.slice(r),u.slice(1)}C(h0,"foldLine");function Lk(e){for(var t="",i=0,n,r=0;r<e.length;i>=65536?r+=2:r++)i=zo(e,r),n=Li[i],!n&&nl(i)?(t+=e[r],i>=65536&&(t+=e[r+1])):t+=n||vk(i);return t}C(Lk,"escapeString");function Dk(e,t,i){var n="",r=e.tag,o,l,c;for(o=0,l=i.length;o<l;o+=1)c=i[o],e.replacer&&(c=e.replacer.call(i,String(o),c)),(vr(e,t,c,!1,!1)||typeof c>"u"&&vr(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=r,e.dump="["+n+"]"}C(Dk,"writeFlowSequence");function u0(e,t,i,n){var r="",o=e.tag,l,c,u;for(l=0,c=i.length;l<c;l+=1)u=i[l],e.replacer&&(u=e.replacer.call(i,String(l),u)),(vr(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&vr(e,t+1,null,!0,!0,!1,!0))&&((!n||r!=="")&&(r+=Yf(e,t)),e.dump&&sh===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=o,e.dump=r||"[]"}C(u0,"writeBlockSequence");function Ok(e,t,i){var n="",r=e.tag,o=Object.keys(i),l,c,u,f,p;for(l=0,c=o.length;l<c;l+=1)p="",n!==""&&(p+=", "),e.condenseFlow&&(p+='"'),u=o[l],f=i[u],e.replacer&&(f=e.replacer.call(i,u,f)),vr(e,t,u,!1,!1)&&(e.dump.length>1024&&(p+="? "),p+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),vr(e,t,f,!1,!1)&&(p+=e.dump,n+=p));e.tag=r,e.dump="{"+n+"}"}C(Ok,"writeFlowMapping");function Rk(e,t,i,n){var r="",o=e.tag,l=Object.keys(i),c,u,f,p,g,y;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new Ki("sortKeys must be a boolean or a function");for(c=0,u=l.length;c<u;c+=1)y="",(!n||r!=="")&&(y+=Yf(e,t)),f=l[c],p=i[f],e.replacer&&(p=e.replacer.call(i,f,p)),vr(e,t+1,f,!0,!0,!0)&&(g=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,g&&(e.dump&&sh===e.dump.charCodeAt(0)?y+="?":y+="? "),y+=e.dump,g&&(y+=Yf(e,t)),vr(e,t+1,p,!0,g)&&(e.dump&&sh===e.dump.charCodeAt(0)?y+=":":y+=": ",y+=e.dump,r+=y));e.tag=o,e.dump=r||"{}"}C(Rk,"writeBlockMapping");function f0(e,t,i){var n,r,o,l,c,u;for(r=i?e.explicitTypes:e.implicitTypes,o=0,l=r.length;o<l;o+=1)if(c=r[o],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof t=="object"&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(i?c.multi&&c.representName?e.tag=c.representName(t):e.tag=c.tag:e.tag="?",c.represent){if(u=e.styleMap[c.tag]||c.defaultStyle,fk.call(c.represent)==="[object Function]")n=c.represent(t,u);else if(dk.call(c.represent,u))n=c.represent[u](t,u);else throw new Ki("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}C(f0,"detectType");function vr(e,t,i,n,r,o,l){e.tag=null,e.dump=i,f0(e,i,!1)||f0(e,i,!0);var c=fk.call(e.dump),u=n,f;n&&(n=e.flowLevel<0||e.flowLevel>t);var p=c==="[object Object]"||c==="[object Array]",g,y;if(p&&(g=e.duplicates.indexOf(i),y=g!==-1),(e.tag!==null&&e.tag!=="?"||y||e.indent!==2&&t>0)&&(r=!1),y&&e.usedDuplicates[g])e.dump="*ref_"+g;else{if(p&&y&&!e.usedDuplicates[g]&&(e.usedDuplicates[g]=!0),c==="[object Object]")n&&Object.keys(e.dump).length!==0?(Rk(e,t,e.dump,r),y&&(e.dump="&ref_"+g+e.dump)):(Ok(e,t,e.dump),y&&(e.dump="&ref_"+g+" "+e.dump));else if(c==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?u0(e,t-1,e.dump,r):u0(e,t,e.dump,r),y&&(e.dump="&ref_"+g+e.dump)):(Dk(e,t,e.dump),y&&(e.dump="&ref_"+g+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&Ek(e,e.dump,t,o,u);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ki("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(f=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",e.dump=f+" "+e.dump)}return!0}C(vr,"writeNode");function zk(e,t){var i=[],n=[],r,o;for(Gf(e,i,n),r=0,o=n.length;r<o;r+=1)t.duplicates.push(i[n[r]]);t.usedDuplicates=new Array(o)}C(zk,"getDuplicateReferences");function Gf(e,t,i){var n,r,o;if(e!==null&&typeof e=="object")if(r=t.indexOf(e),r!==-1)i.indexOf(r)===-1&&i.push(r);else if(t.push(e),Array.isArray(e))for(r=0,o=e.length;r<o;r+=1)Gf(e[r],t,i);else for(n=Object.keys(e),r=0,o=n.length;r<o;r+=1)Gf(e[n[r]],t,i)}C(Gf,"inspectNode");function e8(e,t){t=t||{};var i=new _k(t);i.noRefs||zk(e,i);var n=e;return i.replacer&&(n=i.replacer.call({"":n},"",n)),vr(i,0,n,!0,!0)?i.dump+`
`:""}C(e8,"dump$1");function i8(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}C(i8,"renamed");var n8=Tw,r8=z6.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var Ln={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function Nc(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Re(e),t=Re(t);const[i,n]=[e.x,e.y],[r,o]=[t.x,t.y],l=r-i,c=o-n;return{angle:Math.atan(c/l),deltaX:l,deltaY:c}}C(Nc,"calculateDeltaAndAngle");var Re=C(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),a8=C(e=>({x:C(function(t,i,n){let r=0;const o=Re(n[0]).x<Re(n[n.length-1]).x?"left":"right";if(i===0&&Object.hasOwn(Ln,e.arrowTypeStart)){const{angle:x,deltaX:v}=Nc(n[0],n[1]);r=Ln[e.arrowTypeStart]*Math.cos(x)*(v>=0?1:-1)}else if(i===n.length-1&&Object.hasOwn(Ln,e.arrowTypeEnd)){const{angle:x,deltaX:v}=Nc(n[n.length-1],n[n.length-2]);r=Ln[e.arrowTypeEnd]*Math.cos(x)*(v>=0?1:-1)}const l=Math.abs(Re(t).x-Re(n[n.length-1]).x),c=Math.abs(Re(t).y-Re(n[n.length-1]).y),u=Math.abs(Re(t).x-Re(n[0]).x),f=Math.abs(Re(t).y-Re(n[0]).y),p=Ln[e.arrowTypeStart],g=Ln[e.arrowTypeEnd],y=1;if(l<g&&l>0&&c<g){let x=g+y-l;x*=o==="right"?-1:1,r-=x}if(u<p&&u>0&&f<p){let x=p+y-u;x*=o==="right"?-1:1,r+=x}return Re(t).x+r},"x"),y:C(function(t,i,n){let r=0;const o=Re(n[0]).y<Re(n[n.length-1]).y?"down":"up";if(i===0&&Object.hasOwn(Ln,e.arrowTypeStart)){const{angle:x,deltaY:v}=Nc(n[0],n[1]);r=Ln[e.arrowTypeStart]*Math.abs(Math.sin(x))*(v>=0?1:-1)}else if(i===n.length-1&&Object.hasOwn(Ln,e.arrowTypeEnd)){const{angle:x,deltaY:v}=Nc(n[n.length-1],n[n.length-2]);r=Ln[e.arrowTypeEnd]*Math.abs(Math.sin(x))*(v>=0?1:-1)}const l=Math.abs(Re(t).y-Re(n[n.length-1]).y),c=Math.abs(Re(t).x-Re(n[n.length-1]).x),u=Math.abs(Re(t).y-Re(n[0]).y),f=Math.abs(Re(t).x-Re(n[0]).x),p=Ln[e.arrowTypeStart],g=Ln[e.arrowTypeEnd],y=1;if(l<g&&l>0&&c<g){let x=g+y-l;x*=o==="up"?-1:1,r-=x}if(u<p&&u>0&&f<p){let x=p+y-u;x*=o==="up"?-1:1,r+=x}return Re(t).y+r},"y")}),"getLineFunctionsWithOffset"),xy=C(({flowchart:e})=>{var r,o;const t=((r=e==null?void 0:e.subGraphTitleMargin)==null?void 0:r.top)??0,i=((o=e==null?void 0:e.subGraphTitleMargin)==null?void 0:o.bottom)??0,n=t+i;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:i,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),_c={},ei={},C2;function s8(){return C2||(C2=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.BLANK_URL=ei.relativeFirstCharacters=ei.whitespaceEscapeCharsRegex=ei.urlSchemeRegex=ei.ctrlCharactersRegex=ei.htmlCtrlEntityRegex=ei.htmlEntitiesRegex=ei.invalidProtocolRegex=void 0,ei.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,ei.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,ei.htmlCtrlEntityRegex=/&(newline|tab);/gi,ei.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ei.urlSchemeRegex=/^.+(:|&colon;)/gim,ei.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,ei.relativeFirstCharacters=[".","/"],ei.BLANK_URL="about:blank"),ei}var w2;function o8(){if(w2)return _c;w2=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.sanitizeUrl=void 0;var e=s8();function t(l){return e.relativeFirstCharacters.indexOf(l[0])>-1}function i(l){var c=l.replace(e.ctrlCharactersRegex,"");return c.replace(e.htmlEntitiesRegex,function(u,f){return String.fromCharCode(f)})}function n(l){return URL.canParse(l)}function r(l){try{return decodeURIComponent(l)}catch{return l}}function o(l){if(!l)return e.BLANK_URL;var c,u=r(l.trim());do u=i(u).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),u=r(u),c=u.match(e.ctrlCharactersRegex)||u.match(e.htmlEntitiesRegex)||u.match(e.htmlCtrlEntityRegex)||u.match(e.whitespaceEscapeCharsRegex);while(c&&c.length>0);var f=u;if(!f)return e.BLANK_URL;if(t(f))return f;var p=f.trimStart(),g=p.match(e.urlSchemeRegex);if(!g)return f;var y=g[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(y))return e.BLANK_URL;var x=p.replace(/\\/g,"/");if(y==="mailto:"||y.includes("://"))return x;if(y==="http:"||y==="https:"){if(!n(x))return e.BLANK_URL;var v=new URL(x);return v.protocol=v.protocol.toLowerCase(),v.hostname=v.hostname.toLowerCase(),v.toString()}return x}return _c.sanitizeUrl=o,_c}var l8=o8(),c8={value:()=>{}};function Nk(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new bf(i)}function bf(e){this._=e}function h8(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",r=i.indexOf(".");if(r>=0&&(n=i.slice(r+1),i=i.slice(0,r)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}bf.prototype=Nk.prototype={constructor:bf,on:function(e,t){var i=this._,n=h8(e+"",i),r,o=-1,l=n.length;if(arguments.length<2){for(;++o<l;)if((r=(e=n[o]).type)&&(r=u8(i[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(r=(e=n[o]).type)i[r]=k2(i[r],e.name,t);else if(t==null)for(r in i)i[r]=k2(i[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new bf(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var i=new Array(r),n=0,r,o;n<r;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,r=o.length;n<r;++n)o[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],r=0,o=n.length;r<o;++r)n[r].value.apply(t,i)}};function u8(e,t){for(var i=0,n=e.length,r;i<n;++i)if((r=e[i]).name===t)return r.value}function k2(e,t,i){for(var n=0,r=e.length;n<r;++n)if(e[n].name===t){e[n]=c8,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var d0="http://www.w3.org/1999/xhtml";const T2={svg:"http://www.w3.org/2000/svg",xhtml:d0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bd(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),T2.hasOwnProperty(t)?{space:T2[t],local:e}:e}function f8(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===d0&&t.documentElement.namespaceURI===d0?t.createElement(e):t.createElementNS(i,e)}}function d8(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fk(e){var t=Bd(e);return(t.local?d8:f8)(t)}function p8(){}function by(e){return e==null?p8:function(){return this.querySelector(e)}}function g8(e){typeof e!="function"&&(e=by(e));for(var t=this._groups,i=t.length,n=new Array(i),r=0;r<i;++r)for(var o=t[r],l=o.length,c=n[r]=new Array(l),u,f,p=0;p<l;++p)(u=o[p])&&(f=e.call(u,u.__data__,p,o))&&("__data__"in u&&(f.__data__=u.__data__),c[p]=f);return new xn(n,this._parents)}function m8(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function y8(){return[]}function $k(e){return e==null?y8:function(){return this.querySelectorAll(e)}}function x8(e){return function(){return m8(e.apply(this,arguments))}}function b8(e){typeof e=="function"?e=x8(e):e=$k(e);for(var t=this._groups,i=t.length,n=[],r=[],o=0;o<i;++o)for(var l=t[o],c=l.length,u,f=0;f<c;++f)(u=l[f])&&(n.push(e.call(u,u.__data__,f,l)),r.push(u));return new xn(n,r)}function jk(e){return function(){return this.matches(e)}}function Hk(e){return function(t){return t.matches(e)}}var v8=Array.prototype.find;function _8(e){return function(){return v8.call(this.children,e)}}function S8(){return this.firstElementChild}function C8(e){return this.select(e==null?S8:_8(typeof e=="function"?e:Hk(e)))}var w8=Array.prototype.filter;function k8(){return Array.from(this.children)}function T8(e){return function(){return w8.call(this.children,e)}}function A8(e){return this.selectAll(e==null?k8:T8(typeof e=="function"?e:Hk(e)))}function M8(e){typeof e!="function"&&(e=jk(e));for(var t=this._groups,i=t.length,n=new Array(i),r=0;r<i;++r)for(var o=t[r],l=o.length,c=n[r]=[],u,f=0;f<l;++f)(u=o[f])&&e.call(u,u.__data__,f,o)&&c.push(u);return new xn(n,this._parents)}function Ik(e){return new Array(e.length)}function E8(){return new xn(this._enter||this._groups.map(Ik),this._parents)}function Vf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vf.prototype={constructor:Vf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function B8(e){return function(){return e}}function L8(e,t,i,n,r,o){for(var l=0,c,u=t.length,f=o.length;l<f;++l)(c=t[l])?(c.__data__=o[l],n[l]=c):i[l]=new Vf(e,o[l]);for(;l<u;++l)(c=t[l])&&(r[l]=c)}function D8(e,t,i,n,r,o,l){var c,u,f=new Map,p=t.length,g=o.length,y=new Array(p),x;for(c=0;c<p;++c)(u=t[c])&&(y[c]=x=l.call(u,u.__data__,c,t)+"",f.has(x)?r[c]=u:f.set(x,u));for(c=0;c<g;++c)x=l.call(e,o[c],c,o)+"",(u=f.get(x))?(n[c]=u,u.__data__=o[c],f.delete(x)):i[c]=new Vf(e,o[c]);for(c=0;c<p;++c)(u=t[c])&&f.get(y[c])===u&&(r[c]=u)}function O8(e){return e.__data__}function R8(e,t){if(!arguments.length)return Array.from(this,O8);var i=t?D8:L8,n=this._parents,r=this._groups;typeof e!="function"&&(e=B8(e));for(var o=r.length,l=new Array(o),c=new Array(o),u=new Array(o),f=0;f<o;++f){var p=n[f],g=r[f],y=g.length,x=z8(e.call(p,p&&p.__data__,f,n)),v=x.length,_=c[f]=new Array(v),S=l[f]=new Array(v),w=u[f]=new Array(y);i(p,g,_,S,w,x,t);for(var T=0,M=0,z,D;T<v;++T)if(z=_[T]){for(T>=M&&(M=T+1);!(D=S[M])&&++M<v;);z._next=D||null}}return l=new xn(l,n),l._enter=c,l._exit=u,l}function z8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function N8(){return new xn(this._exit||this._groups.map(Ik),this._parents)}function F8(e,t,i){var n=this.enter(),r=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),i==null?o.remove():i(o),n&&r?n.merge(r).order():r}function $8(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,r=i.length,o=n.length,l=Math.min(r,o),c=new Array(r),u=0;u<l;++u)for(var f=i[u],p=n[u],g=f.length,y=c[u]=new Array(g),x,v=0;v<g;++v)(x=f[v]||p[v])&&(y[v]=x);for(;u<r;++u)c[u]=i[u];return new xn(c,this._parents)}function j8(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],r=n.length-1,o=n[r],l;--r>=0;)(l=n[r])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function H8(e){e||(e=I8);function t(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var i=this._groups,n=i.length,r=new Array(n),o=0;o<n;++o){for(var l=i[o],c=l.length,u=r[o]=new Array(c),f,p=0;p<c;++p)(f=l[p])&&(u[p]=f);u.sort(t)}return new xn(r,this._parents).order()}function I8(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function P8(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function q8(){return Array.from(this)}function U8(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],r=0,o=n.length;r<o;++r){var l=n[r];if(l)return l}return null}function W8(){let e=0;for(const t of this)++e;return e}function Y8(){return!this.node()}function G8(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var r=t[i],o=0,l=r.length,c;o<l;++o)(c=r[o])&&e.call(c,c.__data__,o,r);return this}function V8(e){return function(){this.removeAttribute(e)}}function X8(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Z8(e,t){return function(){this.setAttribute(e,t)}}function Q8(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function K8(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function J8(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function tz(e,t){var i=Bd(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?X8:V8:typeof t=="function"?i.local?J8:K8:i.local?Q8:Z8)(i,t))}function Pk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ez(e){return function(){this.style.removeProperty(e)}}function iz(e,t,i){return function(){this.style.setProperty(e,t,i)}}function nz(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function rz(e,t,i){return arguments.length>1?this.each((t==null?ez:typeof t=="function"?nz:iz)(e,t,i??"")):rl(this.node(),e)}function rl(e,t){return e.style.getPropertyValue(t)||Pk(e).getComputedStyle(e,null).getPropertyValue(t)}function az(e){return function(){delete this[e]}}function sz(e,t){return function(){this[e]=t}}function oz(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function lz(e,t){return arguments.length>1?this.each((t==null?az:typeof t=="function"?oz:sz)(e,t)):this.node()[e]}function qk(e){return e.trim().split(/^|\s+/)}function vy(e){return e.classList||new Uk(e)}function Uk(e){this._node=e,this._names=qk(e.getAttribute("class")||"")}Uk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Wk(e,t){for(var i=vy(e),n=-1,r=t.length;++n<r;)i.add(t[n])}function Yk(e,t){for(var i=vy(e),n=-1,r=t.length;++n<r;)i.remove(t[n])}function cz(e){return function(){Wk(this,e)}}function hz(e){return function(){Yk(this,e)}}function uz(e,t){return function(){(t.apply(this,arguments)?Wk:Yk)(this,e)}}function fz(e,t){var i=qk(e+"");if(arguments.length<2){for(var n=vy(this.node()),r=-1,o=i.length;++r<o;)if(!n.contains(i[r]))return!1;return!0}return this.each((typeof t=="function"?uz:t?cz:hz)(i,t))}function dz(){this.textContent=""}function pz(e){return function(){this.textContent=e}}function gz(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function mz(e){return arguments.length?this.each(e==null?dz:(typeof e=="function"?gz:pz)(e)):this.node().textContent}function yz(){this.innerHTML=""}function xz(e){return function(){this.innerHTML=e}}function bz(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function vz(e){return arguments.length?this.each(e==null?yz:(typeof e=="function"?bz:xz)(e)):this.node().innerHTML}function _z(){this.nextSibling&&this.parentNode.appendChild(this)}function Sz(){return this.each(_z)}function Cz(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wz(){return this.each(Cz)}function kz(e){var t=typeof e=="function"?e:Fk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Tz(){return null}function Az(e,t){var i=typeof e=="function"?e:Fk(e),n=t==null?Tz:typeof t=="function"?t:by(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function Mz(){var e=this.parentNode;e&&e.removeChild(this)}function Ez(){return this.each(Mz)}function Bz(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Lz(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dz(e){return this.select(e?Lz:Bz)}function Oz(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Rz(e){return function(t){e.call(this,t,this.__data__)}}function zz(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function Nz(e){return function(){var t=this.__on;if(t){for(var i=0,n=-1,r=t.length,o;i<r;++i)o=t[i],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function Fz(e,t,i){return function(){var n=this.__on,r,o=Rz(t);if(n){for(var l=0,c=n.length;l<c;++l)if((r=n[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=i),r.value=t;return}}this.addEventListener(e.type,o,i),r={type:e.type,name:e.name,value:t,listener:o,options:i},n?n.push(r):this.__on=[r]}}function $z(e,t,i){var n=zz(e+""),r,o=n.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,f=c.length,p;u<f;++u)for(r=0,p=c[u];r<o;++r)if((l=n[r]).type===p.type&&l.name===p.name)return p.value}return}for(c=t?Fz:Nz,r=0;r<o;++r)this.each(c(n[r],t,i));return this}function Gk(e,t,i){var n=Pk(e),r=n.CustomEvent;typeof r=="function"?r=new r(t,i):(r=n.document.createEvent("Event"),i?(r.initEvent(t,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function jz(e,t){return function(){return Gk(this,e,t)}}function Hz(e,t){return function(){return Gk(this,e,t.apply(this,arguments))}}function Iz(e,t){return this.each((typeof t=="function"?Hz:jz)(e,t))}function*Pz(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],r=0,o=n.length,l;r<o;++r)(l=n[r])&&(yield l)}var Vk=[null];function xn(e,t){this._groups=e,this._parents=t}function Sh(){return new xn([[document.documentElement]],Vk)}function qz(){return this}xn.prototype=Sh.prototype={constructor:xn,select:g8,selectAll:b8,selectChild:C8,selectChildren:A8,filter:M8,data:R8,enter:E8,exit:N8,join:F8,merge:$8,selection:qz,order:j8,sort:H8,call:P8,nodes:q8,node:U8,size:W8,empty:Y8,each:G8,attr:tz,style:rz,property:lz,classed:fz,text:mz,html:vz,raise:Sz,lower:wz,append:kz,insert:Az,remove:Ez,clone:Dz,datum:Oz,on:$z,dispatch:Iz,[Symbol.iterator]:Pz};function ee(e){return typeof e=="string"?new xn([[document.querySelector(e)]],[document.documentElement]):new xn([[e]],Vk)}function _y(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function Xk(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function Ch(){}var ch=.7,Xf=1/ch,$o="\\s*([+-]?\\d+)\\s*",hh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uz=/^#([0-9a-f]{3,8})$/,Wz=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),Yz=new RegExp(`^rgb\\(${xr},${xr},${xr}\\)$`),Gz=new RegExp(`^rgba\\(${$o},${$o},${$o},${hh}\\)$`),Vz=new RegExp(`^rgba\\(${xr},${xr},${xr},${hh}\\)$`),Xz=new RegExp(`^hsl\\(${hh},${xr},${xr}\\)$`),Zz=new RegExp(`^hsla\\(${hh},${xr},${xr},${hh}\\)$`),A2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_y(Ch,uh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:M2,formatHex:M2,formatHex8:Qz,formatHsl:Kz,formatRgb:E2,toString:E2});function M2(){return this.rgb().formatHex()}function Qz(){return this.rgb().formatHex8()}function Kz(){return Zk(this).formatHsl()}function E2(){return this.rgb().formatRgb()}function uh(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=Uz.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?B2(t):i===3?new Ji(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?Ku(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?Ku(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Wz.exec(e))?new Ji(t[1],t[2],t[3],1):(t=Yz.exec(e))?new Ji(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Gz.exec(e))?Ku(t[1],t[2],t[3],t[4]):(t=Vz.exec(e))?Ku(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xz.exec(e))?O2(t[1],t[2]/100,t[3]/100,1):(t=Zz.exec(e))?O2(t[1],t[2]/100,t[3]/100,t[4]):A2.hasOwnProperty(e)?B2(A2[e]):e==="transparent"?new Ji(NaN,NaN,NaN,0):null}function B2(e){return new Ji(e>>16&255,e>>8&255,e&255,1)}function Ku(e,t,i,n){return n<=0&&(e=t=i=NaN),new Ji(e,t,i,n)}function Jz(e){return e instanceof Ch||(e=uh(e)),e?(e=e.rgb(),new Ji(e.r,e.g,e.b,e.opacity)):new Ji}function p0(e,t,i,n){return arguments.length===1?Jz(e):new Ji(e,t,i,n??1)}function Ji(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}_y(Ji,p0,Xk(Ch,{brighter(e){return e=e==null?Xf:Math.pow(Xf,e),new Ji(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ch:Math.pow(ch,e),new Ji(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ji(As(this.r),As(this.g),As(this.b),Zf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L2,formatHex:L2,formatHex8:tN,formatRgb:D2,toString:D2}));function L2(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}`}function tN(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}${ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function D2(){const e=Zf(this.opacity);return`${e===1?"rgb(":"rgba("}${As(this.r)}, ${As(this.g)}, ${As(this.b)}${e===1?")":`, ${e})`}`}function Zf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function As(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ws(e){return e=As(e),(e<16?"0":"")+e.toString(16)}function O2(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Vn(e,t,i,n)}function Zk(e){if(e instanceof Vn)return new Vn(e.h,e.s,e.l,e.opacity);if(e instanceof Ch||(e=uh(e)),!e)return new Vn;if(e instanceof Vn)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,r=Math.min(t,i,n),o=Math.max(t,i,n),l=NaN,c=o-r,u=(o+r)/2;return c?(t===o?l=(i-n)/c+(i<n)*6:i===o?l=(n-t)/c+2:l=(t-i)/c+4,c/=u<.5?o+r:2-o-r,l*=60):c=u>0&&u<1?0:l,new Vn(l,c,u,e.opacity)}function eN(e,t,i,n){return arguments.length===1?Zk(e):new Vn(e,t,i,n??1)}function Vn(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}_y(Vn,eN,Xk(Ch,{brighter(e){return e=e==null?Xf:Math.pow(Xf,e),new Vn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ch:Math.pow(ch,e),new Vn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,r=2*i-n;return new Ji(xm(e>=240?e-240:e+120,r,n),xm(e,r,n),xm(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new Vn(R2(this.h),Ju(this.s),Ju(this.l),Zf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zf(this.opacity);return`${e===1?"hsl(":"hsla("}${R2(this.h)}, ${Ju(this.s)*100}%, ${Ju(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R2(e){return e=(e||0)%360,e<0?e+360:e}function Ju(e){return Math.max(0,Math.min(1,e||0))}function xm(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const Sy=e=>()=>e;function Qk(e,t){return function(i){return e+i*t}}function iN(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function kU(e,t){var i=t-e;return i?Qk(e,i>180||i<-180?i-360*Math.round(i/360):i):Sy(isNaN(e)?t:e)}function nN(e){return(e=+e)==1?Kk:function(t,i){return i-t?iN(t,i,e):Sy(isNaN(t)?i:t)}}function Kk(e,t){var i=t-e;return i?Qk(e,i):Sy(isNaN(e)?t:e)}const z2=function e(t){var i=nN(t);function n(r,o){var l=i((r=p0(r)).r,(o=p0(o)).r),c=i(r.g,o.g),u=i(r.b,o.b),f=Kk(r.opacity,o.opacity);return function(p){return r.r=l(p),r.g=c(p),r.b=u(p),r.opacity=f(p),r+""}}return n.gamma=e,n}(1);function Da(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}var g0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bm=new RegExp(g0.source,"g");function rN(e){return function(){return e}}function aN(e){return function(t){return e(t)+""}}function sN(e,t){var i=g0.lastIndex=bm.lastIndex=0,n,r,o,l=-1,c=[],u=[];for(e=e+"",t=t+"";(n=g0.exec(e))&&(r=bm.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),c[l]?c[l]+=o:c[++l]=o),(n=n[0])===(r=r[0])?c[l]?c[l]+=r:c[++l]=r:(c[++l]=null,u.push({i:l,x:Da(n,r)})),i=bm.lastIndex;return i<t.length&&(o=t.slice(i),c[l]?c[l]+=o:c[++l]=o),c.length<2?u[0]?aN(u[0].x):rN(t):(t=u.length,function(f){for(var p=0,g;p<t;++p)c[(g=u[p]).i]=g.x(f);return c.join("")})}var N2=180/Math.PI,m0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jk(e,t,i,n,r,o){var l,c,u;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(u=e*i+t*n)&&(i-=e*u,n-=t*u),(c=Math.sqrt(i*i+n*n))&&(i/=c,n/=c,u/=c),e*n<t*i&&(e=-e,t=-t,u=-u,l=-l),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*N2,skewX:Math.atan(u)*N2,scaleX:l,scaleY:c}}var tf;function oN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?m0:Jk(t.a,t.b,t.c,t.d,t.e,t.f)}function lN(e){return e==null||(tf||(tf=document.createElementNS("http://www.w3.org/2000/svg","g")),tf.setAttribute("transform",e),!(e=tf.transform.baseVal.consolidate()))?m0:(e=e.matrix,Jk(e.a,e.b,e.c,e.d,e.e,e.f))}function tT(e,t,i,n){function r(f){return f.length?f.pop()+" ":""}function o(f,p,g,y,x,v){if(f!==g||p!==y){var _=x.push("translate(",null,t,null,i);v.push({i:_-4,x:Da(f,g)},{i:_-2,x:Da(p,y)})}else(g||y)&&x.push("translate("+g+t+y+i)}function l(f,p,g,y){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),y.push({i:g.push(r(g)+"rotate(",null,n)-2,x:Da(f,p)})):p&&g.push(r(g)+"rotate("+p+n)}function c(f,p,g,y){f!==p?y.push({i:g.push(r(g)+"skewX(",null,n)-2,x:Da(f,p)}):p&&g.push(r(g)+"skewX("+p+n)}function u(f,p,g,y,x,v){if(f!==g||p!==y){var _=x.push(r(x)+"scale(",null,",",null,")");v.push({i:_-4,x:Da(f,g)},{i:_-2,x:Da(p,y)})}else(g!==1||y!==1)&&x.push(r(x)+"scale("+g+","+y+")")}return function(f,p){var g=[],y=[];return f=e(f),p=e(p),o(f.translateX,f.translateY,p.translateX,p.translateY,g,y),l(f.rotate,p.rotate,g,y),c(f.skewX,p.skewX,g,y),u(f.scaleX,f.scaleY,p.scaleX,p.scaleY,g,y),f=p=null,function(x){for(var v=-1,_=y.length,S;++v<_;)g[(S=y[v]).i]=S.x(x);return g.join("")}}}var cN=tT(oN,"px, ","px)","deg)"),hN=tT(lN,", ",")",")"),al=0,Fc=0,Sc=0,eT=1e3,Qf,$c,Kf=0,Ds=0,Ld=0,fh=typeof performance=="object"&&performance.now?performance:Date,iT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Cy(){return Ds||(iT(uN),Ds=fh.now()+Ld)}function uN(){Ds=0}function Jf(){this._call=this._time=this._next=null}Jf.prototype=nT.prototype={constructor:Jf,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?Cy():+i)+(t==null?0:+t),!this._next&&$c!==this&&($c?$c._next=this:Qf=this,$c=this),this._call=e,this._time=i,y0()},stop:function(){this._call&&(this._call=null,this._time=1/0,y0())}};function nT(e,t,i){var n=new Jf;return n.restart(e,t,i),n}function fN(){Cy(),++al;for(var e=Qf,t;e;)(t=Ds-e._time)>=0&&e._call.call(void 0,t),e=e._next;--al}function F2(){Ds=(Kf=fh.now())+Ld,al=Fc=0;try{fN()}finally{al=0,pN(),Ds=0}}function dN(){var e=fh.now(),t=e-Kf;t>eT&&(Ld-=t,Kf=e)}function pN(){for(var e,t=Qf,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:Qf=i);$c=e,y0(n)}function y0(e){if(!al){Fc&&(Fc=clearTimeout(Fc));var t=e-Ds;t>24?(e<1/0&&(Fc=setTimeout(F2,e-fh.now()-Ld)),Sc&&(Sc=clearInterval(Sc))):(Sc||(Kf=fh.now(),Sc=setInterval(dN,eT)),al=1,iT(F2))}}function $2(e,t,i){var n=new Jf;return t=t==null?0:+t,n.restart(r=>{n.stop(),e(r+t)},t,i),n}var gN=Nk("start","end","cancel","interrupt"),mN=[],rT=0,j2=1,x0=2,vf=3,H2=4,b0=5,_f=6;function Dd(e,t,i,n,r,o){var l=e.__transition;if(!l)e.__transition={};else if(i in l)return;yN(e,i,{name:t,index:n,group:r,on:gN,tween:mN,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:rT})}function wy(e,t){var i=Kn(e,t);if(i.state>rT)throw new Error("too late; already scheduled");return i}function _r(e,t){var i=Kn(e,t);if(i.state>vf)throw new Error("too late; already running");return i}function Kn(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function yN(e,t,i){var n=e.__transition,r;n[t]=i,i.timer=nT(o,0,i.time);function o(f){i.state=j2,i.timer.restart(l,i.delay,i.time),i.delay<=f&&l(f-i.delay)}function l(f){var p,g,y,x;if(i.state!==j2)return u();for(p in n)if(x=n[p],x.name===i.name){if(x.state===vf)return $2(l);x.state===H2?(x.state=_f,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete n[p]):+p<t&&(x.state=_f,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete n[p])}if($2(function(){i.state===vf&&(i.state=H2,i.timer.restart(c,i.delay,i.time),c(f))}),i.state=x0,i.on.call("start",e,e.__data__,i.index,i.group),i.state===x0){for(i.state=vf,r=new Array(y=i.tween.length),p=0,g=-1;p<y;++p)(x=i.tween[p].value.call(e,e.__data__,i.index,i.group))&&(r[++g]=x);r.length=g+1}}function c(f){for(var p=f<i.duration?i.ease.call(null,f/i.duration):(i.timer.restart(u),i.state=b0,1),g=-1,y=r.length;++g<y;)r[g].call(e,p);i.state===b0&&(i.on.call("end",e,e.__data__,i.index,i.group),u())}function u(){i.state=_f,i.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}}function xN(e,t){var i=e.__transition,n,r,o=!0,l;if(i){t=t==null?null:t+"";for(l in i){if((n=i[l]).name!==t){o=!1;continue}r=n.state>x0&&n.state<b0,n.state=_f,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[l]}o&&delete e.__transition}}function bN(e){return this.each(function(){xN(this,e)})}function vN(e,t){var i,n;return function(){var r=_r(this,e),o=r.tween;if(o!==i){n=i=o;for(var l=0,c=n.length;l<c;++l)if(n[l].name===t){n=n.slice(),n.splice(l,1);break}}r.tween=n}}function _N(e,t,i){var n,r;if(typeof i!="function")throw new Error;return function(){var o=_r(this,e),l=o.tween;if(l!==n){r=(n=l).slice();for(var c={name:t,value:i},u=0,f=r.length;u<f;++u)if(r[u].name===t){r[u]=c;break}u===f&&r.push(c)}o.tween=r}}function SN(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=Kn(this.node(),i).tween,r=0,o=n.length,l;r<o;++r)if((l=n[r]).name===e)return l.value;return null}return this.each((t==null?vN:_N)(i,e,t))}function ky(e,t,i){var n=e._id;return e.each(function(){var r=_r(this,n);(r.value||(r.value={}))[t]=i.apply(this,arguments)}),function(r){return Kn(r,n).value[t]}}function aT(e,t){var i;return(typeof t=="number"?Da:t instanceof uh?z2:(i=uh(t))?(t=i,z2):sN)(e,t)}function CN(e){return function(){this.removeAttribute(e)}}function wN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kN(e,t,i){var n,r=i+"",o;return function(){var l=this.getAttribute(e);return l===r?null:l===n?o:o=t(n=l,i)}}function TN(e,t,i){var n,r=i+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===n?o:o=t(n=l,i)}}function AN(e,t,i){var n,r,o;return function(){var l,c=i(this),u;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),u=c+"",l===u?null:l===n&&u===r?o:(r=u,o=t(n=l,c)))}}function MN(e,t,i){var n,r,o;return function(){var l,c=i(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),u=c+"",l===u?null:l===n&&u===r?o:(r=u,o=t(n=l,c)))}}function EN(e,t){var i=Bd(e),n=i==="transform"?hN:aT;return this.attrTween(e,typeof t=="function"?(i.local?MN:AN)(i,n,ky(this,"attr."+e,t)):t==null?(i.local?wN:CN)(i):(i.local?TN:kN)(i,n,t))}function BN(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function LN(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function DN(e,t){var i,n;function r(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&LN(e,o)),i}return r._value=t,r}function ON(e,t){var i,n;function r(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&BN(e,o)),i}return r._value=t,r}function RN(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=Bd(e);return this.tween(i,(n.local?DN:ON)(n,t))}function zN(e,t){return function(){wy(this,e).delay=+t.apply(this,arguments)}}function NN(e,t){return t=+t,function(){wy(this,e).delay=t}}function FN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zN:NN)(t,e)):Kn(this.node(),t).delay}function $N(e,t){return function(){_r(this,e).duration=+t.apply(this,arguments)}}function jN(e,t){return t=+t,function(){_r(this,e).duration=t}}function HN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$N:jN)(t,e)):Kn(this.node(),t).duration}function IN(e,t){if(typeof t!="function")throw new Error;return function(){_r(this,e).ease=t}}function PN(e){var t=this._id;return arguments.length?this.each(IN(t,e)):Kn(this.node(),t).ease}function qN(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;_r(this,e).ease=i}}function UN(e){if(typeof e!="function")throw new Error;return this.each(qN(this._id,e))}function WN(e){typeof e!="function"&&(e=jk(e));for(var t=this._groups,i=t.length,n=new Array(i),r=0;r<i;++r)for(var o=t[r],l=o.length,c=n[r]=[],u,f=0;f<l;++f)(u=o[f])&&e.call(u,u.__data__,f,o)&&c.push(u);return new Kr(n,this._parents,this._name,this._id)}function YN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,r=i.length,o=Math.min(n,r),l=new Array(n),c=0;c<o;++c)for(var u=t[c],f=i[c],p=u.length,g=l[c]=new Array(p),y,x=0;x<p;++x)(y=u[x]||f[x])&&(g[x]=y);for(;c<n;++c)l[c]=t[c];return new Kr(l,this._parents,this._name,this._id)}function GN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function VN(e,t,i){var n,r,o=GN(t)?wy:_r;return function(){var l=o(this,e),c=l.on;c!==n&&(r=(n=c).copy()).on(t,i),l.on=r}}function XN(e,t){var i=this._id;return arguments.length<2?Kn(this.node(),i).on.on(e):this.each(VN(i,e,t))}function ZN(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function QN(){return this.on("end.remove",ZN(this._id))}function KN(e){var t=this._name,i=this._id;typeof e!="function"&&(e=by(e));for(var n=this._groups,r=n.length,o=new Array(r),l=0;l<r;++l)for(var c=n[l],u=c.length,f=o[l]=new Array(u),p,g,y=0;y<u;++y)(p=c[y])&&(g=e.call(p,p.__data__,y,c))&&("__data__"in p&&(g.__data__=p.__data__),f[y]=g,Dd(f[y],t,i,y,f,Kn(p,i)));return new Kr(o,this._parents,t,i)}function JN(e){var t=this._name,i=this._id;typeof e!="function"&&(e=$k(e));for(var n=this._groups,r=n.length,o=[],l=[],c=0;c<r;++c)for(var u=n[c],f=u.length,p,g=0;g<f;++g)if(p=u[g]){for(var y=e.call(p,p.__data__,g,u),x,v=Kn(p,i),_=0,S=y.length;_<S;++_)(x=y[_])&&Dd(x,t,i,_,y,v);o.push(y),l.push(p)}return new Kr(o,l,t,i)}var tF=Sh.prototype.constructor;function eF(){return new tF(this._groups,this._parents)}function iF(e,t){var i,n,r;return function(){var o=rl(this,e),l=(this.style.removeProperty(e),rl(this,e));return o===l?null:o===i&&l===n?r:r=t(i=o,n=l)}}function sT(e){return function(){this.style.removeProperty(e)}}function nF(e,t,i){var n,r=i+"",o;return function(){var l=rl(this,e);return l===r?null:l===n?o:o=t(n=l,i)}}function rF(e,t,i){var n,r,o;return function(){var l=rl(this,e),c=i(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),rl(this,e))),l===u?null:l===n&&u===r?o:(r=u,o=t(n=l,c))}}function aF(e,t){var i,n,r,o="style."+t,l="end."+o,c;return function(){var u=_r(this,e),f=u.on,p=u.value[o]==null?c||(c=sT(t)):void 0;(f!==i||r!==p)&&(n=(i=f).copy()).on(l,r=p),u.on=n}}function sF(e,t,i){var n=(e+="")=="transform"?cN:aT;return t==null?this.styleTween(e,iF(e,n)).on("end.style."+e,sT(e)):typeof t=="function"?this.styleTween(e,rF(e,n,ky(this,"style."+e,t))).each(aF(this._id,e)):this.styleTween(e,nF(e,n,t),i).on("end.style."+e,null)}function oF(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function lF(e,t,i){var n,r;function o(){var l=t.apply(this,arguments);return l!==r&&(n=(r=l)&&oF(e,l,i)),n}return o._value=t,o}function cF(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,lF(e,t,i??""))}function hF(e){return function(){this.textContent=e}}function uF(e){return function(){var t=e(this);this.textContent=t??""}}function fF(e){return this.tween("text",typeof e=="function"?uF(ky(this,"text",e)):hF(e==null?"":e+""))}function dF(e){return function(t){this.textContent=e.call(this,t)}}function pF(e){var t,i;function n(){var r=e.apply(this,arguments);return r!==i&&(t=(i=r)&&dF(r)),t}return n._value=e,n}function gF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,pF(e))}function mF(){for(var e=this._name,t=this._id,i=oT(),n=this._groups,r=n.length,o=0;o<r;++o)for(var l=n[o],c=l.length,u,f=0;f<c;++f)if(u=l[f]){var p=Kn(u,t);Dd(u,e,i,f,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Kr(n,this._parents,e,i)}function yF(){var e,t,i=this,n=i._id,r=i.size();return new Promise(function(o,l){var c={value:l},u={value:function(){--r===0&&o()}};i.each(function(){var f=_r(this,n),p=f.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),f.on=t}),r===0&&o()})}var xF=0;function Kr(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function oT(){return++xF}var Ir=Sh.prototype;Kr.prototype={constructor:Kr,select:KN,selectAll:JN,selectChild:Ir.selectChild,selectChildren:Ir.selectChildren,filter:WN,merge:YN,selection:eF,transition:mF,call:Ir.call,nodes:Ir.nodes,node:Ir.node,size:Ir.size,empty:Ir.empty,each:Ir.each,on:XN,attr:EN,attrTween:RN,style:sF,styleTween:cF,text:fF,textTween:gF,remove:QN,tween:SN,delay:FN,duration:HN,ease:PN,easeVarying:UN,end:yF,[Symbol.iterator]:Ir[Symbol.iterator]};function bF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var vF={time:null,delay:0,duration:250,ease:bF};function _F(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function SF(e){var t,i;e instanceof Kr?(t=e._id,e=e._name):(t=oT(),(i=vF).time=Cy(),e=e==null?null:e+"");for(var n=this._groups,r=n.length,o=0;o<r;++o)for(var l=n[o],c=l.length,u,f=0;f<c;++f)(u=l[f])&&Dd(u,e,t,f,l,i||_F(u,t));return new Kr(n,this._parents,e,t)}Sh.prototype.interrupt=bN;Sh.prototype.transition=SF;const v0=Math.PI,_0=2*v0,ms=1e-6,CF=_0-ms;function lT(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function wF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return lT;const i=10**t;return function(n){this._+=n[0];for(let r=1,o=n.length;r<o;++r)this._+=Math.round(arguments[r]*i)/i+n[r]}}class kF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?lT:wF(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,n,r){this._append`Q${+t},${+i},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,i,n,r,o,l){this._append`C${+t},${+i},${+n},${+r},${this._x1=+o},${this._y1=+l}`}arcTo(t,i,n,r,o){if(t=+t,i=+i,n=+n,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,u=n-t,f=r-i,p=l-t,g=c-i,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(y>ms)if(!(Math.abs(g*u-f*p)>ms)||!o)this._append`L${this._x1=t},${this._y1=i}`;else{let x=n-l,v=r-c,_=u*u+f*f,S=x*x+v*v,w=Math.sqrt(_),T=Math.sqrt(y),M=o*Math.tan((v0-Math.acos((_+y-S)/(2*w*T)))/2),z=M/T,D=M/w;Math.abs(z-1)>ms&&this._append`L${t+z*p},${i+z*g}`,this._append`A${o},${o},0,0,${+(g*x>p*v)},${this._x1=t+D*u},${this._y1=i+D*f}`}}arc(t,i,n,r,o,l){if(t=+t,i=+i,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(r),u=n*Math.sin(r),f=t+c,p=i+u,g=1^l,y=l?r-o:o-r;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ms||Math.abs(this._y1-p)>ms)&&this._append`L${f},${p}`,n&&(y<0&&(y=y%_0+_0),y>CF?this._append`A${n},${n},0,1,${g},${t-c},${i-u}A${n},${n},0,1,${g},${this._x1=f},${this._y1=p}`:y>ms&&this._append`A${n},${n},0,${+(y>=v0)},${g},${this._x1=t+n*Math.cos(o)},${this._y1=i+n*Math.sin(o)}`)}rect(t,i,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Lo(e){return function(){return e}}const TU=Math.abs,AU=Math.atan2,MU=Math.cos,EU=Math.max,BU=Math.min,LU=Math.sin,DU=Math.sqrt,I2=1e-12,Ty=Math.PI,P2=Ty/2,OU=2*Ty;function RU(e){return e>1?0:e<-1?Ty:Math.acos(e)}function zU(e){return e>=1?P2:e<=-1?-P2:Math.asin(e)}function TF(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const n=Math.floor(i);if(!(n>=0))throw new RangeError(`invalid digits: ${i}`);t=n}return e},()=>new kF(t)}function AF(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cT(e){this._context=e}cT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function td(e){return new cT(e)}function MF(e){return e[0]}function EF(e){return e[1]}function BF(e,t){var i=Lo(!0),n=null,r=td,o=null,l=TF(c);e=typeof e=="function"?e:e===void 0?MF:Lo(e),t=typeof t=="function"?t:t===void 0?EF:Lo(t);function c(u){var f,p=(u=AF(u)).length,g,y=!1,x;for(n==null&&(o=r(x=l())),f=0;f<=p;++f)!(f<p&&i(g=u[f],f,u))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(g,f,u),+t(g,f,u));if(x)return o=null,x+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:Lo(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:Lo(+u),c):t},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Lo(!!u),c):i},c.curve=function(u){return arguments.length?(r=u,n!=null&&(o=r(n)),c):r},c.context=function(u){return arguments.length?(u==null?n=o=null:o=r(n=u),c):n},c}class hT{constructor(t,i){this._context=t,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,i){switch(t=+t,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,i,t,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,t,this._y0,t,i);break}}this._x0=t,this._y0=i}}function uT(e){return new hT(e,!0)}function fT(e){return new hT(e,!1)}function ja(){}function ed(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function Od(e){this._context=e}Od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ed(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ed(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sf(e){return new Od(e)}function dT(e){this._context=e}dT.prototype={areaStart:ja,areaEnd:ja,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ed(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LF(e){return new dT(e)}function pT(e){this._context=e}pT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:ed(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DF(e){return new pT(e)}function gT(e,t){this._basis=new Od(e),this._beta=t}gT.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,i=e.length-1;if(i>0)for(var n=e[0],r=t[0],o=e[i]-n,l=t[i]-r,c=-1,u;++c<=i;)u=c/i,this._basis.point(this._beta*e[c]+(1-this._beta)*(n+u*o),this._beta*t[c]+(1-this._beta)*(r+u*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const OF=function e(t){function i(n){return t===1?new Od(n):new gT(n,t)}return i.beta=function(n){return e(+n)},i}(.85);function id(e,t,i){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-i),e._x2,e._y2)}function Ay(e,t){this._context=e,this._k=(1-t)/6}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:id(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:id(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mT=function e(t){function i(n){return new Ay(n,t)}return i.tension=function(n){return e(+n)},i}(0);function My(e,t){this._context=e,this._k=(1-t)/6}My.prototype={areaStart:ja,areaEnd:ja,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:id(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const RF=function e(t){function i(n){return new My(n,t)}return i.tension=function(n){return e(+n)},i}(0);function Ey(e,t){this._context=e,this._k=(1-t)/6}Ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:id(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zF=function e(t){function i(n){return new Ey(n,t)}return i.tension=function(n){return e(+n)},i}(0);function By(e,t,i){var n=e._x1,r=e._y1,o=e._x2,l=e._y2;if(e._l01_a>I2){var c=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*c-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,r=(r*c-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>I2){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,p=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*f+e._x1*e._l23_2a-t*e._l12_2a)/p,l=(l*f+e._y1*e._l23_2a-i*e._l12_2a)/p}e._context.bezierCurveTo(n,r,o,l,e._x2,e._y2)}function yT(e,t){this._context=e,this._alpha=t}yT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:By(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xT=function e(t){function i(n){return t?new yT(n,t):new Ay(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function bT(e,t){this._context=e,this._alpha=t}bT.prototype={areaStart:ja,areaEnd:ja,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:By(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const NF=function e(t){function i(n){return t?new bT(n,t):new My(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function vT(e,t){this._context=e,this._alpha=t}vT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:By(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FF=function e(t){function i(n){return t?new vT(n,t):new Ey(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function _T(e){this._context=e}_T.prototype={areaStart:ja,areaEnd:ja,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $F(e){return new _T(e)}function q2(e){return e<0?-1:1}function U2(e,t,i){var n=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(n||r<0&&-0),l=(i-e._y1)/(r||n<0&&-0),c=(o*r+l*n)/(n+r);return(q2(o)+q2(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function W2(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function vm(e,t,i){var n=e._x0,r=e._y0,o=e._x1,l=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,r+c*t,o-c,l-c*i,o,l)}function nd(e){this._context=e}nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vm(this,this._t0,W2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vm(this,W2(this,i=U2(this,e,t)),i);break;default:vm(this,this._t0,i=U2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}};function ST(e){this._context=new CT(e)}(ST.prototype=Object.create(nd.prototype)).point=function(e,t){nd.prototype.point.call(this,t,e)};function CT(e){this._context=e}CT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,n,r,o){this._context.bezierCurveTo(t,e,n,i,o,r)}};function wT(e){return new nd(e)}function kT(e){return new ST(e)}function TT(e){this._context=e}TT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),i===2)this._context.lineTo(e[1],t[1]);else for(var n=Y2(e),r=Y2(t),o=0,l=1;l<i;++o,++l)this._context.bezierCurveTo(n[0][o],r[0][o],n[1][o],r[1][o],e[l],t[l]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y2(e){var t,i=e.length-1,n,r=new Array(i),o=new Array(i),l=new Array(i);for(r[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,l[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(r[i-1]=l[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(l[t]-r[t+1])/o[t];for(o[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function AT(e){return new TT(e)}function Rd(e,t){this._context=e,this._t=t}Rd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=e,this._y=t}};function MT(e){return new Rd(e,.5)}function ET(e){return new Rd(e,0)}function BT(e){return new Rd(e,1)}function jc(e,t,i){this.k=e,this.x=t,this.y=i}jc.prototype={constructor:jc,scale:function(e){return e===1?this:new jc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new jc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jc.prototype;var LT=typeof global=="object"&&global&&global.Object===Object&&global,jF=typeof self=="object"&&self&&self.Object===Object&&self,Sr=LT||jF||Function("return this")(),rd=Sr.Symbol,DT=Object.prototype,HF=DT.hasOwnProperty,IF=DT.toString,Cc=rd?rd.toStringTag:void 0;function PF(e){var t=HF.call(e,Cc),i=e[Cc];try{e[Cc]=void 0;var n=!0}catch{}var r=IF.call(e);return n&&(t?e[Cc]=i:delete e[Cc]),r}var qF=Object.prototype,UF=qF.toString;function WF(e){return UF.call(e)}var YF="[object Null]",GF="[object Undefined]",G2=rd?rd.toStringTag:void 0;function ul(e){return e==null?e===void 0?GF:YF:G2&&G2 in Object(e)?PF(e):WF(e)}function $s(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var VF="[object AsyncFunction]",XF="[object Function]",ZF="[object GeneratorFunction]",QF="[object Proxy]";function Ly(e){if(!$s(e))return!1;var t=ul(e);return t==XF||t==ZF||t==VF||t==QF}var _m=Sr["__core-js_shared__"],V2=function(){var e=/[^.]+$/.exec(_m&&_m.keys&&_m.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function KF(e){return!!V2&&V2 in e}var JF=Function.prototype,t9=JF.toString;function js(e){if(e!=null){try{return t9.call(e)}catch{}try{return e+""}catch{}}return""}var e9=/[\\^$.*+?()[\]{}|]/g,i9=/^\[object .+?Constructor\]$/,n9=Function.prototype,r9=Object.prototype,a9=n9.toString,s9=r9.hasOwnProperty,o9=RegExp("^"+a9.call(s9).replace(e9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l9(e){if(!$s(e)||KF(e))return!1;var t=Ly(e)?o9:i9;return t.test(js(e))}function c9(e,t){return e==null?void 0:e[t]}function Hs(e,t){var i=c9(e,t);return l9(i)?i:void 0}var dh=Hs(Object,"create");function h9(){this.__data__=dh?dh(null):{},this.size=0}function u9(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var f9="__lodash_hash_undefined__",d9=Object.prototype,p9=d9.hasOwnProperty;function g9(e){var t=this.__data__;if(dh){var i=t[e];return i===f9?void 0:i}return p9.call(t,e)?t[e]:void 0}var m9=Object.prototype,y9=m9.hasOwnProperty;function x9(e){var t=this.__data__;return dh?t[e]!==void 0:y9.call(t,e)}var b9="__lodash_hash_undefined__";function v9(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=dh&&t===void 0?b9:t,this}function Os(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Os.prototype.clear=h9;Os.prototype.delete=u9;Os.prototype.get=g9;Os.prototype.has=x9;Os.prototype.set=v9;function _9(){this.__data__=[],this.size=0}function zd(e,t){return e===t||e!==e&&t!==t}function Nd(e,t){for(var i=e.length;i--;)if(zd(e[i][0],t))return i;return-1}var S9=Array.prototype,C9=S9.splice;function w9(e){var t=this.__data__,i=Nd(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():C9.call(t,i,1),--this.size,!0}function k9(e){var t=this.__data__,i=Nd(t,e);return i<0?void 0:t[i][1]}function T9(e){return Nd(this.__data__,e)>-1}function A9(e,t){var i=this.__data__,n=Nd(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}function ta(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}ta.prototype.clear=_9;ta.prototype.delete=w9;ta.prototype.get=k9;ta.prototype.has=T9;ta.prototype.set=A9;var ph=Hs(Sr,"Map");function M9(){this.size=0,this.__data__={hash:new Os,map:new(ph||ta),string:new Os}}function E9(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Fd(e,t){var i=e.__data__;return E9(t)?i[typeof t=="string"?"string":"hash"]:i.map}function B9(e){var t=Fd(this,e).delete(e);return this.size-=t?1:0,t}function L9(e){return Fd(this,e).get(e)}function D9(e){return Fd(this,e).has(e)}function O9(e,t){var i=Fd(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}function Pa(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Pa.prototype.clear=M9;Pa.prototype.delete=B9;Pa.prototype.get=L9;Pa.prototype.has=D9;Pa.prototype.set=O9;var R9="Expected a function";function wh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(R9);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var l=e.apply(this,n);return i.cache=o.set(r,l)||o,l};return i.cache=new(wh.Cache||Pa),i}wh.Cache=Pa;function z9(){this.__data__=new ta,this.size=0}function N9(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function F9(e){return this.__data__.get(e)}function $9(e){return this.__data__.has(e)}var j9=200;function H9(e,t){var i=this.__data__;if(i instanceof ta){var n=i.__data__;if(!ph||n.length<j9-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Pa(n)}return i.set(e,t),this.size=i.size,this}function fl(e){var t=this.__data__=new ta(e);this.size=t.size}fl.prototype.clear=z9;fl.prototype.delete=N9;fl.prototype.get=F9;fl.prototype.has=$9;fl.prototype.set=H9;var ad=function(){try{var e=Hs(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Dy(e,t,i){t=="__proto__"&&ad?ad(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function S0(e,t,i){(i!==void 0&&!zd(e[t],i)||i===void 0&&!(t in e))&&Dy(e,t,i)}function I9(e){return function(t,i,n){for(var r=-1,o=Object(t),l=n(t),c=l.length;c--;){var u=l[++r];if(i(o[u],u,o)===!1)break}return t}}var P9=I9(),OT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X2=OT&&typeof module=="object"&&module&&!module.nodeType&&module,q9=X2&&X2.exports===OT,Z2=q9?Sr.Buffer:void 0,Q2=Z2?Z2.allocUnsafe:void 0;function U9(e,t){if(t)return e.slice();var i=e.length,n=Q2?Q2(i):new e.constructor(i);return e.copy(n),n}var K2=Sr.Uint8Array;function W9(e){var t=new e.constructor(e.byteLength);return new K2(t).set(new K2(e)),t}function Y9(e,t){var i=t?W9(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function G9(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}var J2=Object.create,V9=function(){function e(){}return function(t){if(!$s(t))return{};if(J2)return J2(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function RT(e,t){return function(i){return e(t(i))}}var zT=RT(Object.getPrototypeOf,Object),X9=Object.prototype;function $d(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||X9;return e===i}function Z9(e){return typeof e.constructor=="function"&&!$d(e)?V9(zT(e)):{}}function kh(e){return e!=null&&typeof e=="object"}var Q9="[object Arguments]";function tS(e){return kh(e)&&ul(e)==Q9}var NT=Object.prototype,K9=NT.hasOwnProperty,J9=NT.propertyIsEnumerable,sd=tS(function(){return arguments}())?tS:function(e){return kh(e)&&K9.call(e,"callee")&&!J9.call(e,"callee")},od=Array.isArray,t$=9007199254740991;function FT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t$}function jd(e){return e!=null&&FT(e.length)&&!Ly(e)}function e$(e){return kh(e)&&jd(e)}function i$(){return!1}var $T=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eS=$T&&typeof module=="object"&&module&&!module.nodeType&&module,n$=eS&&eS.exports===$T,iS=n$?Sr.Buffer:void 0,r$=iS?iS.isBuffer:void 0,Oy=r$||i$,a$="[object Object]",s$=Function.prototype,o$=Object.prototype,jT=s$.toString,l$=o$.hasOwnProperty,c$=jT.call(Object);function h$(e){if(!kh(e)||ul(e)!=a$)return!1;var t=zT(e);if(t===null)return!0;var i=l$.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&jT.call(i)==c$}var u$="[object Arguments]",f$="[object Array]",d$="[object Boolean]",p$="[object Date]",g$="[object Error]",m$="[object Function]",y$="[object Map]",x$="[object Number]",b$="[object Object]",v$="[object RegExp]",_$="[object Set]",S$="[object String]",C$="[object WeakMap]",w$="[object ArrayBuffer]",k$="[object DataView]",T$="[object Float32Array]",A$="[object Float64Array]",M$="[object Int8Array]",E$="[object Int16Array]",B$="[object Int32Array]",L$="[object Uint8Array]",D$="[object Uint8ClampedArray]",O$="[object Uint16Array]",R$="[object Uint32Array]",Ee={};Ee[T$]=Ee[A$]=Ee[M$]=Ee[E$]=Ee[B$]=Ee[L$]=Ee[D$]=Ee[O$]=Ee[R$]=!0;Ee[u$]=Ee[f$]=Ee[w$]=Ee[d$]=Ee[k$]=Ee[p$]=Ee[g$]=Ee[m$]=Ee[y$]=Ee[x$]=Ee[b$]=Ee[v$]=Ee[_$]=Ee[S$]=Ee[C$]=!1;function z$(e){return kh(e)&&FT(e.length)&&!!Ee[ul(e)]}function N$(e){return function(t){return e(t)}}var HT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Kc=HT&&typeof module=="object"&&module&&!module.nodeType&&module,F$=Kc&&Kc.exports===HT,Sm=F$&&LT.process,nS=function(){try{var e=Kc&&Kc.require&&Kc.require("util").types;return e||Sm&&Sm.binding&&Sm.binding("util")}catch{}}(),rS=nS&&nS.isTypedArray,Ry=rS?N$(rS):z$;function C0(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var $$=Object.prototype,j$=$$.hasOwnProperty;function H$(e,t,i){var n=e[t];(!(j$.call(e,t)&&zd(n,i))||i===void 0&&!(t in e))&&Dy(e,t,i)}function I$(e,t,i,n){var r=!i;i||(i={});for(var o=-1,l=t.length;++o<l;){var c=t[o],u=void 0;u===void 0&&(u=e[c]),r?Dy(i,c,u):H$(i,c,u)}return i}function P$(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var q$=9007199254740991,U$=/^(?:0|[1-9]\d*)$/;function IT(e,t){var i=typeof e;return t=t??q$,!!t&&(i=="number"||i!="symbol"&&U$.test(e))&&e>-1&&e%1==0&&e<t}var W$=Object.prototype,Y$=W$.hasOwnProperty;function G$(e,t){var i=od(e),n=!i&&sd(e),r=!i&&!n&&Oy(e),o=!i&&!n&&!r&&Ry(e),l=i||n||r||o,c=l?P$(e.length,String):[],u=c.length;for(var f in e)(t||Y$.call(e,f))&&!(l&&(f=="length"||r&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||IT(f,u)))&&c.push(f);return c}function V$(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var X$=Object.prototype,Z$=X$.hasOwnProperty;function Q$(e){if(!$s(e))return V$(e);var t=$d(e),i=[];for(var n in e)n=="constructor"&&(t||!Z$.call(e,n))||i.push(n);return i}function PT(e){return jd(e)?G$(e,!0):Q$(e)}function K$(e){return I$(e,PT(e))}function J$(e,t,i,n,r,o,l){var c=C0(e,i),u=C0(t,i),f=l.get(u);if(f){S0(e,i,f);return}var p=o?o(c,u,i+"",e,t,l):void 0,g=p===void 0;if(g){var y=od(u),x=!y&&Oy(u),v=!y&&!x&&Ry(u);p=u,y||x||v?od(c)?p=c:e$(c)?p=G9(c):x?(g=!1,p=U9(u,!0)):v?(g=!1,p=Y9(u,!0)):p=[]:h$(u)||sd(u)?(p=c,sd(c)?p=K$(c):(!$s(c)||Ly(c))&&(p=Z9(u))):g=!1}g&&(l.set(u,p),r(p,u,n,o,l),l.delete(u)),S0(e,i,p)}function qT(e,t,i,n,r){e!==t&&P9(t,function(o,l){if(r||(r=new fl),$s(o))J$(e,t,l,i,qT,n,r);else{var c=n?n(C0(e,l),o,l+"",e,t,r):void 0;c===void 0&&(c=o),S0(e,l,c)}},PT)}function UT(e){return e}function tj(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var aS=Math.max;function ej(e,t,i){return t=aS(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=aS(n.length-t,0),l=Array(o);++r<o;)l[r]=n[t+r];r=-1;for(var c=Array(t+1);++r<t;)c[r]=n[r];return c[t]=i(l),tj(e,this,c)}}function ij(e){return function(){return e}}var nj=ad?function(e,t){return ad(e,"toString",{configurable:!0,enumerable:!1,value:ij(t),writable:!0})}:UT,rj=800,aj=16,sj=Date.now;function oj(e){var t=0,i=0;return function(){var n=sj(),r=aj-(n-i);if(i=n,r>0){if(++t>=rj)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lj=oj(nj);function cj(e,t){return lj(ej(e,t,UT),e+"")}function hj(e,t,i){if(!$s(i))return!1;var n=typeof t;return(n=="number"?jd(i)&&IT(t,i.length):n=="string"&&t in i)?zd(i[t],e):!1}function uj(e){return cj(function(t,i){var n=-1,r=i.length,o=r>1?i[r-1]:void 0,l=r>2?i[2]:void 0;for(o=e.length>3&&typeof o=="function"?(r--,o):void 0,l&&hj(i[0],i[1],l)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var c=i[n];c&&e(t,c,n,o)}return t})}var fj=uj(function(e,t,i){qT(e,t,i)}),dj="​",pj={curveBasis:Sf,curveBasisClosed:LF,curveBasisOpen:DF,curveBumpX:uT,curveBumpY:fT,curveBundle:OF,curveCardinalClosed:RF,curveCardinalOpen:zF,curveCardinal:mT,curveCatmullRomClosed:NF,curveCatmullRomOpen:FF,curveCatmullRom:xT,curveLinear:td,curveLinearClosed:$F,curveMonotoneX:wT,curveMonotoneY:kT,curveNatural:AT,curveStep:MT,curveStepAfter:BT,curveStepBefore:ET},gj=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,mj=C(function(e,t){const i=WT(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(i)){const l=i.map(c=>c.args);$f(l),n=vi(n,[...l])}else n=i.args;if(!n)return;let r=ay(e,t);const o="config";return n[o]!==void 0&&(r==="flowchart-v2"&&(r="flowchart"),n[r]=n[o],delete n[o]),n},"detectInit"),WT=C(function(e,t=null){var i,n;try{const r=new RegExp(`[%]{2}(?![{]${gj.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),ct.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let o;const l=[];for(;(o=Zc.exec(e))!==null;)if(o.index===Zc.lastIndex&&Zc.lastIndex++,o&&!t||t&&((i=o[1])!=null&&i.match(t))||t&&((n=o[2])!=null&&n.match(t))){const c=o[1]?o[1]:o[2],u=o[3]?o[3].trim():o[4]?JSON.parse(o[4].trim()):null;l.push({type:c,args:u})}return l.length===0?{type:e,args:null}:l.length===1?l[0]:l}catch(r){return ct.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),yj=C(function(e){return e.replace(Zc,"")},"removeDirectives"),xj=C(function(e,t){for(const[i,n]of t.entries())if(n.match(e))return i;return-1},"isSubstringInArray");function zy(e,t){if(!e)return t;const i=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return pj[i]??t}C(zy,"interpolateToCurve");function YT(e,t){const i=e.trim();if(i)return t.securityLevel!=="loose"?l8.sanitizeUrl(i):i}C(YT,"formatUrl");var bj=C((e,...t)=>{const i=e.split("."),n=i.length-1,r=i[n];let o=window;for(let l=0;l<n;l++)if(o=o[i[l]],!o){ct.error(`Function name: ${e} not found in window`);return}o[r](...t)},"runFunc");function Ny(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}C(Ny,"distance");function GT(e){let t,i=0;e.forEach(r=>{i+=Ny(r,t),t=r});const n=i/2;return Fy(e,n)}C(GT,"traverseEdge");function VT(e){return e.length===1?e[0]:GT(e)}C(VT,"calcLabelPosition");var sS=C((e,t=2)=>{const i=Math.pow(10,t);return Math.round(e*i)/i},"roundNumber"),Fy=C((e,t)=>{let i,n=t;for(const r of e){if(i){const o=Ny(r,i);if(o===0)return i;if(o<n)n-=o;else{const l=n/o;if(l<=0)return i;if(l>=1)return{x:r.x,y:r.y};if(l>0&&l<1)return{x:sS((1-l)*i.x+l*r.x,5),y:sS((1-l)*i.y+l*r.y,5)}}}i=r}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),vj=C((e,t,i)=>{ct.info(`our points ${JSON.stringify(t)}`),t[0]!==i&&(t=t.reverse());const r=Fy(t,25),o=e?10:5,l=Math.atan2(t[0].y-r.y,t[0].x-r.x),c={x:0,y:0};return c.x=Math.sin(l)*o+(t[0].x+r.x)/2,c.y=-Math.cos(l)*o+(t[0].y+r.y)/2,c},"calcCardinalityPosition");function XT(e,t,i){const n=structuredClone(i);ct.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const r=25+e,o=Fy(n,r),l=10+e*.5,c=Math.atan2(n[0].y-o.y,n[0].x-o.x),u={x:0,y:0};return t==="start_left"?(u.x=Math.sin(c+Math.PI)*l+(n[0].x+o.x)/2,u.y=-Math.cos(c+Math.PI)*l+(n[0].y+o.y)/2):t==="end_right"?(u.x=Math.sin(c-Math.PI)*l+(n[0].x+o.x)/2-5,u.y=-Math.cos(c-Math.PI)*l+(n[0].y+o.y)/2-5):t==="end_left"?(u.x=Math.sin(c)*l+(n[0].x+o.x)/2-5,u.y=-Math.cos(c)*l+(n[0].y+o.y)/2-5):(u.x=Math.sin(c)*l+(n[0].x+o.x)/2,u.y=-Math.cos(c)*l+(n[0].y+o.y)/2),u}C(XT,"calcTerminalLabelPosition");function ZT(e){let t="",i="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?i=i+n+";":t=t+n+";");return{style:t,labelStyle:i}}C(ZT,"getStylesFromArray");var oS=0,_j=C(()=>(oS++,"id-"+Math.random().toString(36).substr(2,12)+"-"+oS),"generateId");function QT(e){let t="";const i="0123456789abcdef",n=i.length;for(let r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*n));return t}C(QT,"makeRandomHex");var Sj=C(e=>QT(e.length),"random"),Cj=C(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),wj=C(function(e,t){const i=t.text.replace(hl.lineBreakRegex," "),[,n]=Hd(t.fontSize),r=e.append("text");r.attr("x",t.x),r.attr("y",t.y),r.style("text-anchor",t.anchor),r.style("font-family",t.fontFamily),r.style("font-size",n),r.style("font-weight",t.fontWeight),r.attr("fill",t.fill),t.class!==void 0&&r.attr("class",t.class);const o=r.append("tspan");return o.attr("x",t.x+t.textMargin*2),o.attr("fill",t.fill),o.text(i),r},"drawSimpleText"),kj=wh((e,t,i)=>{if(!e||(i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},i),hl.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),r=[];let o="";return n.forEach((l,c)=>{const u=Jr(`${l} `,i),f=Jr(o,i);if(u>t){const{hyphenatedStrings:y,remainingWord:x}=Tj(l,t,"-",i);r.push(o,...y),o=x}else f+u>=t?(r.push(o),o=l):o=[o,l].filter(Boolean).join(" ");c+1===n.length&&r.push(o)}),r.filter(l=>l!=="").join(i.joinWith)},(e,t,i)=>`${e}${t}${i.fontSize}${i.fontWeight}${i.fontFamily}${i.joinWith}`),Tj=wh((e,t,i="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const r=[...e],o=[];let l="";return r.forEach((c,u)=>{const f=`${l}${c}`;if(Jr(f,n)>=t){const g=u+1,y=r.length===g,x=`${f}${i}`;o.push(y?f:x),l=""}else l=f}),{hyphenatedStrings:o,remainingWord:l}},(e,t,i="-",n)=>`${e}${t}${i}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function KT(e,t){return $y(e,t).height}C(KT,"calculateTextHeight");function Jr(e,t){return $y(e,t).width}C(Jr,"calculateTextWidth");var $y=wh((e,t)=>{const{fontSize:i=12,fontFamily:n="Arial",fontWeight:r=400}=t;if(!e)return{width:0,height:0};const[,o]=Hd(i),l=["sans-serif",n],c=e.split(hl.lineBreakRegex),u=[],f=ee("body");if(!f.remove)return{width:0,height:0,lineHeight:0};const p=f.append("svg");for(const y of l){let x=0;const v={width:0,height:0,lineHeight:0};for(const _ of c){const S=Cj();S.text=_||dj;const w=wj(p,S).style("font-size",o).style("font-weight",r).style("font-family",y),T=(w._groups||w)[0][0].getBBox();if(T.width===0&&T.height===0)throw new Error("svg element not in render tree");v.width=Math.round(Math.max(v.width,T.width)),x=Math.round(T.height),v.height+=x,v.lineHeight=Math.round(Math.max(v.lineHeight,x))}u.push(v)}p.remove();const g=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[g]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Go,Aj=(Go=class{constructor(t=!1,i){this.count=0,this.count=i?i.length:0,this.next=t?()=>this.count++:()=>Date.now()}},C(Go,"InitIDGenerator"),Go),ef,Mj=C(function(e){return ef=ef||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ef.innerHTML=e,unescape(ef.textContent)},"entityDecode");function jy(e){return"str"in e}C(jy,"isDetailedError");var Ej=C((e,t,i,n)=>{var o;if(!n)return;const r=(o=e.node())==null?void 0:o.getBBox();r&&e.append("text").text(n).attr("text-anchor","middle").attr("x",r.x+r.width/2).attr("y",-i).attr("class",t)},"insertTitle"),Hd=C(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function Hy(e,t){return fj({},e,t)}C(Hy,"cleanAndMerge");var mr={assignWithDepth:vi,wrapLabel:kj,calculateTextHeight:KT,calculateTextWidth:Jr,calculateTextDimensions:$y,cleanAndMerge:Hy,detectInit:mj,detectDirective:WT,isSubstringInArray:xj,interpolateToCurve:zy,calcLabelPosition:VT,calcCardinalityPosition:vj,calcTerminalLabelPosition:XT,formatUrl:YT,getStylesFromArray:ZT,generateId:_j,random:Sj,runFunc:bj,entityDecode:Mj,insertTitle:Ej,parseFontSize:Hd,InitIDGenerator:Aj},Bj=C(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),t=t.replace(/#\w+;/g,function(i){const n=i.substring(1,i.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),t},"encodeEntities"),Is=C(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),NU=C((e,t,{counter:i=0,prefix:n,suffix:r},o)=>o||`${n?`${n}_`:""}${e}_${t}_${i}${r?`_${r}`:""}`,"getEdgeId");function Ii(e){return e??null}C(Ii,"handleUndefinedAttr");const Lj=Object.freeze({left:0,top:0,width:16,height:16}),ld=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),JT=Object.freeze({...Lj,...ld}),Dj=Object.freeze({...JT,body:"",hidden:!1}),Oj=Object.freeze({width:null,height:null}),Rj=Object.freeze({...Oj,...ld}),zj=(e,t,i,n="")=>{const r=e.split(":");if(e.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;n=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const c=r.pop(),u=r.pop(),f={provider:r.length>0?r[0]:n,prefix:u,name:c};return Cm(f)?f:null}const o=r[0],l=o.split("-");if(l.length>1){const c={provider:n,prefix:l.shift(),name:l.join("-")};return Cm(c)?c:null}if(i&&n===""){const c={provider:n,prefix:"",name:o};return Cm(c,i)?c:null}return null},Cm=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function Nj(e,t){const i={};!e.hFlip!=!t.hFlip&&(i.hFlip=!0),!e.vFlip!=!t.vFlip&&(i.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(i.rotate=n),i}function lS(e,t){const i=Nj(e,t);for(const n in Dj)n in ld?n in e&&!(n in i)&&(i[n]=ld[n]):n in t?i[n]=t[n]:n in e&&(i[n]=e[n]);return i}function Fj(e,t){const i=e.icons,n=e.aliases||Object.create(null),r=Object.create(null);function o(l){if(i[l])return r[l]=[];if(!(l in r)){r[l]=null;const c=n[l]&&n[l].parent,u=c&&o(c);u&&(r[l]=[c].concat(u))}return r[l]}return(t||Object.keys(i).concat(Object.keys(n))).forEach(o),r}function cS(e,t,i){const n=e.icons,r=e.aliases||Object.create(null);let o={};function l(c){o=lS(n[c]||r[c],o)}return l(t),i.forEach(l),lS(e,o)}function $j(e,t){if(e.icons[t])return cS(e,t,[]);const i=Fj(e,[t])[t];return i?cS(e,t,i):null}const jj=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Hj=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function hS(e,t,i){if(t===1)return e;if(i=i||100,typeof e=="number")return Math.ceil(e*t*i)/i;if(typeof e!="string")return e;const n=e.split(jj);if(n===null||!n.length)return e;const r=[];let o=n.shift(),l=Hj.test(o);for(;;){if(l){const c=parseFloat(o);isNaN(c)?r.push(o):r.push(Math.ceil(c*t*i)/i)}else r.push(o);if(o=n.shift(),o===void 0)return r.join("");l=!l}}function Ij(e,t="defs"){let i="";const n=e.indexOf("<"+t);for(;n>=0;){const r=e.indexOf(">",n),o=e.indexOf("</"+t);if(r===-1||o===-1)break;const l=e.indexOf(">",o);if(l===-1)break;i+=e.slice(r+1,o).trim(),e=e.slice(0,n).trim()+e.slice(l+1)}return{defs:i,content:e}}function Pj(e,t){return e?"<defs>"+e+"</defs>"+t:t}function qj(e,t,i){const n=Ij(e);return Pj(n.defs,t+n.content+i)}const Uj=e=>e==="unset"||e==="undefined"||e==="none";function Wj(e,t){const i={...JT,...e},n={...Rj,...t},r={left:i.left,top:i.top,width:i.width,height:i.height};let o=i.body;[i,n].forEach(_=>{const S=[],w=_.hFlip,T=_.vFlip;let M=_.rotate;w?T?M+=2:(S.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),S.push("scale(-1 1)"),r.top=r.left=0):T&&(S.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),S.push("scale(1 -1)"),r.top=r.left=0);let z;switch(M<0&&(M-=Math.floor(M/4)*4),M=M%4,M){case 1:z=r.height/2+r.top,S.unshift("rotate(90 "+z.toString()+" "+z.toString()+")");break;case 2:S.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:z=r.width/2+r.left,S.unshift("rotate(-90 "+z.toString()+" "+z.toString()+")");break}M%2===1&&(r.left!==r.top&&(z=r.left,r.left=r.top,r.top=z),r.width!==r.height&&(z=r.width,r.width=r.height,r.height=z)),S.length&&(o=qj(o,'<g transform="'+S.join(" ")+'">',"</g>"))});const l=n.width,c=n.height,u=r.width,f=r.height;let p,g;l===null?(g=c===null?"1em":c==="auto"?f:c,p=hS(g,u/f)):(p=l==="auto"?u:l,g=c===null?hS(p,f/u):c==="auto"?f:c);const y={},x=(_,S)=>{Uj(S)||(y[_]=S.toString())};x("width",p),x("height",g);const v=[r.left,r.top,u,f];return y.viewBox=v.join(" "),{attributes:y,viewBox:v,body:o}}const Yj=/\sid="(\S+)"/g,Gj="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Vj=0;function Xj(e,t=Gj){const i=[];let n;for(;n=Yj.exec(e);)i.push(n[1]);if(!i.length)return e;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return i.forEach(o=>{const l=typeof t=="function"?t(o):t+(Vj++).toString(),c=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+l+r+"$3")}),e=e.replace(new RegExp(r,"g"),""),e}function Zj(e,t){let i=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)i+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+i+">"+e+"</svg>"}function Iy(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ps=Iy();function tA(e){Ps=e}var Jc={exec:()=>null};function de(e,t=""){let i=typeof e=="string"?e:e.source;const n={replace:(r,o)=>{let l=typeof o=="string"?o:o.source;return l=l.replace(Hi.caret,"$1"),i=i.replace(r,l),n},getRegex:()=>new RegExp(i,t)};return n}var Hi={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Qj=/^(?:[ \t]*(?:\n|$))+/,Kj=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Jj=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Th=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,tH=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Py=/(?:[*+-]|\d{1,9}[.)])/,eA=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,iA=de(eA).replace(/bull/g,Py).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),eH=de(eA).replace(/bull/g,Py).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),qy=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,iH=/^[^\n]+/,Uy=/(?!\s*\])(?:\\.|[^\[\]\\])+/,nH=de(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Uy).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),rH=de(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Py).getRegex(),Id="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wy=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,aH=de("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Wy).replace("tag",Id).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),nA=de(qy).replace("hr",Th).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Id).getRegex(),sH=de(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",nA).getRegex(),Yy={blockquote:sH,code:Kj,def:nH,fences:Jj,heading:tH,hr:Th,html:aH,lheading:iA,list:rH,newline:Qj,paragraph:nA,table:Jc,text:iH},uS=de("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Th).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Id).getRegex(),oH={...Yy,lheading:eH,table:uS,paragraph:de(qy).replace("hr",Th).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",uS).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Id).getRegex()},lH={...Yy,html:de(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Wy).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Jc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:de(qy).replace("hr",Th).replace("heading",` *#{1,6} *[^
]`).replace("lheading",iA).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},cH=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,hH=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,rA=/^( {2,}|\\)\n(?!\s*$)/,uH=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Pd=/[\p{P}\p{S}]/u,Gy=/[\s\p{P}\p{S}]/u,aA=/[^\s\p{P}\p{S}]/u,fH=de(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Gy).getRegex(),sA=/(?!~)[\p{P}\p{S}]/u,dH=/(?!~)[\s\p{P}\p{S}]/u,pH=/(?:[^\s\p{P}\p{S}]|~)/u,gH=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,oA=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,mH=de(oA,"u").replace(/punct/g,Pd).getRegex(),yH=de(oA,"u").replace(/punct/g,sA).getRegex(),lA="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",xH=de(lA,"gu").replace(/notPunctSpace/g,aA).replace(/punctSpace/g,Gy).replace(/punct/g,Pd).getRegex(),bH=de(lA,"gu").replace(/notPunctSpace/g,pH).replace(/punctSpace/g,dH).replace(/punct/g,sA).getRegex(),vH=de("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,aA).replace(/punctSpace/g,Gy).replace(/punct/g,Pd).getRegex(),_H=de(/\\(punct)/,"gu").replace(/punct/g,Pd).getRegex(),SH=de(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),CH=de(Wy).replace("(?:-->|$)","-->").getRegex(),wH=de("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",CH).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),cd=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,kH=de(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",cd).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),cA=de(/^!?\[(label)\]\[(ref)\]/).replace("label",cd).replace("ref",Uy).getRegex(),hA=de(/^!?\[(ref)\](?:\[\])?/).replace("ref",Uy).getRegex(),TH=de("reflink|nolink(?!\\()","g").replace("reflink",cA).replace("nolink",hA).getRegex(),Vy={_backpedal:Jc,anyPunctuation:_H,autolink:SH,blockSkip:gH,br:rA,code:hH,del:Jc,emStrongLDelim:mH,emStrongRDelimAst:xH,emStrongRDelimUnd:vH,escape:cH,link:kH,nolink:hA,punctuation:fH,reflink:cA,reflinkSearch:TH,tag:wH,text:uH,url:Jc},AH={...Vy,link:de(/^!?\[(label)\]\((.*?)\)/).replace("label",cd).getRegex(),reflink:de(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",cd).getRegex()},w0={...Vy,emStrongRDelimAst:bH,emStrongLDelim:yH,url:de(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},MH={...w0,br:de(rA).replace("{2,}","*").getRegex(),text:de(w0.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},nf={normal:Yy,gfm:oH,pedantic:lH},wc={normal:Vy,gfm:w0,breaks:MH,pedantic:AH},EH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fS=e=>EH[e];function fr(e,t){if(t){if(Hi.escapeTest.test(e))return e.replace(Hi.escapeReplace,fS)}else if(Hi.escapeTestNoEncode.test(e))return e.replace(Hi.escapeReplaceNoEncode,fS);return e}function dS(e){try{e=encodeURI(e).replace(Hi.percentDecode,"%")}catch{return null}return e}function pS(e,t){var o;const i=e.replace(Hi.findPipe,(l,c,u)=>{let f=!1,p=c;for(;--p>=0&&u[p]==="\\";)f=!f;return f?"|":" |"}),n=i.split(Hi.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!((o=n.at(-1))!=null&&o.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Hi.slashPipe,"|");return n}function kc(e,t,i){const n=e.length;if(n===0)return"";let r=0;for(;r<n&&e.charAt(n-r-1)===t;)r++;return e.slice(0,n-r)}function BH(e,t){if(e.indexOf(t[1])===-1)return-1;let i=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])i++;else if(e[n]===t[1]&&(i--,i<0))return n;return i>0?-2:-1}function gS(e,t,i,n,r){const o=t.href,l=t.title||null,c=e[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=!0;const u={type:e[0].charAt(0)==="!"?"image":"link",raw:i,href:o,title:l,text:c,tokens:n.inlineTokens(c)};return n.state.inLink=!1,u}function LH(e,t,i){const n=e.match(i.other.indentCodeCompensation);if(n===null)return t;const r=n[1];return t.split(`
`).map(o=>{const l=o.match(i.other.beginningSpace);if(l===null)return o;const[c]=l;return c.length>=r.length?o.slice(r.length):o}).join(`
`)}var hd=class{constructor(e){bt(this,"options");bt(this,"rules");bt(this,"lexer");this.options=e||Ps}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:kc(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],n=LH(i,t[3]||"",this.rules);return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(this.rules.other.endingHash.test(i)){const n=kc(i,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(i=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:kc(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=kc(t[0],`
`).split(`
`),n="",r="";const o=[];for(;i.length>0;){let l=!1;const c=[];let u;for(u=0;u<i.length;u++)if(this.rules.other.blockquoteStart.test(i[u]))c.push(i[u]),l=!0;else if(!l)c.push(i[u]);else break;i=i.slice(u);const f=c.join(`
`),p=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${f}`:f,r=r?`${r}
${p}`:p;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=g,i.length===0)break;const y=o.at(-1);if((y==null?void 0:y.type)==="code")break;if((y==null?void 0:y.type)==="blockquote"){const x=y,v=x.raw+`
`+i.join(`
`),_=this.blockquote(v);o[o.length-1]=_,n=n.substring(0,n.length-x.raw.length)+_.raw,r=r.substring(0,r.length-x.text.length)+_.text;break}else if((y==null?void 0:y.type)==="list"){const x=y,v=x.raw+`
`+i.join(`
`),_=this.list(v);o[o.length-1]=_,n=n.substring(0,n.length-y.raw.length)+_.raw,r=r.substring(0,r.length-x.raw.length)+_.raw,i=v.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const n=i.length>1,r={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=n?i:"[*+-]");const o=this.rules.other.listItemRegex(i);let l=!1;for(;e;){let u=!1,f="",p="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let g=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),y=e.split(`
`,1)[0],x=!g.trim(),v=0;if(this.options.pedantic?(v=2,p=g.trimStart()):x?v=t[1].length+1:(v=t[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,p=g.slice(v),v+=t[1].length),x&&this.rules.other.blankLine.test(y)&&(f+=y+`
`,e=e.substring(y.length+1),u=!0),!u){const w=this.rules.other.nextBulletRegex(v),T=this.rules.other.hrRegex(v),M=this.rules.other.fencesBeginRegex(v),z=this.rules.other.headingBeginRegex(v),D=this.rules.other.htmlBeginRegex(v);for(;e;){const E=e.split(`
`,1)[0];let R;if(y=E,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),R=y):R=y.replace(this.rules.other.tabCharGlobal,"    "),M.test(y)||z.test(y)||D.test(y)||w.test(y)||T.test(y))break;if(R.search(this.rules.other.nonSpaceChar)>=v||!y.trim())p+=`
`+R.slice(v);else{if(x||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||M.test(g)||z.test(g)||T.test(g))break;p+=`
`+y}!x&&!y.trim()&&(x=!0),f+=E+`
`,e=e.substring(E.length+1),g=R.slice(v)}}r.loose||(l?r.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0));let _=null,S;this.options.gfm&&(_=this.rules.other.listIsTask.exec(p),_&&(S=_[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:f,task:!!_,checked:S,loose:!1,text:p,tokens:[]}),r.raw+=f}const c=r.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let u=0;u<r.items.length;u++)if(this.lexer.state.top=!1,r.items[u].tokens=this.lexer.blockTokens(r.items[u].text,[]),!r.loose){const f=r.items[u].tokens.filter(g=>g.type==="space"),p=f.length>0&&f.some(g=>this.rules.other.anyLine.test(g.raw));r.loose=p}if(r.loose)for(let u=0;u<r.items.length;u++)r.items[u].loose=!0;return r}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:n,title:r}}}table(e){var l;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const i=pS(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(l=t[3])!=null&&l.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===n.length){for(const c of n)this.rules.other.tableAlignRight.test(c)?o.align.push("right"):this.rules.other.tableAlignCenter.test(c)?o.align.push("center"):this.rules.other.tableAlignLeft.test(c)?o.align.push("left"):o.align.push(null);for(let c=0;c<i.length;c++)o.header.push({text:i[c],tokens:this.lexer.inline(i[c]),header:!0,align:o.align[c]});for(const c of r)o.rows.push(pS(c,o.header.length).map((u,f)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[f]})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;const o=kc(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=BH(t[2],"()");if(o===-2)return;if(o>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(n);o&&(n=o[1],r=o[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?n=n.slice(1):n=n.slice(1,-1)),gS(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const n=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[n.toLowerCase()];if(!r){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return gS(i,r,i[0],this.lexer,this.rules)}}emStrong(e,t,i=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&i.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const o=[...n[0]].length-1;let l,c,u=o,f=0;const p=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+o);(n=p.exec(t))!=null;){if(l=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!l)continue;if(c=[...l].length,n[3]||n[4]){u+=c;continue}else if((n[5]||n[6])&&o%3&&!((o+c)%3)){f+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+f);const g=[...n[0]][0].length,y=e.slice(0,o+n.index+g+c);if(Math.min(o,c)%2){const v=y.slice(1,-1);return{type:"em",raw:y,text:v,tokens:this.lexer.inlineTokens(v)}}const x=y.slice(2,-2);return{type:"strong",raw:y,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(i),r=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return n&&r&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,n;return t[2]==="@"?(i=t[1],n="mailto:"+i):(i=t[1],n=i),{type:"link",raw:t[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let o;do o=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(o!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const i=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:i}}}},Vr=class k0{constructor(t){bt(this,"tokens");bt(this,"options");bt(this,"state");bt(this,"tokenizer");bt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ps,this.options.tokenizer=this.options.tokenizer||new hd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={other:Hi,block:nf.normal,inline:wc.normal};this.options.pedantic?(i.block=nf.pedantic,i.inline=wc.pedantic):this.options.gfm&&(i.block=nf.gfm,this.options.breaks?i.inline=wc.breaks:i.inline=wc.gfm),this.tokenizer.rules=i}static get rules(){return{block:nf,inline:wc}}static lex(t,i){return new k0(i).lex(t)}static lexInline(t,i){return new k0(i).inlineTokens(t)}lex(t){t=t.replace(Hi.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const n=this.inlineQueue[i];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,i=[],n=!1){var r,o,l;for(this.options.pedantic&&(t=t.replace(Hi.tabCharGlobal,"    ").replace(Hi.spaceLine,""));t;){let c;if((o=(r=this.options.extensions)==null?void 0:r.block)!=null&&o.some(f=>(c=f.call({lexer:this},t,i))?(t=t.substring(c.raw.length),i.push(c),!0):!1))continue;if(c=this.tokenizer.space(t)){t=t.substring(c.raw.length);const f=i.at(-1);c.raw.length===1&&f!==void 0?f.raw+=`
`:i.push(c);continue}if(c=this.tokenizer.code(t)){t=t.substring(c.raw.length);const f=i.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+c.raw,f.text+=`
`+c.text,this.inlineQueue.at(-1).src=f.text):i.push(c);continue}if(c=this.tokenizer.fences(t)){t=t.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.heading(t)){t=t.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.hr(t)){t=t.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.blockquote(t)){t=t.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.list(t)){t=t.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.html(t)){t=t.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.def(t)){t=t.substring(c.raw.length);const f=i.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+c.raw,f.text+=`
`+c.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title});continue}if(c=this.tokenizer.table(t)){t=t.substring(c.raw.length),i.push(c);continue}if(c=this.tokenizer.lheading(t)){t=t.substring(c.raw.length),i.push(c);continue}let u=t;if((l=this.options.extensions)!=null&&l.startBlock){let f=1/0;const p=t.slice(1);let g;this.options.extensions.startBlock.forEach(y=>{g=y.call({lexer:this},p),typeof g=="number"&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(u=t.substring(0,f+1))}if(this.state.top&&(c=this.tokenizer.paragraph(u))){const f=i.at(-1);n&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+c.raw,f.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):i.push(c),n=u.length!==t.length,t=t.substring(c.raw.length);continue}if(c=this.tokenizer.text(t)){t=t.substring(c.raw.length);const f=i.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=`
`+c.raw,f.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):i.push(c);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,i}inline(t,i=[]){return this.inlineQueue.push({src:t,tokens:i}),i}inlineTokens(t,i=[]){var c,u,f;let n=t,r=null;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)p.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,l="";for(;t;){o||(l=""),o=!1;let p;if((u=(c=this.options.extensions)==null?void 0:c.inline)!=null&&u.some(y=>(p=y.call({lexer:this},t,i))?(t=t.substring(p.raw.length),i.push(p),!0):!1))continue;if(p=this.tokenizer.escape(t)){t=t.substring(p.raw.length),i.push(p);continue}if(p=this.tokenizer.tag(t)){t=t.substring(p.raw.length),i.push(p);continue}if(p=this.tokenizer.link(t)){t=t.substring(p.raw.length),i.push(p);continue}if(p=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(p.raw.length);const y=i.at(-1);p.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=p.raw,y.text+=p.text):i.push(p);continue}if(p=this.tokenizer.emStrong(t,n,l)){t=t.substring(p.raw.length),i.push(p);continue}if(p=this.tokenizer.codespan(t)){t=t.substring(p.raw.length),i.push(p);continue}if(p=this.tokenizer.br(t)){t=t.substring(p.raw.length),i.push(p);continue}if(p=this.tokenizer.del(t)){t=t.substring(p.raw.length),i.push(p);continue}if(p=this.tokenizer.autolink(t)){t=t.substring(p.raw.length),i.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(t))){t=t.substring(p.raw.length),i.push(p);continue}let g=t;if((f=this.options.extensions)!=null&&f.startInline){let y=1/0;const x=t.slice(1);let v;this.options.extensions.startInline.forEach(_=>{v=_.call({lexer:this},x),typeof v=="number"&&v>=0&&(y=Math.min(y,v))}),y<1/0&&y>=0&&(g=t.substring(0,y+1))}if(p=this.tokenizer.inlineText(g)){t=t.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(l=p.raw.slice(-1)),o=!0;const y=i.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=p.raw,y.text+=p.text):i.push(p);continue}if(t){const y="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return i}},ud=class{constructor(e){bt(this,"options");bt(this,"parser");this.options=e||Ps}space(e){return""}code({text:e,lang:t,escaped:i}){var o;const n=(o=(t||"").match(Hi.notSpaceStart))==null?void 0:o[0],r=e.replace(Hi.endingNewline,"")+`
`;return n?'<pre><code class="language-'+fr(n)+'">'+(i?r:fr(r,!0))+`</code></pre>
`:"<pre><code>"+(i?r:fr(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,i=e.start;let n="";for(let l=0;l<e.items.length;l++){const c=e.items[l];n+=this.listitem(c)}const r=t?"ol":"ul",o=t&&i!==1?' start="'+i+'"':"";return"<"+r+o+`>
`+n+"</"+r+`>
`}listitem(e){var i;let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?((i=e.tokens[0])==null?void 0:i.type)==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+fr(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let r=0;r<e.header.length;r++)i+=this.tablecell(e.header[r]);t+=this.tablerow({text:i});let n="";for(let r=0;r<e.rows.length;r++){const o=e.rows[r];i="";for(let l=0;l<o.length;l++)i+=this.tablecell(o[l]);n+=this.tablerow({text:i})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${fr(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){const n=this.parser.parseInline(i),r=dS(e);if(r===null)return n;e=r;let o='<a href="'+e+'"';return t&&(o+=' title="'+fr(t)+'"'),o+=">"+n+"</a>",o}image({href:e,title:t,text:i,tokens:n}){n&&(i=this.parser.parseInline(n,this.parser.textRenderer));const r=dS(e);if(r===null)return fr(i);e=r;let o=`<img src="${e}" alt="${i}"`;return t&&(o+=` title="${fr(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:fr(e.text)}},Xy=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Xr=class T0{constructor(t){bt(this,"options");bt(this,"renderer");bt(this,"textRenderer");this.options=t||Ps,this.options.renderer=this.options.renderer||new ud,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Xy}static parse(t,i){return new T0(i).parse(t)}static parseInline(t,i){return new T0(i).parseInline(t)}parse(t,i=!0){var r,o;let n="";for(let l=0;l<t.length;l++){const c=t[l];if((o=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&o[c.type]){const f=c,p=this.options.extensions.renderers[f.type].call({parser:this},f);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){n+=p||"";continue}}const u=c;switch(u.type){case"space":{n+=this.renderer.space(u);continue}case"hr":{n+=this.renderer.hr(u);continue}case"heading":{n+=this.renderer.heading(u);continue}case"code":{n+=this.renderer.code(u);continue}case"table":{n+=this.renderer.table(u);continue}case"blockquote":{n+=this.renderer.blockquote(u);continue}case"list":{n+=this.renderer.list(u);continue}case"html":{n+=this.renderer.html(u);continue}case"paragraph":{n+=this.renderer.paragraph(u);continue}case"text":{let f=u,p=this.renderer.text(f);for(;l+1<t.length&&t[l+1].type==="text";)f=t[++l],p+=`
`+this.renderer.text(f);i?n+=this.renderer.paragraph({type:"paragraph",raw:p,text:p,tokens:[{type:"text",raw:p,text:p,escaped:!0}]}):n+=p;continue}default:{const f='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return n}parseInline(t,i=this.renderer){var r,o;let n="";for(let l=0;l<t.length;l++){const c=t[l];if((o=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&o[c.type]){const f=this.options.extensions.renderers[c.type].call({parser:this},c);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){n+=f||"";continue}}const u=c;switch(u.type){case"escape":{n+=i.text(u);break}case"html":{n+=i.html(u);break}case"link":{n+=i.link(u);break}case"image":{n+=i.image(u);break}case"strong":{n+=i.strong(u);break}case"em":{n+=i.em(u);break}case"codespan":{n+=i.codespan(u);break}case"br":{n+=i.br(u);break}case"del":{n+=i.del(u);break}case"text":{n+=i.text(u);break}default:{const f='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return n}},Dm,Cf=(Dm=class{constructor(e){bt(this,"options");bt(this,"block");this.options=e||Ps}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Vr.lex:Vr.lexInline}provideParser(){return this.block?Xr.parse:Xr.parseInline}},bt(Dm,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Dm),DH=class{constructor(...e){bt(this,"defaults",Iy());bt(this,"options",this.setOptions);bt(this,"parse",this.parseMarkdown(!0));bt(this,"parseInline",this.parseMarkdown(!1));bt(this,"Parser",Xr);bt(this,"Renderer",ud);bt(this,"TextRenderer",Xy);bt(this,"Lexer",Vr);bt(this,"Tokenizer",hd);bt(this,"Hooks",Cf);this.use(...e)}walkTokens(e,t){var n,r;let i=[];for(const o of e)switch(i=i.concat(t.call(this,o)),o.type){case"table":{const l=o;for(const c of l.header)i=i.concat(this.walkTokens(c.tokens,t));for(const c of l.rows)for(const u of c)i=i.concat(this.walkTokens(u.tokens,t));break}case"list":{const l=o;i=i.concat(this.walkTokens(l.items,t));break}default:{const l=o;(r=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&r[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const u=l[c].flat(1/0);i=i.concat(this.walkTokens(u,t))}):l.tokens&&(i=i.concat(this.walkTokens(l.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const n={...i};if(n.async=this.defaults.async||n.async||!1,i.extensions&&(i.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){const o=t.renderers[r.name];o?t.renderers[r.name]=function(...l){let c=r.renderer.apply(this,l);return c===!1&&(c=o.apply(this,l)),c}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[r.level];o?o.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),n.extensions=t),i.renderer){const r=this.defaults.renderer||new ud(this.defaults);for(const o in i.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=o,c=i.renderer[l],u=r[l];r[l]=(...f)=>{let p=c.apply(r,f);return p===!1&&(p=u.apply(r,f)),p||""}}n.renderer=r}if(i.tokenizer){const r=this.defaults.tokenizer||new hd(this.defaults);for(const o in i.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,c=i.tokenizer[l],u=r[l];r[l]=(...f)=>{let p=c.apply(r,f);return p===!1&&(p=u.apply(r,f)),p}}n.tokenizer=r}if(i.hooks){const r=this.defaults.hooks||new Cf;for(const o in i.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const l=o,c=i.hooks[l],u=r[l];Cf.passThroughHooks.has(o)?r[l]=f=>{if(this.defaults.async)return Promise.resolve(c.call(r,f)).then(g=>u.call(r,g));const p=c.call(r,f);return u.call(r,p)}:r[l]=(...f)=>{let p=c.apply(r,f);return p===!1&&(p=u.apply(r,f)),p}}n.hooks=r}if(i.walkTokens){const r=this.defaults.walkTokens,o=i.walkTokens;n.walkTokens=function(l){let c=[];return c.push(o.call(this,l)),r&&(c=c.concat(r.call(this,l))),c}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Vr.lex(e,t??this.defaults)}parser(e,t){return Xr.parse(e,t??this.defaults)}parseMarkdown(e){return(i,n)=>{const r={...n},o={...this.defaults,...r},l=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const c=o.hooks?o.hooks.provideLexer():e?Vr.lex:Vr.lexInline,u=o.hooks?o.hooks.provideParser():e?Xr.parse:Xr.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(f=>c(f,o)).then(f=>o.hooks?o.hooks.processAllTokens(f):f).then(f=>o.walkTokens?Promise.all(this.walkTokens(f,o.walkTokens)).then(()=>f):f).then(f=>u(f,o)).then(f=>o.hooks?o.hooks.postprocess(f):f).catch(l);try{o.hooks&&(i=o.hooks.preprocess(i));let f=c(i,o);o.hooks&&(f=o.hooks.processAllTokens(f)),o.walkTokens&&this.walkTokens(f,o.walkTokens);let p=u(f,o);return o.hooks&&(p=o.hooks.postprocess(p)),p}catch(f){return l(f)}}}onError(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const n="<p>An error occurred:</p><pre>"+fr(i.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(i);throw i}}},Rs=new DH;function fe(e,t){return Rs.parse(e,t)}fe.options=fe.setOptions=function(e){return Rs.setOptions(e),fe.defaults=Rs.defaults,tA(fe.defaults),fe};fe.getDefaults=Iy;fe.defaults=Ps;fe.use=function(...e){return Rs.use(...e),fe.defaults=Rs.defaults,tA(fe.defaults),fe};fe.walkTokens=function(e,t){return Rs.walkTokens(e,t)};fe.parseInline=Rs.parseInline;fe.Parser=Xr;fe.parser=Xr.parse;fe.Renderer=ud;fe.TextRenderer=Xy;fe.Lexer=Vr;fe.lexer=Vr.lex;fe.Tokenizer=hd;fe.Hooks=Cf;fe.parse=fe;fe.options;fe.setOptions;fe.use;fe.walkTokens;fe.parseInline;Xr.parse;Vr.lex;function uA(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var r=n.reduce(function(c,u){var f=u.match(/\n([\t ]+|(?!\s).)/g);return f?c.concat(f.map(function(p){var g,y;return(y=(g=p.match(/[\t ]/g))===null||g===void 0?void 0:g.length)!==null&&y!==void 0?y:0})):c},[]);if(r.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,r)+"}","g");n=n.map(function(c){return c.replace(o,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var l=n[0];return t.forEach(function(c,u){var f=l.match(/(?:^|\n)( *)$/),p=f?f[1]:"",g=c;typeof c=="string"&&c.includes(`
`)&&(g=String(c).split(`
`).map(function(y,x){return x===0?y:""+p+y}).join(`
`)),l+=g+n[u+1]}),l}var OH={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},A0=new Map,fA=new Map,RH=C(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ct.debug("Registering icon pack:",t.name),"loader"in t)fA.set(t.name,t.loader);else if("icons"in t)A0.set(t.name,t.icons);else throw ct.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),dA=C(async(e,t)=>{const i=zj(e,!0,t!==void 0);if(!i)throw new Error(`Invalid icon name: ${e}`);const n=i.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let r=A0.get(n);if(!r){const l=fA.get(n);if(!l)throw new Error(`Icon set not found: ${i.prefix}`);try{r={...await l(),prefix:n},A0.set(n,r)}catch(c){throw ct.error(c),new Error(`Failed to load icon set: ${i.prefix}`)}}const o=$j(r,i.name);if(!o)throw new Error(`Icon not found: ${e}`);return o},"getRegisteredIconData"),zH=C(async e=>{try{return await dA(e),!0}catch{return!1}},"isIconAvailable"),Ah=C(async(e,t,i)=>{let n;try{n=await dA(e,t==null?void 0:t.fallbackPrefix)}catch(l){ct.error(l),n=OH}const r=Wj(n,t);return Zj(Xj(r.body),{...r.attributes,...i})},"getIconSVG");function pA(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),r=uA(n);return t===!1?r.replace(/ /g,"&nbsp;"):r}C(pA,"preprocessMarkdown");function gA(e,t={}){const i=pA(e,t),n=fe.lexer(i),r=[[]];let o=0;function l(c,u="normal"){c.type==="text"?c.text.split(`
`).forEach((p,g)=>{g!==0&&(o++,r.push([])),p.split(" ").forEach(y=>{y=y.replace(/&#39;/g,"'"),y&&r[o].push({content:y,type:u})})}):c.type==="strong"||c.type==="em"?c.tokens.forEach(f=>{l(f,c.type)}):c.type==="html"&&r[o].push({content:c.text,type:"normal"})}return C(l,"processNode"),n.forEach(c=>{var u;c.type==="paragraph"?(u=c.tokens)==null||u.forEach(f=>{l(f)}):c.type==="html"&&r[o].push({content:c.text,type:"normal"})}),r}C(gA,"markdownToLines");function mA(e,{markdownAutoWrap:t}={}){const i=fe.lexer(e);function n(r){var o,l,c;return r.type==="text"?t===!1?r.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):r.text.replace(/\n */g,"<br/>"):r.type==="strong"?`<strong>${(o=r.tokens)==null?void 0:o.map(n).join("")}</strong>`:r.type==="em"?`<em>${(l=r.tokens)==null?void 0:l.map(n).join("")}</em>`:r.type==="paragraph"?`<p>${(c=r.tokens)==null?void 0:c.map(n).join("")}</p>`:r.type==="space"?"":r.type==="html"?`${r.text}`:r.type==="escape"?r.text:`Unsupported markdown: ${r.type}`}return C(n,"output"),i.map(n).join("")}C(mA,"markdownToHTML");function yA(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}C(yA,"splitTextToChars");function xA(e,t){const i=yA(t.content);return Zy(e,[],i,t.type)}C(xA,"splitWordToFitWidth");function Zy(e,t,i,n){if(i.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[r,...o]=i,l=[...t,r];return e([{content:l.join(""),type:n}])?Zy(e,l,o,n):(t.length===0&&r&&(t.push(r),i.shift()),[{content:t.join(""),type:n},{content:i.join(""),type:n}])}C(Zy,"splitWordToFitWidthRecursion");function bA(e,t){if(e.some(({content:i})=>i.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return fd(e,t)}C(bA,"splitLineToFitWidth");function fd(e,t,i=[],n=[]){if(e.length===0)return n.length>0&&i.push(n),i.length>0?i:[];let r="";e[0].content===" "&&(r=" ",e.shift());const o=e.shift()??{content:" ",type:"normal"},l=[...n];if(r!==""&&l.push({content:r,type:"normal"}),l.push(o),t(l))return fd(e,t,i,l);if(n.length>0)i.push(n),e.unshift(o);else if(o.content){const[c,u]=xA(t,o);i.push([c]),u.content&&e.unshift(u)}return fd(e,t,i)}C(fd,"splitLineToFitWidthRecursion");function M0(e,t){t&&e.attr("style",t)}C(M0,"applyStyle");async function vA(e,t,i,n,r=!1){const o=e.append("foreignObject");o.attr("width",`${10*i}px`),o.attr("height",`${10*i}px`);const l=o.append("xhtml:div");let c=t.label;t.label&&el(t.label)&&(c=await sy(t.label.replace(hl.lineBreakRegex,`
`),he()));const u=t.isNode?"nodeLabel":"edgeLabel",f=l.append("span");f.html(c),M0(f,t.labelStyle),f.attr("class",`${u} ${n}`),M0(l,t.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("line-height","1.5"),l.style("max-width",i+"px"),l.style("text-align","center"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),r&&l.attr("class","labelBkg");let p=l.node().getBoundingClientRect();return p.width===i&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",i+"px"),p=l.node().getBoundingClientRect()),o.node()}C(vA,"addHtmlSpan");function qd(e,t,i){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*i-.1+"em").attr("dy",i+"em")}C(qd,"createTspan");function _A(e,t,i){const n=e.append("text"),r=qd(n,1,t);Ud(r,i);const o=r.node().getComputedTextLength();return n.remove(),o}C(_A,"computeWidthOfText");function NH(e,t,i){var l;const n=e.append("text"),r=qd(n,1,t);Ud(r,[{content:i,type:"normal"}]);const o=(l=r.node())==null?void 0:l.getBoundingClientRect();return o&&n.remove(),o}C(NH,"computeDimensionOfText");function SA(e,t,i,n=!1){const o=t.append("g"),l=o.insert("rect").attr("class","background").attr("style","stroke: none"),c=o.append("text").attr("y","-10.1");let u=0;for(const f of i){const p=C(y=>_A(o,1.1,y)<=e,"checkWidth"),g=p(f)?[f]:bA(f,p);for(const y of g){const x=qd(c,u,1.1);Ud(x,y),u++}}if(n){const f=c.node().getBBox(),p=2;return l.attr("x",f.x-p).attr("y",f.y-p).attr("width",f.width+2*p).attr("height",f.height+2*p),o.node()}else return c.node()}C(SA,"createFormattedText");function Ud(e,t){e.text(""),t.forEach((i,n)=>{const r=e.append("tspan").attr("font-style",i.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",i.type==="strong"?"bold":"normal");n===0?r.text(i.content):r.text(" "+i.content)})}C(Ud,"updateTextContentAndStyles");async function CA(e){const t=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,r,o)=>(t.push((async()=>{const l=`${r}:${o}`;return await zH(l)?await Ah(l,void 0,{class:"label-icon"}):`<i class='${Ad(n).replace(":"," ")}'></i>`})()),n));const i=await Promise.all(t);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}C(CA,"replaceIconSubstring");var qa=C(async(e,t="",{style:i="",isTitle:n=!1,classes:r="",useHtmlLabels:o=!0,isNode:l=!0,width:c=200,addSvgBackground:u=!1}={},f)=>{if(ct.debug("XYZ createText",t,i,n,r,o,l,"addSvgBackground: ",u),o){const p=mA(t,f),g=await CA(Is(p)),y=t.replace(/\\\\/g,"\\"),x={isNode:l,label:el(t)?y:g,labelStyle:i.replace("fill:","color:")};return await vA(e,x,c,r,u)}else{const p=t.replace(/<br\s*\/?>/g,"<br/>"),g=gA(p.replace("<br>","<br/>"),f),y=SA(c,e,g,t?u:!1);if(l){/stroke:/.exec(i)&&(i=i.replace("stroke:","lineColor:"));const x=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");ee(y).attr("style",x)}else{const x=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");ee(y).select("rect").attr("style",x.replace(/background:/g,"fill:"));const v=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");ee(y).select("text").attr("style",v)}return y}},"createText");function wm(e,t,i){if(e&&e.length){const[n,r]=t,o=Math.PI/180*i,l=Math.cos(o),c=Math.sin(o);for(const u of e){const[f,p]=u;u[0]=(f-n)*l-(p-r)*c+n,u[1]=(f-n)*c+(p-r)*l+r}}}function FH(e,t){return e[0]===t[0]&&e[1]===t[1]}function $H(e,t,i,n=1){const r=i,o=Math.max(t,.1),l=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,c=[0,0];if(r)for(const f of l)wm(f,c,r);const u=function(f,p,g){const y=[];for(const T of f){const M=[...T];FH(M[0],M[M.length-1])||M.push([M[0][0],M[0][1]]),M.length>2&&y.push(M)}const x=[];p=Math.max(p,.1);const v=[];for(const T of y)for(let M=0;M<T.length-1;M++){const z=T[M],D=T[M+1];if(z[1]!==D[1]){const E=Math.min(z[1],D[1]);v.push({ymin:E,ymax:Math.max(z[1],D[1]),x:E===z[1]?z[0]:D[0],islope:(D[0]-z[0])/(D[1]-z[1])})}}if(v.sort((T,M)=>T.ymin<M.ymin?-1:T.ymin>M.ymin?1:T.x<M.x?-1:T.x>M.x?1:T.ymax===M.ymax?0:(T.ymax-M.ymax)/Math.abs(T.ymax-M.ymax)),!v.length)return x;let _=[],S=v[0].ymin,w=0;for(;_.length||v.length;){if(v.length){let T=-1;for(let M=0;M<v.length&&!(v[M].ymin>S);M++)T=M;v.splice(0,T+1).forEach(M=>{_.push({s:S,edge:M})})}if(_=_.filter(T=>!(T.edge.ymax<=S)),_.sort((T,M)=>T.edge.x===M.edge.x?0:(T.edge.x-M.edge.x)/Math.abs(T.edge.x-M.edge.x)),(g!==1||w%p==0)&&_.length>1)for(let T=0;T<_.length;T+=2){const M=T+1;if(M>=_.length)break;const z=_[T].edge,D=_[M].edge;x.push([[Math.round(z.x),S],[Math.round(D.x),S]])}S+=g,_.forEach(T=>{T.edge.x=T.edge.x+g*T.edge.islope}),w++}return x}(l,o,n);if(r){for(const f of l)wm(f,c,-r);(function(f,p,g){const y=[];f.forEach(x=>y.push(...x)),wm(y,p,g)})(u,c,-r)}return u}function Mh(e,t){var i;const n=t.hachureAngle+90;let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.round(Math.max(r,.1));let o=1;return t.roughness>=1&&(((i=t.randomizer)===null||i===void 0?void 0:i.next())||Math.random())>.7&&(o=r),$H(e,r,n,o||1)}class Qy{constructor(t){this.helper=t}fillPolygons(t,i){return this._fillPolygons(t,i)}_fillPolygons(t,i){const n=Mh(t,i);return{type:"fillSketch",ops:this.renderLines(n,i)}}renderLines(t,i){const n=[];for(const r of t)n.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],i));return n}}function Wd(e){const t=e[0],i=e[1];return Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2))}class jH extends Qy{fillPolygons(t,i){let n=i.hachureGap;n<0&&(n=4*i.strokeWidth),n=Math.max(n,.1);const r=Mh(t,Object.assign({},i,{hachureGap:n})),o=Math.PI/180*i.hachureAngle,l=[],c=.5*n*Math.cos(o),u=.5*n*Math.sin(o);for(const[f,p]of r)Wd([f,p])&&l.push([[f[0]-c,f[1]+u],[...p]],[[f[0]+c,f[1]-u],[...p]]);return{type:"fillSketch",ops:this.renderLines(l,i)}}}class HH extends Qy{fillPolygons(t,i){const n=this._fillPolygons(t,i),r=Object.assign({},i,{hachureAngle:i.hachureAngle+90}),o=this._fillPolygons(t,r);return n.ops=n.ops.concat(o.ops),n}}class IH{constructor(t){this.helper=t}fillPolygons(t,i){const n=Mh(t,i=Object.assign({},i,{hachureAngle:0}));return this.dotsOnLines(n,i)}dotsOnLines(t,i){const n=[];let r=i.hachureGap;r<0&&(r=4*i.strokeWidth),r=Math.max(r,.1);let o=i.fillWeight;o<0&&(o=i.strokeWidth/2);const l=r/4;for(const c of t){const u=Wd(c),f=u/r,p=Math.ceil(f)-1,g=u-p*r,y=(c[0][0]+c[1][0])/2-r/4,x=Math.min(c[0][1],c[1][1]);for(let v=0;v<p;v++){const _=x+g+v*r,S=y-l+2*Math.random()*l,w=_-l+2*Math.random()*l,T=this.helper.ellipse(S,w,o,o,i);n.push(...T.ops)}}return{type:"fillSketch",ops:n}}}class PH{constructor(t){this.helper=t}fillPolygons(t,i){const n=Mh(t,i);return{type:"fillSketch",ops:this.dashedLine(n,i)}}dashedLine(t,i){const n=i.dashOffset<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashOffset,r=i.dashGap<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashGap,o=[];return t.forEach(l=>{const c=Wd(l),u=Math.floor(c/(n+r)),f=(c+r-u*(n+r))/2;let p=l[0],g=l[1];p[0]>g[0]&&(p=l[1],g=l[0]);const y=Math.atan((g[1]-p[1])/(g[0]-p[0]));for(let x=0;x<u;x++){const v=x*(n+r),_=v+n,S=[p[0]+v*Math.cos(y)+f*Math.cos(y),p[1]+v*Math.sin(y)+f*Math.sin(y)],w=[p[0]+_*Math.cos(y)+f*Math.cos(y),p[1]+_*Math.sin(y)+f*Math.sin(y)];o.push(...this.helper.doubleLineOps(S[0],S[1],w[0],w[1],i))}}),o}}class qH{constructor(t){this.helper=t}fillPolygons(t,i){const n=i.hachureGap<0?4*i.strokeWidth:i.hachureGap,r=i.zigzagOffset<0?n:i.zigzagOffset,o=Mh(t,i=Object.assign({},i,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(o,r,i)}}zigzagLines(t,i,n){const r=[];return t.forEach(o=>{const l=Wd(o),c=Math.round(l/(2*i));let u=o[0],f=o[1];u[0]>f[0]&&(u=o[1],f=o[0]);const p=Math.atan((f[1]-u[1])/(f[0]-u[0]));for(let g=0;g<c;g++){const y=2*g*i,x=2*(g+1)*i,v=Math.sqrt(2*Math.pow(i,2)),_=[u[0]+y*Math.cos(p),u[1]+y*Math.sin(p)],S=[u[0]+x*Math.cos(p),u[1]+x*Math.sin(p)],w=[_[0]+v*Math.cos(p+Math.PI/4),_[1]+v*Math.sin(p+Math.PI/4)];r.push(...this.helper.doubleLineOps(_[0],_[1],w[0],w[1],n),...this.helper.doubleLineOps(w[0],w[1],S[0],S[1],n))}}),r}}const Xi={};class UH{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const WH=0,km=1,mS=2,rf={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Tm(e,t){return e.type===t}function Ky(e){const t=[],i=function(l){const c=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:WH,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:km,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return c[c.length]={type:mS,text:""},c}(e);let n="BOD",r=0,o=i[r];for(;!Tm(o,mS);){let l=0;const c=[];if(n==="BOD"){if(o.text!=="M"&&o.text!=="m")return Ky("M0,0"+e);r++,l=rf[o.text],n=o.text}else Tm(o,km)?l=rf[n]:(r++,l=rf[o.text],n=o.text);if(!(r+l<i.length))throw new Error("Path data ended short");for(let u=r;u<r+l;u++){const f=i[u];if(!Tm(f,km))throw new Error("Param not a number: "+n+","+f.text);c[c.length]=+f.text}if(typeof rf[n]!="number")throw new Error("Bad segment: "+n);{const u={key:n,data:c};t.push(u),r+=l,o=i[r],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function wA(e){let t=0,i=0,n=0,r=0;const o=[];for(const{key:l,data:c}of e)switch(l){case"M":o.push({key:"M",data:[...c]}),[t,i]=c,[n,r]=c;break;case"m":t+=c[0],i+=c[1],o.push({key:"M",data:[t,i]}),n=t,r=i;break;case"L":o.push({key:"L",data:[...c]}),[t,i]=c;break;case"l":t+=c[0],i+=c[1],o.push({key:"L",data:[t,i]});break;case"C":o.push({key:"C",data:[...c]}),t=c[4],i=c[5];break;case"c":{const u=c.map((f,p)=>p%2?f+i:f+t);o.push({key:"C",data:u}),t=u[4],i=u[5];break}case"Q":o.push({key:"Q",data:[...c]}),t=c[2],i=c[3];break;case"q":{const u=c.map((f,p)=>p%2?f+i:f+t);o.push({key:"Q",data:u}),t=u[2],i=u[3];break}case"A":o.push({key:"A",data:[...c]}),t=c[5],i=c[6];break;case"a":t+=c[5],i+=c[6],o.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],t,i]});break;case"H":o.push({key:"H",data:[...c]}),t=c[0];break;case"h":t+=c[0],o.push({key:"H",data:[t]});break;case"V":o.push({key:"V",data:[...c]}),i=c[0];break;case"v":i+=c[0],o.push({key:"V",data:[i]});break;case"S":o.push({key:"S",data:[...c]}),t=c[2],i=c[3];break;case"s":{const u=c.map((f,p)=>p%2?f+i:f+t);o.push({key:"S",data:u}),t=u[2],i=u[3];break}case"T":o.push({key:"T",data:[...c]}),t=c[0],i=c[1];break;case"t":t+=c[0],i+=c[1],o.push({key:"T",data:[t,i]});break;case"Z":case"z":o.push({key:"Z",data:[]}),t=n,i=r}return o}function kA(e){const t=[];let i="",n=0,r=0,o=0,l=0,c=0,u=0;for(const{key:f,data:p}of e){switch(f){case"M":t.push({key:"M",data:[...p]}),[n,r]=p,[o,l]=p;break;case"C":t.push({key:"C",data:[...p]}),n=p[4],r=p[5],c=p[2],u=p[3];break;case"L":t.push({key:"L",data:[...p]}),[n,r]=p;break;case"H":n=p[0],t.push({key:"L",data:[n,r]});break;case"V":r=p[0],t.push({key:"L",data:[n,r]});break;case"S":{let g=0,y=0;i==="C"||i==="S"?(g=n+(n-c),y=r+(r-u)):(g=n,y=r),t.push({key:"C",data:[g,y,...p]}),c=p[0],u=p[1],n=p[2],r=p[3];break}case"T":{const[g,y]=p;let x=0,v=0;i==="Q"||i==="T"?(x=n+(n-c),v=r+(r-u)):(x=n,v=r);const _=n+2*(x-n)/3,S=r+2*(v-r)/3,w=g+2*(x-g)/3,T=y+2*(v-y)/3;t.push({key:"C",data:[_,S,w,T,g,y]}),c=x,u=v,n=g,r=y;break}case"Q":{const[g,y,x,v]=p,_=n+2*(g-n)/3,S=r+2*(y-r)/3,w=x+2*(g-x)/3,T=v+2*(y-v)/3;t.push({key:"C",data:[_,S,w,T,x,v]}),c=g,u=y,n=x,r=v;break}case"A":{const g=Math.abs(p[0]),y=Math.abs(p[1]),x=p[2],v=p[3],_=p[4],S=p[5],w=p[6];g===0||y===0?(t.push({key:"C",data:[n,r,S,w,S,w]}),n=S,r=w):(n!==S||r!==w)&&(TA(n,r,S,w,g,y,x,v,_).forEach(function(T){t.push({key:"C",data:T})}),n=S,r=w);break}case"Z":t.push({key:"Z",data:[]}),n=o,r=l}i=f}return t}function Tc(e,t,i){return[e*Math.cos(i)-t*Math.sin(i),e*Math.sin(i)+t*Math.cos(i)]}function TA(e,t,i,n,r,o,l,c,u,f){const p=(g=l,Math.PI*g/180);var g;let y=[],x=0,v=0,_=0,S=0;if(f)[x,v,_,S]=f;else{[e,t]=Tc(e,t,-p),[i,n]=Tc(i,n,-p);const et=(e-i)/2,G=(t-n)/2;let q=et*et/(r*r)+G*G/(o*o);q>1&&(q=Math.sqrt(q),r*=q,o*=q);const L=r*r,F=o*o,j=L*F-L*G*G-F*et*et,ut=L*G*G+F*et*et,O=(c===u?-1:1)*Math.sqrt(Math.abs(j/ut));_=O*r*G/o+(e+i)/2,S=O*-o*et/r+(t+n)/2,x=Math.asin(parseFloat(((t-S)/o).toFixed(9))),v=Math.asin(parseFloat(((n-S)/o).toFixed(9))),e<_&&(x=Math.PI-x),i<_&&(v=Math.PI-v),x<0&&(x=2*Math.PI+x),v<0&&(v=2*Math.PI+v),u&&x>v&&(x-=2*Math.PI),!u&&v>x&&(v-=2*Math.PI)}let w=v-x;if(Math.abs(w)>120*Math.PI/180){const et=v,G=i,q=n;v=u&&v>x?x+120*Math.PI/180*1:x+120*Math.PI/180*-1,y=TA(i=_+r*Math.cos(v),n=S+o*Math.sin(v),G,q,r,o,l,0,u,[v,et,_,S])}w=v-x;const T=Math.cos(x),M=Math.sin(x),z=Math.cos(v),D=Math.sin(v),E=Math.tan(w/4),R=4/3*r*E,I=4/3*o*E,J=[e,t],K=[e+R*M,t-I*T],P=[i+R*D,n-I*z],it=[i,n];if(K[0]=2*J[0]-K[0],K[1]=2*J[1]-K[1],f)return[K,P,it].concat(y);{y=[K,P,it].concat(y);const et=[];for(let G=0;G<y.length;G+=3){const q=Tc(y[G][0],y[G][1],p),L=Tc(y[G+1][0],y[G+1][1],p),F=Tc(y[G+2][0],y[G+2][1],p);et.push([q[0],q[1],L[0],L[1],F[0],F[1]])}return et}}const YH={randOffset:function(e,t){return jt(e,t)},randOffsetWithRange:function(e,t,i){return dd(e,t,i)},ellipse:function(e,t,i,n,r){const o=MA(i,n,r);return E0(e,t,r,o).opset},doubleLineOps:function(e,t,i,n,r){return Ha(e,t,i,n,r,!0)}};function AA(e,t,i,n,r){return{type:"path",ops:Ha(e,t,i,n,r)}}function wf(e,t,i){const n=(e||[]).length;if(n>2){const r=[];for(let o=0;o<n-1;o++)r.push(...Ha(e[o][0],e[o][1],e[o+1][0],e[o+1][1],i));return t&&r.push(...Ha(e[n-1][0],e[n-1][1],e[0][0],e[0][1],i)),{type:"path",ops:r}}return n===2?AA(e[0][0],e[0][1],e[1][0],e[1][1],i):{type:"path",ops:[]}}function GH(e,t,i,n,r){return function(o,l){return wf(o,!0,l)}([[e,t],[e+i,t],[e+i,t+n],[e,t+n]],r)}function yS(e,t){if(e.length){const i=typeof e[0][0]=="number"?[e]:e,n=af(i[0],1*(1+.2*t.roughness),t),r=t.disableMultiStroke?[]:af(i[0],1.5*(1+.22*t.roughness),vS(t));for(let o=1;o<i.length;o++){const l=i[o];if(l.length){const c=af(l,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:af(l,1.5*(1+.22*t.roughness),vS(t));for(const f of c)f.op!=="move"&&n.push(f);for(const f of u)f.op!=="move"&&r.push(f)}}return{type:"path",ops:n.concat(r)}}return{type:"path",ops:[]}}function MA(e,t,i){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),r=Math.ceil(Math.max(i.curveStepCount,i.curveStepCount/Math.sqrt(200)*n)),o=2*Math.PI/r;let l=Math.abs(e/2),c=Math.abs(t/2);const u=1-i.curveFitting;return l+=jt(l*u,i),c+=jt(c*u,i),{increment:o,rx:l,ry:c}}function E0(e,t,i,n){const[r,o]=_S(n.increment,e,t,n.rx,n.ry,1,n.increment*dd(.1,dd(.4,1,i),i),i);let l=pd(r,null,i);if(!i.disableMultiStroke&&i.roughness!==0){const[c]=_S(n.increment,e,t,n.rx,n.ry,1.5,0,i),u=pd(c,null,i);l=l.concat(u)}return{estimatedPoints:o,opset:{type:"path",ops:l}}}function xS(e,t,i,n,r,o,l,c,u){const f=e,p=t;let g=Math.abs(i/2),y=Math.abs(n/2);g+=jt(.01*g,u),y+=jt(.01*y,u);let x=r,v=o;for(;x<0;)x+=2*Math.PI,v+=2*Math.PI;v-x>2*Math.PI&&(x=0,v=2*Math.PI);const _=2*Math.PI/u.curveStepCount,S=Math.min(_/2,(v-x)/2),w=SS(S,f,p,g,y,x,v,1,u);if(!u.disableMultiStroke){const T=SS(S,f,p,g,y,x,v,1.5,u);w.push(...T)}return l&&(c?w.push(...Ha(f,p,f+g*Math.cos(x),p+y*Math.sin(x),u),...Ha(f,p,f+g*Math.cos(v),p+y*Math.sin(v),u)):w.push({op:"lineTo",data:[f,p]},{op:"lineTo",data:[f+g*Math.cos(x),p+y*Math.sin(x)]})),{type:"path",ops:w}}function bS(e,t){const i=kA(wA(Ky(e))),n=[];let r=[0,0],o=[0,0];for(const{key:l,data:c}of i)switch(l){case"M":o=[c[0],c[1]],r=[c[0],c[1]];break;case"L":n.push(...Ha(o[0],o[1],c[0],c[1],t)),o=[c[0],c[1]];break;case"C":{const[u,f,p,g,y,x]=c;n.push(...VH(u,f,p,g,y,x,o,t)),o=[y,x];break}case"Z":n.push(...Ha(o[0],o[1],r[0],r[1],t)),o=[r[0],r[1]]}return{type:"path",ops:n}}function Am(e,t){const i=[];for(const n of e)if(n.length){const r=t.maxRandomnessOffset||0,o=n.length;if(o>2){i.push({op:"move",data:[n[0][0]+jt(r,t),n[0][1]+jt(r,t)]});for(let l=1;l<o;l++)i.push({op:"lineTo",data:[n[l][0]+jt(r,t),n[l][1]+jt(r,t)]})}}return{type:"fillPath",ops:i}}function Do(e,t){return function(i,n){let r=i.fillStyle||"hachure";if(!Xi[r])switch(r){case"zigzag":Xi[r]||(Xi[r]=new jH(n));break;case"cross-hatch":Xi[r]||(Xi[r]=new HH(n));break;case"dots":Xi[r]||(Xi[r]=new IH(n));break;case"dashed":Xi[r]||(Xi[r]=new PH(n));break;case"zigzag-line":Xi[r]||(Xi[r]=new qH(n));break;default:r="hachure",Xi[r]||(Xi[r]=new Qy(n))}return Xi[r]}(t,YH).fillPolygons(e,t)}function vS(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function EA(e){return e.randomizer||(e.randomizer=new UH(e.seed||0)),e.randomizer.next()}function dd(e,t,i,n=1){return i.roughness*n*(EA(i)*(t-e)+e)}function jt(e,t,i=1){return dd(-e,e,t,i)}function Ha(e,t,i,n,r,o=!1){const l=o?r.disableMultiStrokeFill:r.disableMultiStroke,c=B0(e,t,i,n,r,!0,!1);if(l)return c;const u=B0(e,t,i,n,r,!0,!0);return c.concat(u)}function B0(e,t,i,n,r,o,l){const c=Math.pow(e-i,2)+Math.pow(t-n,2),u=Math.sqrt(c);let f=1;f=u<200?1:u>500?.4:-.0016668*u+1.233334;let p=r.maxRandomnessOffset||0;p*p*100>c&&(p=u/10);const g=p/2,y=.2+.2*EA(r);let x=r.bowing*r.maxRandomnessOffset*(n-t)/200,v=r.bowing*r.maxRandomnessOffset*(e-i)/200;x=jt(x,r,f),v=jt(v,r,f);const _=[],S=()=>jt(g,r,f),w=()=>jt(p,r,f),T=r.preserveVertices;return l?_.push({op:"move",data:[e+(T?0:S()),t+(T?0:S())]}):_.push({op:"move",data:[e+(T?0:jt(p,r,f)),t+(T?0:jt(p,r,f))]}),l?_.push({op:"bcurveTo",data:[x+e+(i-e)*y+S(),v+t+(n-t)*y+S(),x+e+2*(i-e)*y+S(),v+t+2*(n-t)*y+S(),i+(T?0:S()),n+(T?0:S())]}):_.push({op:"bcurveTo",data:[x+e+(i-e)*y+w(),v+t+(n-t)*y+w(),x+e+2*(i-e)*y+w(),v+t+2*(n-t)*y+w(),i+(T?0:w()),n+(T?0:w())]}),_}function af(e,t,i){if(!e.length)return[];const n=[];n.push([e[0][0]+jt(t,i),e[0][1]+jt(t,i)]),n.push([e[0][0]+jt(t,i),e[0][1]+jt(t,i)]);for(let r=1;r<e.length;r++)n.push([e[r][0]+jt(t,i),e[r][1]+jt(t,i)]),r===e.length-1&&n.push([e[r][0]+jt(t,i),e[r][1]+jt(t,i)]);return pd(n,null,i)}function pd(e,t,i){const n=e.length,r=[];if(n>3){const o=[],l=1-i.curveTightness;r.push({op:"move",data:[e[1][0],e[1][1]]});for(let c=1;c+2<n;c++){const u=e[c];o[0]=[u[0],u[1]],o[1]=[u[0]+(l*e[c+1][0]-l*e[c-1][0])/6,u[1]+(l*e[c+1][1]-l*e[c-1][1])/6],o[2]=[e[c+1][0]+(l*e[c][0]-l*e[c+2][0])/6,e[c+1][1]+(l*e[c][1]-l*e[c+2][1])/6],o[3]=[e[c+1][0],e[c+1][1]],r.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}}else n===3?(r.push({op:"move",data:[e[1][0],e[1][1]]}),r.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&r.push(...B0(e[0][0],e[0][1],e[1][0],e[1][1],i,!0,!0));return r}function _S(e,t,i,n,r,o,l,c){const u=[],f=[];if(c.roughness===0){e/=4,f.push([t+n*Math.cos(-e),i+r*Math.sin(-e)]);for(let p=0;p<=2*Math.PI;p+=e){const g=[t+n*Math.cos(p),i+r*Math.sin(p)];u.push(g),f.push(g)}f.push([t+n*Math.cos(0),i+r*Math.sin(0)]),f.push([t+n*Math.cos(e),i+r*Math.sin(e)])}else{const p=jt(.5,c)-Math.PI/2;f.push([jt(o,c)+t+.9*n*Math.cos(p-e),jt(o,c)+i+.9*r*Math.sin(p-e)]);const g=2*Math.PI+p-.01;for(let y=p;y<g;y+=e){const x=[jt(o,c)+t+n*Math.cos(y),jt(o,c)+i+r*Math.sin(y)];u.push(x),f.push(x)}f.push([jt(o,c)+t+n*Math.cos(p+2*Math.PI+.5*l),jt(o,c)+i+r*Math.sin(p+2*Math.PI+.5*l)]),f.push([jt(o,c)+t+.98*n*Math.cos(p+l),jt(o,c)+i+.98*r*Math.sin(p+l)]),f.push([jt(o,c)+t+.9*n*Math.cos(p+.5*l),jt(o,c)+i+.9*r*Math.sin(p+.5*l)])}return[f,u]}function SS(e,t,i,n,r,o,l,c,u){const f=o+jt(.1,u),p=[];p.push([jt(c,u)+t+.9*n*Math.cos(f-e),jt(c,u)+i+.9*r*Math.sin(f-e)]);for(let g=f;g<=l;g+=e)p.push([jt(c,u)+t+n*Math.cos(g),jt(c,u)+i+r*Math.sin(g)]);return p.push([t+n*Math.cos(l),i+r*Math.sin(l)]),p.push([t+n*Math.cos(l),i+r*Math.sin(l)]),pd(p,null,u)}function VH(e,t,i,n,r,o,l,c){const u=[],f=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let p=[0,0];const g=c.disableMultiStroke?1:2,y=c.preserveVertices;for(let x=0;x<g;x++)x===0?u.push({op:"move",data:[l[0],l[1]]}):u.push({op:"move",data:[l[0]+(y?0:jt(f[0],c)),l[1]+(y?0:jt(f[0],c))]}),p=y?[r,o]:[r+jt(f[x],c),o+jt(f[x],c)],u.push({op:"bcurveTo",data:[e+jt(f[x],c),t+jt(f[x],c),i+jt(f[x],c),n+jt(f[x],c),p[0],p[1]]});return u}function Ac(e){return[...e]}function CS(e,t=0){const i=e.length;if(i<3)throw new Error("A curve must have at least three points.");const n=[];if(i===3)n.push(Ac(e[0]),Ac(e[1]),Ac(e[2]),Ac(e[2]));else{const r=[];r.push(e[0],e[0]);for(let c=1;c<e.length;c++)r.push(e[c]),c===e.length-1&&r.push(e[c]);const o=[],l=1-t;n.push(Ac(r[0]));for(let c=1;c+2<r.length;c++){const u=r[c];o[0]=[u[0],u[1]],o[1]=[u[0]+(l*r[c+1][0]-l*r[c-1][0])/6,u[1]+(l*r[c+1][1]-l*r[c-1][1])/6],o[2]=[r[c+1][0]+(l*r[c][0]-l*r[c+2][0])/6,r[c+1][1]+(l*r[c][1]-l*r[c+2][1])/6],o[3]=[r[c+1][0],r[c+1][1]],n.push(o[1],o[2],o[3])}}return n}function kf(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function XH(e,t,i){const n=kf(t,i);if(n===0)return kf(e,t);let r=((e[0]-t[0])*(i[0]-t[0])+(e[1]-t[1])*(i[1]-t[1]))/n;return r=Math.max(0,Math.min(1,r)),kf(e,ys(t,i,r))}function ys(e,t,i){return[e[0]+(t[0]-e[0])*i,e[1]+(t[1]-e[1])*i]}function L0(e,t,i,n){const r=n||[];if(function(c,u){const f=c[u+0],p=c[u+1],g=c[u+2],y=c[u+3];let x=3*p[0]-2*f[0]-y[0];x*=x;let v=3*p[1]-2*f[1]-y[1];v*=v;let _=3*g[0]-2*y[0]-f[0];_*=_;let S=3*g[1]-2*y[1]-f[1];return S*=S,x<_&&(x=_),v<S&&(v=S),x+v}(e,t)<i){const c=e[t+0];r.length?(o=r[r.length-1],l=c,Math.sqrt(kf(o,l))>1&&r.push(c)):r.push(c),r.push(e[t+3])}else{const u=e[t+0],f=e[t+1],p=e[t+2],g=e[t+3],y=ys(u,f,.5),x=ys(f,p,.5),v=ys(p,g,.5),_=ys(y,x,.5),S=ys(x,v,.5),w=ys(_,S,.5);L0([u,y,_,w],0,i,r),L0([w,S,v,g],0,i,r)}var o,l;return r}function ZH(e,t){return gd(e,0,e.length,t)}function gd(e,t,i,n,r){const o=r||[],l=e[t],c=e[i-1];let u=0,f=1;for(let p=t+1;p<i-1;++p){const g=XH(e[p],l,c);g>u&&(u=g,f=p)}return Math.sqrt(u)>n?(gd(e,t,f+1,n,o),gd(e,f,i,n,o)):(o.length||o.push(l),o.push(c)),o}function Mm(e,t=.15,i){const n=[],r=(e.length-1)/3;for(let o=0;o<r;o++)L0(e,3*o,t,n);return i&&i>0?gd(n,0,n.length,i):n}const gn="none";class md{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,i,n){return{shape:t,sets:i||[],options:n||this.defaultOptions}}line(t,i,n,r,o){const l=this._o(o);return this._d("line",[AA(t,i,n,r,l)],l)}rectangle(t,i,n,r,o){const l=this._o(o),c=[],u=GH(t,i,n,r,l);if(l.fill){const f=[[t,i],[t+n,i],[t+n,i+r],[t,i+r]];l.fillStyle==="solid"?c.push(Am([f],l)):c.push(Do([f],l))}return l.stroke!==gn&&c.push(u),this._d("rectangle",c,l)}ellipse(t,i,n,r,o){const l=this._o(o),c=[],u=MA(n,r,l),f=E0(t,i,l,u);if(l.fill)if(l.fillStyle==="solid"){const p=E0(t,i,l,u).opset;p.type="fillPath",c.push(p)}else c.push(Do([f.estimatedPoints],l));return l.stroke!==gn&&c.push(f.opset),this._d("ellipse",c,l)}circle(t,i,n,r){const o=this.ellipse(t,i,n,n,r);return o.shape="circle",o}linearPath(t,i){const n=this._o(i);return this._d("linearPath",[wf(t,!1,n)],n)}arc(t,i,n,r,o,l,c=!1,u){const f=this._o(u),p=[],g=xS(t,i,n,r,o,l,c,!0,f);if(c&&f.fill)if(f.fillStyle==="solid"){const y=Object.assign({},f);y.disableMultiStroke=!0;const x=xS(t,i,n,r,o,l,!0,!1,y);x.type="fillPath",p.push(x)}else p.push(function(y,x,v,_,S,w,T){const M=y,z=x;let D=Math.abs(v/2),E=Math.abs(_/2);D+=jt(.01*D,T),E+=jt(.01*E,T);let R=S,I=w;for(;R<0;)R+=2*Math.PI,I+=2*Math.PI;I-R>2*Math.PI&&(R=0,I=2*Math.PI);const J=(I-R)/T.curveStepCount,K=[];for(let P=R;P<=I;P+=J)K.push([M+D*Math.cos(P),z+E*Math.sin(P)]);return K.push([M+D*Math.cos(I),z+E*Math.sin(I)]),K.push([M,z]),Do([K],T)}(t,i,n,r,o,l,f));return f.stroke!==gn&&p.push(g),this._d("arc",p,f)}curve(t,i){const n=this._o(i),r=[],o=yS(t,n);if(n.fill&&n.fill!==gn)if(n.fillStyle==="solid"){const l=yS(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],c=t;if(c.length){const u=typeof c[0][0]=="number"?[c]:c;for(const f of u)f.length<3?l.push(...f):f.length===3?l.push(...Mm(CS([f[0],f[0],f[1],f[2]]),10,(1+n.roughness)/2)):l.push(...Mm(CS(f),10,(1+n.roughness)/2))}l.length&&r.push(Do([l],n))}return n.stroke!==gn&&r.push(o),this._d("curve",r,n)}polygon(t,i){const n=this._o(i),r=[],o=wf(t,!0,n);return n.fill&&(n.fillStyle==="solid"?r.push(Am([t],n)):r.push(Do([t],n))),n.stroke!==gn&&r.push(o),this._d("polygon",r,n)}path(t,i){const n=this._o(i),r=[];if(!t)return this._d("path",r,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=n.fill&&n.fill!=="transparent"&&n.fill!==gn,l=n.stroke!==gn,c=!!(n.simplification&&n.simplification<1),u=function(p,g,y){const x=kA(wA(Ky(p))),v=[];let _=[],S=[0,0],w=[];const T=()=>{w.length>=4&&_.push(...Mm(w,g)),w=[]},M=()=>{T(),_.length&&(v.push(_),_=[])};for(const{key:D,data:E}of x)switch(D){case"M":M(),S=[E[0],E[1]],_.push(S);break;case"L":T(),_.push([E[0],E[1]]);break;case"C":if(!w.length){const R=_.length?_[_.length-1]:S;w.push([R[0],R[1]])}w.push([E[0],E[1]]),w.push([E[2],E[3]]),w.push([E[4],E[5]]);break;case"Z":T(),_.push([S[0],S[1]])}if(M(),!y)return v;const z=[];for(const D of v){const E=ZH(D,y);E.length&&z.push(E)}return z}(t,1,c?4-4*(n.simplification||1):(1+n.roughness)/2),f=bS(t,n);if(o)if(n.fillStyle==="solid")if(u.length===1){const p=bS(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(p.ops)})}else r.push(Am(u,n));else r.push(Do(u,n));return l&&(c?u.forEach(p=>{r.push(wf(p,!1,n))}):r.push(f)),this._d("path",r,n)}opsToPath(t,i){let n="";for(const r of t.ops){const o=typeof i=="number"&&i>=0?r.data.map(l=>+l.toFixed(i)):r.data;switch(r.op){case"move":n+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":n+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":n+=`L${o[0]} ${o[1]} `}}return n.trim()}toPaths(t){const i=t.sets||[],n=t.options||this.defaultOptions,r=[];for(const o of i){let l=null;switch(o.type){case"path":l={d:this.opsToPath(o),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:gn};break;case"fillPath":l={d:this.opsToPath(o),stroke:gn,strokeWidth:0,fill:n.fill||gn};break;case"fillSketch":l=this.fillSketch(o,n)}l&&r.push(l)}return r}fillSketch(t,i){let n=i.fillWeight;return n<0&&(n=i.strokeWidth/2),{d:this.opsToPath(t),stroke:i.fill||gn,strokeWidth:n,fill:gn}}_mergedShape(t){return t.filter((i,n)=>n===0||i.op!=="move")}}class QH{constructor(t,i){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new md(i)}draw(t){const i=t.sets||[],n=t.options||this.getDefaultOptions(),r=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const l of i)switch(l.type){case"path":r.save(),r.strokeStyle=n.stroke==="none"?"transparent":n.stroke,r.lineWidth=n.strokeWidth,n.strokeLineDash&&r.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(r.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(r,l,o),r.restore();break;case"fillPath":{r.save(),r.fillStyle=n.fill||"";const c=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(r,l,o,c),r.restore();break}case"fillSketch":this.fillSketch(r,l,n)}}fillSketch(t,i,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=r,this._drawToContext(t,i,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,i,n,r="nonzero"){t.beginPath();for(const o of i.ops){const l=typeof n=="number"&&n>=0?o.data.map(c=>+c.toFixed(n)):o.data;switch(o.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1])}}i.type==="fillPath"?t.fill(r):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,i,n,r,o){const l=this.gen.line(t,i,n,r,o);return this.draw(l),l}rectangle(t,i,n,r,o){const l=this.gen.rectangle(t,i,n,r,o);return this.draw(l),l}ellipse(t,i,n,r,o){const l=this.gen.ellipse(t,i,n,r,o);return this.draw(l),l}circle(t,i,n,r){const o=this.gen.circle(t,i,n,r);return this.draw(o),o}linearPath(t,i){const n=this.gen.linearPath(t,i);return this.draw(n),n}polygon(t,i){const n=this.gen.polygon(t,i);return this.draw(n),n}arc(t,i,n,r,o,l,c=!1,u){const f=this.gen.arc(t,i,n,r,o,l,c,u);return this.draw(f),f}curve(t,i){const n=this.gen.curve(t,i);return this.draw(n),n}path(t,i){const n=this.gen.path(t,i);return this.draw(n),n}}const sf="http://www.w3.org/2000/svg";class KH{constructor(t,i){this.svg=t,this.gen=new md(i)}draw(t){const i=t.sets||[],n=t.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,o=r.createElementNS(sf,"g"),l=t.options.fixedDecimalPlaceDigits;for(const c of i){let u=null;switch(c.type){case"path":u=r.createElementNS(sf,"path"),u.setAttribute("d",this.opsToPath(c,l)),u.setAttribute("stroke",n.stroke),u.setAttribute("stroke-width",n.strokeWidth+""),u.setAttribute("fill","none"),n.strokeLineDash&&u.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":u=r.createElementNS(sf,"path"),u.setAttribute("d",this.opsToPath(c,l)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(r,c,n)}u&&o.appendChild(u)}return o}fillSketch(t,i,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const o=t.createElementNS(sf,"path");return o.setAttribute("d",this.opsToPath(i,n.fixedDecimalPlaceDigits)),o.setAttribute("stroke",n.fill||""),o.setAttribute("stroke-width",r+""),o.setAttribute("fill","none"),n.fillLineDash&&o.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,i){return this.gen.opsToPath(t,i)}line(t,i,n,r,o){const l=this.gen.line(t,i,n,r,o);return this.draw(l)}rectangle(t,i,n,r,o){const l=this.gen.rectangle(t,i,n,r,o);return this.draw(l)}ellipse(t,i,n,r,o){const l=this.gen.ellipse(t,i,n,r,o);return this.draw(l)}circle(t,i,n,r){const o=this.gen.circle(t,i,n,r);return this.draw(o)}linearPath(t,i){const n=this.gen.linearPath(t,i);return this.draw(n)}polygon(t,i){const n=this.gen.polygon(t,i);return this.draw(n)}arc(t,i,n,r,o,l,c=!1,u){const f=this.gen.arc(t,i,n,r,o,l,c,u);return this.draw(f)}curve(t,i){const n=this.gen.curve(t,i);return this.draw(n)}path(t,i){const n=this.gen.path(t,i);return this.draw(n)}}var wt={canvas:(e,t)=>new QH(e,t),svg:(e,t)=>new KH(e,t),generator:e=>new md(e),newSeed:()=>md.newSeed()},Wt=C(async(e,t,i)=>{var g,y;let n;const r=t.useHtmlLabels||ni((g=he())==null?void 0:g.htmlLabels);i?n=i:n="node default";const o=e.insert("g").attr("class",n).attr("id",t.domId||t.id),l=o.insert("g").attr("class","label").attr("style",Ii(t.labelStyle));let c;t.label===void 0?c="":c=typeof t.label=="string"?t.label:t.label[0];const u=await qa(l,Bs(Is(c),he()),{useHtmlLabels:r,width:t.width||((y=he().flowchart)==null?void 0:y.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let f=u.getBBox();const p=((t==null?void 0:t.padding)??0)/2;if(r){const x=u.children[0],v=ee(u),_=x.getElementsByTagName("img");if(_){const S=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([..._].map(w=>new Promise(T=>{function M(){if(w.style.display="flex",w.style.flexDirection="column",S){const z=he().fontSize?he().fontSize:window.getComputedStyle(document.body).fontSize,D=5,[E=qC.fontSize]=Hd(z),R=E*D+"px";w.style.minWidth=R,w.style.maxWidth=R}else w.style.width="100%";T(w)}C(M,"setupImage"),setTimeout(()=>{w.complete&&M()}),w.addEventListener("error",M),w.addEventListener("load",M)})))}f=x.getBoundingClientRect(),v.attr("width",f.width),v.attr("height",f.height)}return r?l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):l.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:o,bbox:f,halfPadding:p,label:l}},"labelHelper"),Em=C(async(e,t,i)=>{var u,f,p,g,y,x;const n=i.useHtmlLabels||ni((f=(u=he())==null?void 0:u.flowchart)==null?void 0:f.htmlLabels),r=e.insert("g").attr("class","label").attr("style",i.labelStyle||""),o=await qa(r,Bs(Is(t),he()),{useHtmlLabels:n,width:i.width||((g=(p=he())==null?void 0:p.flowchart)==null?void 0:g.wrappingWidth),style:i.labelStyle,addSvgBackground:!!i.icon||!!i.img});let l=o.getBBox();const c=i.padding/2;if(ni((x=(y=he())==null?void 0:y.flowchart)==null?void 0:x.htmlLabels)){const v=o.children[0],_=ee(o);l=v.getBoundingClientRect(),_.attr("width",l.width),_.attr("height",l.height)}return n?r.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"):r.attr("transform","translate(0, "+-l.height/2+")"),i.centerLabel&&r.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),r.insert("rect",":first-child"),{shapeSvg:e,bbox:l,halfPadding:c,label:r}},"insertLabel"),Mt=C((e,t)=>{const i=t.node().getBBox();e.width=i.width,e.height=i.height},"updateNodeBounds"),Ht=C((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function ne(e){const t=e.map((i,n)=>`${n===0?"M":"L"}${i.x},${i.y}`);return t.push("Z"),t.join(" ")}C(ne,"createPathFromPoints");function Ia(e,t,i,n,r,o){const l=[],u=i-e,f=n-t,p=u/o,g=2*Math.PI/p,y=t+f/2;for(let x=0;x<=50;x++){const v=x/50,_=e+v*u,S=y+r*Math.sin(g*(_-e));l.push({x:_,y:S})}return l}C(Ia,"generateFullSineWavePoints");function Jy(e,t,i,n,r,o){const l=[],c=r*Math.PI/180,p=(o*Math.PI/180-c)/(n-1);for(let g=0;g<n;g++){const y=c+g*p,x=e+i*Math.cos(y),v=t+i*Math.sin(y);l.push({x:-x,y:-v})}return l}C(Jy,"generateCirclePoints");var JH=C((e,t)=>{var i=e.x,n=e.y,r=t.x-i,o=t.y-n,l=e.width/2,c=e.height/2,u,f;return Math.abs(o)*l>Math.abs(r)*c?(o<0&&(c=-c),u=o===0?0:c*r/o,f=c):(r<0&&(l=-l),u=l,f=r===0?0:l*o/r),{x:i+u,y:n+f}},"intersectRect"),dl=JH;function BA(e,t){t&&e.attr("style",t)}C(BA,"applyStyle");async function LA(e){const t=ee(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=t.append("xhtml:div");let n=e.label;e.label&&el(e.label)&&(n=await sy(e.label.replace(hl.lineBreakRegex,`
`),he()));const r=e.isNode?"nodeLabel":"edgeLabel";return i.html('<span class="'+r+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),BA(i,e.labelStyle),i.style("display","inline-block"),i.style("padding-right","1px"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}C(LA,"addHtmlLabel");var tI=C(async(e,t,i,n)=>{let r=e||"";if(typeof r=="object"&&(r=r[0]),ni(he().flowchart.htmlLabels)){r=r.replace(/\\n|\n/g,"<br />"),ct.info("vertexText"+r);const o={isNode:n,label:Is(r).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await LA(o)}else{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",t.replace("color:","fill:"));let l=[];typeof r=="string"?l=r.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(r)?l=r:l=[];for(const c of l){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),i?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=c.trim(),o.appendChild(u)}return o}},"createLabel"),ks=tI,ea=C((e,t,i,n,r)=>["M",e+r,t,"H",e+i-r,"A",r,r,0,0,1,e+i,t+r,"V",t+n-r,"A",r,r,0,0,1,e+i-r,t+n,"H",e+r,"A",r,r,0,0,1,e,t+n-r,"V",t+r,"A",r,r,0,0,1,e+r,t,"Z"].join(" "),"createRoundedRectPathD"),eI=C(e=>{const{handDrawnSeed:t}=he();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),pl=C(e=>{const t=iI([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),iI=C(e=>{const t=new Map;return e.forEach(i=>{const[n,r]=i.split(":");t.set(n.trim(),r==null?void 0:r.trim())}),t},"styles2Map"),DA=C(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),Et=C(e=>{const{stylesArray:t}=pl(e),i=[],n=[],r=[],o=[];return t.forEach(l=>{const c=l[0];DA(c)?i.push(l.join(":")+" !important"):(n.push(l.join(":")+" !important"),c.includes("stroke")&&r.push(l.join(":")+" !important"),c==="fill"&&o.push(l.join(":")+" !important"))}),{labelStyles:i.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:r,backgroundStyles:o}},"styles2String"),Tt=C((e,t)=>{var u;const{themeVariables:i,handDrawnSeed:n}=he(),{nodeBorder:r,mainBkg:o}=i,{stylesMap:l}=pl(e);return Object.assign({roughness:.7,fill:l.get("fill")||o,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||r,seed:n,strokeWidth:((u=l.get("stroke-width"))==null?void 0:u.replace("px",""))||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides"),OA=C(async(e,t)=>{ct.info("Creating subgraph rect for ",t.id,t);const i=he(),{themeVariables:n,handDrawnSeed:r}=i,{clusterBkg:o,clusterBorder:l}=n,{labelStyles:c,nodeStyles:u,borderStyles:f,backgroundStyles:p}=Et(t),g=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),y=ni(i.flowchart.htmlLabels),x=g.insert("g").attr("class","cluster-label "),v=await qa(x,t.label,{style:t.labelStyle,useHtmlLabels:y,isNode:!0});let _=v.getBBox();if(ni(i.flowchart.htmlLabels)){const R=v.children[0],I=ee(v);_=R.getBoundingClientRect(),I.attr("width",_.width),I.attr("height",_.height)}const S=t.width<=_.width+t.padding?_.width+t.padding:t.width;t.width<=_.width+t.padding?t.diff=(S-t.width)/2-t.padding:t.diff=-t.padding;const w=t.height,T=t.x-S/2,M=t.y-w/2;ct.trace("Data ",t,JSON.stringify(t));let z;if(t.look==="handDrawn"){const R=wt.svg(g),I=Tt(t,{roughness:.7,fill:o,stroke:l,fillWeight:3,seed:r}),J=R.path(ea(T,M,S,w,0),I);z=g.insert(()=>(ct.debug("Rough node insert CXC",J),J),":first-child"),z.select("path:nth-child(2)").attr("style",f.join(";")),z.select("path").attr("style",p.join(";").replace("fill","stroke"))}else z=g.insert("rect",":first-child"),z.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",T).attr("y",M).attr("width",S).attr("height",w);const{subGraphTitleTopMargin:D}=xy(i);if(x.attr("transform",`translate(${t.x-_.width/2}, ${t.y-t.height/2+D})`),c){const R=x.select("span");R&&R.attr("style",c)}const E=z.node().getBBox();return t.offsetX=0,t.width=E.width,t.height=E.height,t.offsetY=_.height-t.padding/2,t.intersect=function(R){return dl(t,R)},{cluster:g,labelBBox:_}},"rect"),nI=C((e,t)=>{const i=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=i.insert("rect",":first-child"),r=0*t.padding,o=r/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2-o).attr("width",t.width+r).attr("height",t.height+r).attr("fill","none");const l=n.node().getBBox();return t.width=l.width,t.height=l.height,t.intersect=function(c){return dl(t,c)},{cluster:i,labelBBox:{width:0,height:0}}},"noteGroup"),rI=C(async(e,t)=>{const i=he(),{themeVariables:n,handDrawnSeed:r}=i,{altBackground:o,compositeBackground:l,compositeTitleBackground:c,nodeBorder:u}=n,f=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),p=f.insert("g",":first-child"),g=f.insert("g").attr("class","cluster-label");let y=f.append("rect");const x=g.node().appendChild(await ks(t.label,t.labelStyle,void 0,!0));let v=x.getBBox();if(ni(i.flowchart.htmlLabels)){const J=x.children[0],K=ee(x);v=J.getBoundingClientRect(),K.attr("width",v.width),K.attr("height",v.height)}const _=0*t.padding,S=_/2,w=(t.width<=v.width+t.padding?v.width+t.padding:t.width)+_;t.width<=v.width+t.padding?t.diff=(w-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height+_,M=t.height+_-v.height-6,z=t.x-w/2,D=t.y-T/2;t.width=w;const E=t.y-t.height/2-S+v.height+2;let R;if(t.look==="handDrawn"){const J=t.cssClasses.includes("statediagram-cluster-alt"),K=wt.svg(f),P=t.rx||t.ry?K.path(ea(z,D,w,T,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:u,seed:r}):K.rectangle(z,D,w,T,{seed:r});R=f.insert(()=>P,":first-child");const it=K.rectangle(z,E,w,M,{fill:J?o:l,fillStyle:J?"hachure":"solid",stroke:u,seed:r});R=f.insert(()=>P,":first-child"),y=f.insert(()=>it)}else R=p.insert("rect",":first-child"),R.attr("class","outer").attr("x",z).attr("y",D).attr("width",w).attr("height",T).attr("data-look",t.look),y.attr("class","inner").attr("x",z).attr("y",E).attr("width",w).attr("height",M);g.attr("transform",`translate(${t.x-v.width/2}, ${D+1-(ni(i.flowchart.htmlLabels)?0:3)})`);const I=R.node().getBBox();return t.height=I.height,t.offsetX=0,t.offsetY=v.height-t.padding/2,t.labelBBox=v,t.intersect=function(J){return dl(t,J)},{cluster:f,labelBBox:v}},"roundedWithTitle"),aI=C(async(e,t)=>{ct.info("Creating subgraph rect for ",t.id,t);const i=he(),{themeVariables:n,handDrawnSeed:r}=i,{clusterBkg:o,clusterBorder:l}=n,{labelStyles:c,nodeStyles:u,borderStyles:f,backgroundStyles:p}=Et(t),g=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),y=ni(i.flowchart.htmlLabels),x=g.insert("g").attr("class","cluster-label "),v=await qa(x,t.label,{style:t.labelStyle,useHtmlLabels:y,isNode:!0,width:t.width});let _=v.getBBox();if(ni(i.flowchart.htmlLabels)){const R=v.children[0],I=ee(v);_=R.getBoundingClientRect(),I.attr("width",_.width),I.attr("height",_.height)}const S=t.width<=_.width+t.padding?_.width+t.padding:t.width;t.width<=_.width+t.padding?t.diff=(S-t.width)/2-t.padding:t.diff=-t.padding;const w=t.height,T=t.x-S/2,M=t.y-w/2;ct.trace("Data ",t,JSON.stringify(t));let z;if(t.look==="handDrawn"){const R=wt.svg(g),I=Tt(t,{roughness:.7,fill:o,stroke:l,fillWeight:4,seed:r}),J=R.path(ea(T,M,S,w,t.rx),I);z=g.insert(()=>(ct.debug("Rough node insert CXC",J),J),":first-child"),z.select("path:nth-child(2)").attr("style",f.join(";")),z.select("path").attr("style",p.join(";").replace("fill","stroke"))}else z=g.insert("rect",":first-child"),z.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",T).attr("y",M).attr("width",S).attr("height",w);const{subGraphTitleTopMargin:D}=xy(i);if(x.attr("transform",`translate(${t.x-_.width/2}, ${t.y-t.height/2+D})`),c){const R=x.select("span");R&&R.attr("style",c)}const E=z.node().getBBox();return t.offsetX=0,t.width=E.width,t.height=E.height,t.offsetY=_.height-t.padding/2,t.intersect=function(R){return dl(t,R)},{cluster:g,labelBBox:_}},"kanbanSection"),sI=C((e,t)=>{const i=he(),{themeVariables:n,handDrawnSeed:r}=i,{nodeBorder:o}=n,l=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),c=l.insert("g",":first-child"),u=0*t.padding,f=t.width+u;t.diff=-t.padding;const p=t.height+u,g=t.x-f/2,y=t.y-p/2;t.width=f;let x;if(t.look==="handDrawn"){const S=wt.svg(l).rectangle(g,y,f,p,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:o,seed:r});x=l.insert(()=>S,":first-child")}else x=c.insert("rect",":first-child"),x.attr("class","divider").attr("x",g).attr("y",y).attr("width",f).attr("height",p).attr("data-look",t.look);const v=x.node().getBBox();return t.height=v.height,t.offsetX=0,t.offsetY=0,t.intersect=function(_){return dl(t,_)},{cluster:l,labelBBox:{}}},"divider"),oI=OA,lI={rect:OA,squareRect:oI,roundedWithTitle:rI,noteGroup:nI,divider:sI,kanbanSection:aI},RA=new Map,cI=C(async(e,t)=>{const i=t.shape||"rect",n=await lI[i](e,t);return RA.set(t.id,n),n},"insertCluster"),FU=C(()=>{RA=new Map},"clear");function zA(e,t){return e.intersect(t)}C(zA,"intersectNode");var hI=zA;function NA(e,t,i,n){var r=e.x,o=e.y,l=r-n.x,c=o-n.y,u=Math.sqrt(t*t*c*c+i*i*l*l),f=Math.abs(t*i*l/u);n.x<r&&(f=-f);var p=Math.abs(t*i*c/u);return n.y<o&&(p=-p),{x:r+f,y:o+p}}C(NA,"intersectEllipse");var FA=NA;function $A(e,t,i){return FA(e,t,t,i)}C($A,"intersectCircle");var uI=$A;function jA(e,t,i,n){var r,o,l,c,u,f,p,g,y,x,v,_,S,w,T;if(r=t.y-e.y,l=e.x-t.x,u=t.x*e.y-e.x*t.y,y=r*i.x+l*i.y+u,x=r*n.x+l*n.y+u,!(y!==0&&x!==0&&D0(y,x))&&(o=n.y-i.y,c=i.x-n.x,f=n.x*i.y-i.x*n.y,p=o*e.x+c*e.y+f,g=o*t.x+c*t.y+f,!(p!==0&&g!==0&&D0(p,g))&&(v=r*c-o*l,v!==0)))return _=Math.abs(v/2),S=l*f-c*u,w=S<0?(S-_)/v:(S+_)/v,S=o*u-r*f,T=S<0?(S-_)/v:(S+_)/v,{x:w,y:T}}C(jA,"intersectLine");function D0(e,t){return e*t>0}C(D0,"sameSign");var fI=jA;function HA(e,t,i){let n=e.x,r=e.y,o=[],l=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(p){l=Math.min(l,p.x),c=Math.min(c,p.y)}):(l=Math.min(l,t.x),c=Math.min(c,t.y));let u=n-e.width/2-l,f=r-e.height/2-c;for(let p=0;p<t.length;p++){let g=t[p],y=t[p<t.length-1?p+1:0],x=fI(e,i,{x:u+g.x,y:f+g.y},{x:u+y.x,y:f+y.y});x&&o.push(x)}return o.length?(o.length>1&&o.sort(function(p,g){let y=p.x-i.x,x=p.y-i.y,v=Math.sqrt(y*y+x*x),_=g.x-i.x,S=g.y-i.y,w=Math.sqrt(_*_+S*S);return v<w?-1:v===w?0:1}),o[0]):e}C(HA,"intersectPolygon");var dI=HA,St={node:hI,circle:uI,ellipse:FA,polygon:dI,rect:dl};function IA(e,t){const{labelStyles:i}=Et(t);t.labelStyle=i;const n=Ht(t);let r=n;n||(r="anchor");const o=e.insert("g").attr("class",r).attr("id",t.domId||t.id),l=1,{cssStyles:c}=t,u=wt.svg(o),f=Tt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(f.roughness=0);const p=u.circle(0,0,l*2,f),g=o.insert(()=>p,":first-child");return g.attr("class","anchor").attr("style",Ii(c)),Mt(t,g),t.intersect=function(y){return ct.info("Circle intersect",t,l,y),St.circle(t,l,y)},o}C(IA,"anchor");function O0(e,t,i,n,r,o,l){const u=(e+i)/2,f=(t+n)/2,p=Math.atan2(n-t,i-e),g=(i-e)/2,y=(n-t)/2,x=g/r,v=y/o,_=Math.sqrt(x**2+v**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-_**2),w=u+S*o*Math.sin(p)*(l?-1:1),T=f-S*r*Math.cos(p)*(l?-1:1),M=Math.atan2((t-T)/o,(e-w)/r);let D=Math.atan2((n-T)/o,(i-w)/r)-M;l&&D<0&&(D+=2*Math.PI),!l&&D>0&&(D-=2*Math.PI);const E=[];for(let R=0;R<20;R++){const I=R/19,J=M+I*D,K=w+r*Math.cos(J),P=T+o*Math.sin(J);E.push({x:K,y:P})}return E}C(O0,"generateArcPoints");async function PA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=o.width+t.padding+20,c=o.height+t.padding,u=c/2,f=u/(2.5+c/50),{cssStyles:p}=t,g=[{x:l/2,y:-c/2},{x:-l/2,y:-c/2},...O0(-l/2,-c/2,-l/2,c/2,f,u,!1),{x:l/2,y:c/2},...O0(l/2,c/2,l/2,-c/2,f,u,!0)],y=wt.svg(r),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=ne(g),_=y.path(v,x),S=r.insert(()=>_,":first-child");return S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${f/2}, 0)`),Mt(t,S),t.intersect=function(w){return St.polygon(t,g,w)},r}C(PA,"bowTieRect");function ia(e,t,i,n){return e.insert("polygon",":first-child").attr("points",n.map(function(r){return r.x+","+r.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+i/2+")")}C(ia,"insertPolygonShape");async function qA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=o.height+t.padding,c=12,u=o.width+t.padding+c,f=0,p=u,g=-l,y=0,x=[{x:f+c,y:g},{x:p,y:g},{x:p,y},{x:f,y},{x:f,y:g+c},{x:f+c,y:g}];let v;const{cssStyles:_}=t;if(t.look==="handDrawn"){const S=wt.svg(r),w=Tt(t,{}),T=ne(x),M=S.path(T,w);v=r.insert(()=>M,":first-child").attr("transform",`translate(${-u/2}, ${l/2})`),_&&v.attr("style",_)}else v=ia(r,u,l,x);return n&&v.attr("style",n),Mt(t,v),t.intersect=function(S){return St.polygon(t,x,S)},r}C(qA,"card");function UA(e,t){const{nodeStyles:i}=Et(t);t.label="";const n=e.insert("g").attr("class",Ht(t)).attr("id",t.domId??t.id),{cssStyles:r}=t,o=Math.max(28,t.width??0),l=[{x:0,y:o/2},{x:o/2,y:0},{x:0,y:-o/2},{x:-o/2,y:0}],c=wt.svg(n),u=Tt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const f=ne(l),p=c.path(f,u),g=n.insert(()=>p,":first-child");return r&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",r),i&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",i),t.width=28,t.height=28,t.intersect=function(y){return St.polygon(t,l,y)},n}C(UA,"choice");async function WA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,halfPadding:l}=await Wt(e,t,Ht(t)),c=o.width/2+l;let u;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=wt.svg(r),g=Tt(t,{}),y=p.circle(0,0,c*2,g);u=r.insert(()=>y,":first-child"),u.attr("class","basic label-container").attr("style",Ii(f))}else u=r.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0);return Mt(t,u),t.intersect=function(p){return ct.info("Circle intersect",t,c,p),St.circle(t,c,p)},r}C(WA,"circle");function YA(e){const t=Math.cos(Math.PI/4),i=Math.sin(Math.PI/4),n=e*2,r={x:n/2*t,y:n/2*i},o={x:-(n/2)*t,y:n/2*i},l={x:-(n/2)*t,y:-(n/2)*i},c={x:n/2*t,y:-(n/2)*i};return`M ${o.x},${o.y} L ${c.x},${c.y}
                   M ${r.x},${r.y} L ${l.x},${l.y}`}C(YA,"createLine");function GA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i,t.label="";const r=e.insert("g").attr("class",Ht(t)).attr("id",t.domId??t.id),o=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:l}=t,c=wt.svg(r),u=Tt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const f=c.circle(0,0,o*2,u),p=YA(o),g=c.path(p,u),y=r.insert(()=>f,":first-child");return y.insert(()=>g),l&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",l),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),Mt(t,y),t.intersect=function(x){return ct.info("crossedCircle intersect",t,{radius:o,point:x}),St.circle(t,o,x)},r}C(GA,"crossedCircle");function Wr(e,t,i,n=100,r=0,o=180){const l=[],c=r*Math.PI/180,p=(o*Math.PI/180-c)/(n-1);for(let g=0;g<n;g++){const y=c+g*p,x=e+i*Math.cos(y),v=t+i*Math.sin(y);l.push({x:-x,y:-v})}return l}C(Wr,"generateCirclePoints");async function VA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=o.width+(t.padding??0),u=o.height+(t.padding??0),f=Math.max(5,u*.1),{cssStyles:p}=t,g=[...Wr(c/2,-u/2,f,30,-90,0),{x:-c/2-f,y:f},...Wr(c/2+f*2,-f,f,20,-180,-270),...Wr(c/2+f*2,f,f,20,-90,-180),{x:-c/2-f,y:-u/2},...Wr(c/2,u/2,f,20,0,90)],y=[{x:c/2,y:-u/2-f},{x:-c/2,y:-u/2-f},...Wr(c/2,-u/2,f,20,-90,0),{x:-c/2-f,y:-f},...Wr(c/2+c*.1,-f,f,20,-180,-270),...Wr(c/2+c*.1,f,f,20,-90,-180),{x:-c/2-f,y:u/2},...Wr(c/2,u/2,f,20,0,90),{x:-c/2,y:u/2+f},{x:c/2,y:u/2+f}],x=wt.svg(r),v=Tt(t,{fill:"none"});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=ne(g).replace("Z",""),w=x.path(S,v),T=ne(y),M=x.path(T,{...v}),z=r.insert("g",":first-child");return z.insert(()=>M,":first-child").attr("stroke-opacity",0),z.insert(()=>w,":first-child"),z.attr("class","text"),p&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",n),z.attr("transform",`translate(${f}, 0)`),l.attr("transform",`translate(${-c/2+f-(o.x-(o.left??0))},${-u/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Mt(t,z),t.intersect=function(D){return St.polygon(t,y,D)},r}C(VA,"curlyBraceLeft");function Yr(e,t,i,n=100,r=0,o=180){const l=[],c=r*Math.PI/180,p=(o*Math.PI/180-c)/(n-1);for(let g=0;g<n;g++){const y=c+g*p,x=e+i*Math.cos(y),v=t+i*Math.sin(y);l.push({x,y:v})}return l}C(Yr,"generateCirclePoints");async function XA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=o.width+(t.padding??0),u=o.height+(t.padding??0),f=Math.max(5,u*.1),{cssStyles:p}=t,g=[...Yr(c/2,-u/2,f,20,-90,0),{x:c/2+f,y:-f},...Yr(c/2+f*2,-f,f,20,-180,-270),...Yr(c/2+f*2,f,f,20,-90,-180),{x:c/2+f,y:u/2},...Yr(c/2,u/2,f,20,0,90)],y=[{x:-c/2,y:-u/2-f},{x:c/2,y:-u/2-f},...Yr(c/2,-u/2,f,20,-90,0),{x:c/2+f,y:-f},...Yr(c/2+f*2,-f,f,20,-180,-270),...Yr(c/2+f*2,f,f,20,-90,-180),{x:c/2+f,y:u/2},...Yr(c/2,u/2,f,20,0,90),{x:c/2,y:u/2+f},{x:-c/2,y:u/2+f}],x=wt.svg(r),v=Tt(t,{fill:"none"});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=ne(g).replace("Z",""),w=x.path(S,v),T=ne(y),M=x.path(T,{...v}),z=r.insert("g",":first-child");return z.insert(()=>M,":first-child").attr("stroke-opacity",0),z.insert(()=>w,":first-child"),z.attr("class","text"),p&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",n),z.attr("transform",`translate(${-f}, 0)`),l.attr("transform",`translate(${-c/2+(t.padding??0)/2-(o.x-(o.left??0))},${-u/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Mt(t,z),t.intersect=function(D){return St.polygon(t,y,D)},r}C(XA,"curlyBraceRight");function xi(e,t,i,n=100,r=0,o=180){const l=[],c=r*Math.PI/180,p=(o*Math.PI/180-c)/(n-1);for(let g=0;g<n;g++){const y=c+g*p,x=e+i*Math.cos(y),v=t+i*Math.sin(y);l.push({x:-x,y:-v})}return l}C(xi,"generateCirclePoints");async function ZA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=o.width+(t.padding??0),u=o.height+(t.padding??0),f=Math.max(5,u*.1),{cssStyles:p}=t,g=[...xi(c/2,-u/2,f,30,-90,0),{x:-c/2-f,y:f},...xi(c/2+f*2,-f,f,20,-180,-270),...xi(c/2+f*2,f,f,20,-90,-180),{x:-c/2-f,y:-u/2},...xi(c/2,u/2,f,20,0,90)],y=[...xi(-c/2+f+f/2,-u/2,f,20,-90,-180),{x:c/2-f/2,y:f},...xi(-c/2-f/2,-f,f,20,0,90),...xi(-c/2-f/2,f,f,20,-90,0),{x:c/2-f/2,y:-f},...xi(-c/2+f+f/2,u/2,f,30,-180,-270)],x=[{x:c/2,y:-u/2-f},{x:-c/2,y:-u/2-f},...xi(c/2,-u/2,f,20,-90,0),{x:-c/2-f,y:-f},...xi(c/2+f*2,-f,f,20,-180,-270),...xi(c/2+f*2,f,f,20,-90,-180),{x:-c/2-f,y:u/2},...xi(c/2,u/2,f,20,0,90),{x:-c/2,y:u/2+f},{x:c/2-f-f/2,y:u/2+f},...xi(-c/2+f+f/2,-u/2,f,20,-90,-180),{x:c/2-f/2,y:f},...xi(-c/2-f/2,-f,f,20,0,90),...xi(-c/2-f/2,f,f,20,-90,0),{x:c/2-f/2,y:-f},...xi(-c/2+f+f/2,u/2,f,30,-180,-270)],v=wt.svg(r),_=Tt(t,{fill:"none"});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const w=ne(g).replace("Z",""),T=v.path(w,_),z=ne(y).replace("Z",""),D=v.path(z,_),E=ne(x),R=v.path(E,{..._}),I=r.insert("g",":first-child");return I.insert(()=>R,":first-child").attr("stroke-opacity",0),I.insert(()=>T,":first-child"),I.insert(()=>D,":first-child"),I.attr("class","text"),p&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(${f-f/4}, 0)`),l.attr("transform",`translate(${-c/2+(t.padding??0)/2-(o.x-(o.left??0))},${-u/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Mt(t,I),t.intersect=function(J){return St.polygon(t,x,J)},r}C(ZA,"curlyBraces");async function QA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=80,c=20,u=Math.max(l,(o.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),f=Math.max(c,o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),p=f/2,{cssStyles:g}=t,y=wt.svg(r),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=u,_=f,S=v-p,w=_/4,T=[{x:S,y:0},{x:w,y:0},{x:0,y:_/2},{x:w,y:_},{x:S,y:_},...Jy(-S,-_/2,p,50,270,90)],M=ne(T),z=y.path(M,x),D=r.insert(()=>z,":first-child");return D.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&D.selectChildren("path").attr("style",g),n&&t.look!=="handDrawn"&&D.selectChildren("path").attr("style",n),D.attr("transform",`translate(${-u/2}, ${-f/2})`),Mt(t,D),t.intersect=function(E){return St.polygon(t,T,E)},r}C(QA,"curvedTrapezoid");var pI=C((e,t,i,n,r,o)=>[`M${e},${t+o}`,`a${r},${o} 0,0,0 ${i},0`,`a${r},${o} 0,0,0 ${-i},0`,`l0,${n}`,`a${r},${o} 0,0,0 ${i},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),gI=C((e,t,i,n,r,o)=>[`M${e},${t+o}`,`M${e+i},${t+o}`,`a${r},${o} 0,0,0 ${-i},0`,`l0,${n}`,`a${r},${o} 0,0,0 ${i},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),mI=C((e,t,i,n,r,o)=>[`M${e-i/2},${-n/2}`,`a${r},${o} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function KA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+t.padding,t.width??0),u=c/2,f=u/(2.5+c/50),p=Math.max(o.height+f+t.padding,t.height??0);let g;const{cssStyles:y}=t;if(t.look==="handDrawn"){const x=wt.svg(r),v=gI(0,0,c,p,u,f),_=mI(0,f,c,p,u,f),S=x.path(v,Tt(t,{})),w=x.path(_,Tt(t,{fill:"none"}));g=r.insert(()=>w,":first-child"),g=r.insert(()=>S,":first-child"),g.attr("class","basic label-container"),y&&g.attr("style",y)}else{const x=pI(0,0,c,p,u,f);g=r.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",Ii(y)).attr("style",n)}return g.attr("label-offset-y",f),g.attr("transform",`translate(${-c/2}, ${-(p/2+f)})`),Mt(t,g),l.attr("transform",`translate(${-(o.width/2)-(o.x-(o.left??0))}, ${-(o.height/2)+(t.padding??0)/1.5-(o.y-(o.top??0))})`),t.intersect=function(x){const v=St.rect(t,x),_=v.x-(t.x??0);if(u!=0&&(Math.abs(_)<(t.width??0)/2||Math.abs(_)==(t.width??0)/2&&Math.abs(v.y-(t.y??0))>(t.height??0)/2-f)){let S=f*f*(1-_*_/(u*u));S>0&&(S=Math.sqrt(S)),S=f-S,x.y-(t.y??0)>0&&(S=-S),v.y+=S}return v},r}C(KA,"cylinder");async function JA(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=o.width+t.padding,u=o.height+t.padding,f=u*.2,p=-c/2,g=-u/2-f/2,{cssStyles:y}=t,x=wt.svg(r),v=Tt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:p,y:g+f},{x:-p,y:g+f},{x:-p,y:-g},{x:p,y:-g},{x:p,y:g},{x:-p,y:g},{x:-p,y:g+f}],S=x.polygon(_.map(T=>[T.x,T.y]),v),w=r.insert(()=>S,":first-child");return w.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",y),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),l.attr("transform",`translate(${p+(t.padding??0)/2-(o.x-(o.left??0))}, ${g+f+(t.padding??0)/2-(o.y-(o.top??0))})`),Mt(t,w),t.intersect=function(T){return St.rect(t,T)},r}C(JA,"dividedRectangle");async function tM(e,t){var y,x;const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,halfPadding:l}=await Wt(e,t,Ht(t)),u=o.width/2+l+5,f=o.width/2+l;let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const v=wt.svg(r),_=Tt(t,{roughness:.2,strokeWidth:2.5}),S=Tt(t,{roughness:.2,strokeWidth:1.5}),w=v.circle(0,0,u*2,_),T=v.circle(0,0,f*2,S);p=r.insert("g",":first-child"),p.attr("class",Ii(t.cssClasses)).attr("style",Ii(g)),(y=p.node())==null||y.appendChild(w),(x=p.node())==null||x.appendChild(T)}else{p=r.insert("g",":first-child");const v=p.insert("circle",":first-child"),_=p.insert("circle");p.attr("class","basic label-container").attr("style",n),v.attr("class","outer-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0),_.attr("class","inner-circle").attr("style",n).attr("r",f).attr("cx",0).attr("cy",0)}return Mt(t,p),t.intersect=function(v){return ct.info("DoubleCircle intersect",t,u,v),St.circle(t,u,v)},r}C(tM,"doublecircle");function eM(e,t,{config:{themeVariables:i}}){const{labelStyles:n,nodeStyles:r}=Et(t);t.label="",t.labelStyle=n;const o=e.insert("g").attr("class",Ht(t)).attr("id",t.domId??t.id),l=7,{cssStyles:c}=t,u=wt.svg(o),{nodeBorder:f}=i,p=Tt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(p.roughness=0);const g=u.circle(0,0,l*2,p),y=o.insert(()=>g,":first-child");return y.selectAll("path").attr("style",`fill: ${f} !important;`),c&&c.length>0&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",c),r&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",r),Mt(t,y),t.intersect=function(x){return ct.info("filledCircle intersect",t,{radius:l,point:x}),St.circle(t,l,x)},o}C(eM,"filledCircle");async function iM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=o.width+(t.padding??0),u=c+o.height,f=c+o.height,p=[{x:0,y:-u},{x:f,y:-u},{x:f/2,y:0}],{cssStyles:g}=t,y=wt.svg(r),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=ne(p),_=y.path(v,x),S=r.insert(()=>_,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return g&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",g),n&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",n),t.width=c,t.height=u,Mt(t,S),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-u/2+(t.padding??0)/2+(o.y-(o.top??0))})`),t.intersect=function(w){return ct.info("Triangle intersect",t,p,w),St.polygon(t,p,w)},r}C(iM,"flippedTriangle");function nM(e,t,{dir:i,config:{state:n,themeVariables:r}}){const{nodeStyles:o}=Et(t);t.label="";const l=e.insert("g").attr("class",Ht(t)).attr("id",t.domId??t.id),{cssStyles:c}=t;let u=Math.max(70,(t==null?void 0:t.width)??0),f=Math.max(10,(t==null?void 0:t.height)??0);i==="LR"&&(u=Math.max(10,(t==null?void 0:t.width)??0),f=Math.max(70,(t==null?void 0:t.height)??0));const p=-1*u/2,g=-1*f/2,y=wt.svg(l),x=Tt(t,{stroke:r.lineColor,fill:r.lineColor});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=y.rectangle(p,g,u,f,x),_=l.insert(()=>v,":first-child");c&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",c),o&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",o),Mt(t,_);const S=(n==null?void 0:n.padding)??0;return t.width&&t.height&&(t.width+=S/2||0,t.height+=S/2||0),t.intersect=function(w){return St.rect(t,w)},l}C(nM,"forkJoin");async function rM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const r=80,o=50,{shapeSvg:l,bbox:c}=await Wt(e,t,Ht(t)),u=Math.max(r,c.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(o,c.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),p=f/2,{cssStyles:g}=t,y=wt.svg(l),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-u/2,y:-f/2},{x:u/2-p,y:-f/2},...Jy(-u/2+p,0,p,50,90,270),{x:u/2-p,y:f/2},{x:-u/2,y:f/2}],_=ne(v),S=y.path(_,x),w=l.insert(()=>S,":first-child");return w.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",g),n&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),Mt(t,w),t.intersect=function(T){return ct.info("Pill intersect",t,{radius:p,point:T}),St.polygon(t,v,T)},l}C(rM,"halfRoundedRectangle");var yI=C((e,t,i,n,r)=>[`M${e+r},${t}`,`L${e+i-r},${t}`,`L${e+i},${t-n/2}`,`L${e+i-r},${t-n}`,`L${e+r},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createHexagonPathD");async function aM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=4,c=o.height+t.padding,u=c/l,f=o.width+2*u+t.padding,p=[{x:u,y:0},{x:f-u,y:0},{x:f,y:-c/2},{x:f-u,y:-c},{x:u,y:-c},{x:0,y:-c/2}];let g;const{cssStyles:y}=t;if(t.look==="handDrawn"){const x=wt.svg(r),v=Tt(t,{}),_=yI(0,0,f,c,u),S=x.path(_,v);g=r.insert(()=>S,":first-child").attr("transform",`translate(${-f/2}, ${c/2})`),y&&g.attr("style",y)}else g=ia(r,f,c,p);return n&&g.attr("style",n),t.width=f,t.height=c,Mt(t,g),t.intersect=function(x){return St.polygon(t,p,x)},r}C(aM,"hexagon");async function sM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.label="",t.labelStyle=i;const{shapeSvg:r}=await Wt(e,t,Ht(t)),o=Math.max(30,(t==null?void 0:t.width)??0),l=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:c}=t,u=wt.svg(r),f=Tt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:0,y:0},{x:o,y:0},{x:0,y:l},{x:o,y:l}],g=ne(p),y=u.path(g,f),x=r.insert(()=>y,":first-child");return x.attr("class","basic label-container"),c&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",c),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),x.attr("transform",`translate(${-o/2}, ${-l/2})`),Mt(t,x),t.intersect=function(v){return ct.info("Pill intersect",t,{points:p}),St.polygon(t,p,v)},r}C(sM,"hourglass");async function oM(e,t,{config:{themeVariables:i,flowchart:n}}){const{labelStyles:r}=Et(t);t.labelStyle=r;const o=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(o,l),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(c,u??0);const{shapeSvg:f,bbox:p,label:g}=await Wt(e,t,"icon-shape default"),y=t.pos==="t",x=c,v=c,{nodeBorder:_}=i,{stylesMap:S}=pl(t),w=-v/2,T=-x/2,M=t.label?8:0,z=wt.svg(f),D=Tt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const E=z.rectangle(w,T,v,x,D),R=Math.max(v,p.width),I=x+p.height+M,J=z.rectangle(-R/2,-I/2,R,I,{...D,fill:"transparent",stroke:"none"}),K=f.insert(()=>E,":first-child"),P=f.insert(()=>J);if(t.icon){const it=f.append("g");it.html(`<g>${await Ah(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const et=it.node().getBBox(),G=et.width,q=et.height,L=et.x,F=et.y;it.attr("transform",`translate(${-G/2-L},${y?p.height/2+M/2-q/2-F:-p.height/2-M/2-q/2-F})`),it.attr("style",`color: ${S.get("stroke")??_};`)}return g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${y?-I/2:I/2-p.height})`),K.attr("transform",`translate(0,${y?p.height/2+M/2:-p.height/2-M/2})`),Mt(t,P),t.intersect=function(it){if(ct.info("iconSquare intersect",t,it),!t.label)return St.rect(t,it);const et=t.x??0,G=t.y??0,q=t.height??0;let L=[];return y?L=[{x:et-p.width/2,y:G-q/2},{x:et+p.width/2,y:G-q/2},{x:et+p.width/2,y:G-q/2+p.height+M},{x:et+v/2,y:G-q/2+p.height+M},{x:et+v/2,y:G+q/2},{x:et-v/2,y:G+q/2},{x:et-v/2,y:G-q/2+p.height+M},{x:et-p.width/2,y:G-q/2+p.height+M}]:L=[{x:et-v/2,y:G-q/2},{x:et+v/2,y:G-q/2},{x:et+v/2,y:G-q/2+x},{x:et+p.width/2,y:G-q/2+x},{x:et+p.width/2/2,y:G+q/2},{x:et-p.width/2,y:G+q/2},{x:et-p.width/2,y:G-q/2+x},{x:et-v/2,y:G-q/2+x}],St.polygon(t,L,it)},f}C(oM,"icon");async function lM(e,t,{config:{themeVariables:i,flowchart:n}}){const{labelStyles:r}=Et(t);t.labelStyle=r;const o=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(o,l),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(c,u??0);const{shapeSvg:f,bbox:p,label:g}=await Wt(e,t,"icon-shape default"),y=20,x=t.label?8:0,v=t.pos==="t",{nodeBorder:_,mainBkg:S}=i,{stylesMap:w}=pl(t),T=wt.svg(f),M=Tt(t,{});t.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const z=w.get("fill");M.stroke=z??S;const D=f.append("g");t.icon&&D.html(`<g>${await Ah(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const E=D.node().getBBox(),R=E.width,I=E.height,J=E.x,K=E.y,P=Math.max(R,I)*Math.SQRT2+y*2,it=T.circle(0,0,P,M),et=Math.max(P,p.width),G=P+p.height+x,q=T.rectangle(-et/2,-G/2,et,G,{...M,fill:"transparent",stroke:"none"}),L=f.insert(()=>it,":first-child"),F=f.insert(()=>q);return D.attr("transform",`translate(${-R/2-J},${v?p.height/2+x/2-I/2-K:-p.height/2-x/2-I/2-K})`),D.attr("style",`color: ${w.get("stroke")??_};`),g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${v?-G/2:G/2-p.height})`),L.attr("transform",`translate(0,${v?p.height/2+x/2:-p.height/2-x/2})`),Mt(t,F),t.intersect=function(j){return ct.info("iconSquare intersect",t,j),St.rect(t,j)},f}C(lM,"iconCircle");async function cM(e,t,{config:{themeVariables:i,flowchart:n}}){const{labelStyles:r}=Et(t);t.labelStyle=r;const o=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(o,l),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(c,u??0);const{shapeSvg:f,bbox:p,halfPadding:g,label:y}=await Wt(e,t,"icon-shape default"),x=t.pos==="t",v=c+g*2,_=c+g*2,{nodeBorder:S,mainBkg:w}=i,{stylesMap:T}=pl(t),M=-_/2,z=-v/2,D=t.label?8:0,E=wt.svg(f),R=Tt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=T.get("fill");R.stroke=I??w;const J=E.path(ea(M,z,_,v,5),R),K=Math.max(_,p.width),P=v+p.height+D,it=E.rectangle(-K/2,-P/2,K,P,{...R,fill:"transparent",stroke:"none"}),et=f.insert(()=>J,":first-child").attr("class","icon-shape2"),G=f.insert(()=>it);if(t.icon){const q=f.append("g");q.html(`<g>${await Ah(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const L=q.node().getBBox(),F=L.width,j=L.height,ut=L.x,O=L.y;q.attr("transform",`translate(${-F/2-ut},${x?p.height/2+D/2-j/2-O:-p.height/2-D/2-j/2-O})`),q.attr("style",`color: ${T.get("stroke")??S};`)}return y.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${x?-P/2:P/2-p.height})`),et.attr("transform",`translate(0,${x?p.height/2+D/2:-p.height/2-D/2})`),Mt(t,G),t.intersect=function(q){if(ct.info("iconSquare intersect",t,q),!t.label)return St.rect(t,q);const L=t.x??0,F=t.y??0,j=t.height??0;let ut=[];return x?ut=[{x:L-p.width/2,y:F-j/2},{x:L+p.width/2,y:F-j/2},{x:L+p.width/2,y:F-j/2+p.height+D},{x:L+_/2,y:F-j/2+p.height+D},{x:L+_/2,y:F+j/2},{x:L-_/2,y:F+j/2},{x:L-_/2,y:F-j/2+p.height+D},{x:L-p.width/2,y:F-j/2+p.height+D}]:ut=[{x:L-_/2,y:F-j/2},{x:L+_/2,y:F-j/2},{x:L+_/2,y:F-j/2+v},{x:L+p.width/2,y:F-j/2+v},{x:L+p.width/2/2,y:F+j/2},{x:L-p.width/2,y:F+j/2},{x:L-p.width/2,y:F-j/2+v},{x:L-_/2,y:F-j/2+v}],St.polygon(t,ut,q)},f}C(cM,"iconRounded");async function hM(e,t,{config:{themeVariables:i,flowchart:n}}){const{labelStyles:r}=Et(t);t.labelStyle=r;const o=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(o,l),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(c,u??0);const{shapeSvg:f,bbox:p,halfPadding:g,label:y}=await Wt(e,t,"icon-shape default"),x=t.pos==="t",v=c+g*2,_=c+g*2,{nodeBorder:S,mainBkg:w}=i,{stylesMap:T}=pl(t),M=-_/2,z=-v/2,D=t.label?8:0,E=wt.svg(f),R=Tt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=T.get("fill");R.stroke=I??w;const J=E.path(ea(M,z,_,v,.1),R),K=Math.max(_,p.width),P=v+p.height+D,it=E.rectangle(-K/2,-P/2,K,P,{...R,fill:"transparent",stroke:"none"}),et=f.insert(()=>J,":first-child"),G=f.insert(()=>it);if(t.icon){const q=f.append("g");q.html(`<g>${await Ah(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const L=q.node().getBBox(),F=L.width,j=L.height,ut=L.x,O=L.y;q.attr("transform",`translate(${-F/2-ut},${x?p.height/2+D/2-j/2-O:-p.height/2-D/2-j/2-O})`),q.attr("style",`color: ${T.get("stroke")??S};`)}return y.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${x?-P/2:P/2-p.height})`),et.attr("transform",`translate(0,${x?p.height/2+D/2:-p.height/2-D/2})`),Mt(t,G),t.intersect=function(q){if(ct.info("iconSquare intersect",t,q),!t.label)return St.rect(t,q);const L=t.x??0,F=t.y??0,j=t.height??0;let ut=[];return x?ut=[{x:L-p.width/2,y:F-j/2},{x:L+p.width/2,y:F-j/2},{x:L+p.width/2,y:F-j/2+p.height+D},{x:L+_/2,y:F-j/2+p.height+D},{x:L+_/2,y:F+j/2},{x:L-_/2,y:F+j/2},{x:L-_/2,y:F-j/2+p.height+D},{x:L-p.width/2,y:F-j/2+p.height+D}]:ut=[{x:L-_/2,y:F-j/2},{x:L+_/2,y:F-j/2},{x:L+_/2,y:F-j/2+v},{x:L+p.width/2,y:F-j/2+v},{x:L+p.width/2/2,y:F+j/2},{x:L-p.width/2,y:F+j/2},{x:L-p.width/2,y:F-j/2+v},{x:L-_/2,y:F-j/2+v}],St.polygon(t,ut,q)},f}C(hM,"iconSquare");async function uM(e,t,{config:{flowchart:i}}){const n=new Image;n.src=(t==null?void 0:t.img)??"",await n.decode();const r=Number(n.naturalWidth.toString().replace("px","")),o=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=r/o;const{labelStyles:l}=Et(t);t.labelStyle=l;const c=i==null?void 0:i.wrappingWidth;t.defaultWidth=i==null?void 0:i.wrappingWidth;const u=Math.max(t.label?c??0:0,(t==null?void 0:t.assetWidth)??r),f=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:u,p=t.constraint==="on"?f/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??o;t.width=Math.max(f,c??0);const{shapeSvg:g,bbox:y,label:x}=await Wt(e,t,"image-shape default"),v=t.pos==="t",_=-f/2,S=-p/2,w=t.label?8:0,T=wt.svg(g),M=Tt(t,{});t.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const z=T.rectangle(_,S,f,p,M),D=Math.max(f,y.width),E=p+y.height+w,R=T.rectangle(-D/2,-E/2,D,E,{...M,fill:"none",stroke:"none"}),I=g.insert(()=>z,":first-child"),J=g.insert(()=>R);if(t.img){const K=g.append("image");K.attr("href",t.img),K.attr("width",f),K.attr("height",p),K.attr("preserveAspectRatio","none"),K.attr("transform",`translate(${-f/2},${v?E/2-p:-E/2})`)}return x.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${v?-p/2-y.height/2-w/2:p/2-y.height/2+w/2})`),I.attr("transform",`translate(0,${v?y.height/2+w/2:-y.height/2-w/2})`),Mt(t,J),t.intersect=function(K){if(ct.info("iconSquare intersect",t,K),!t.label)return St.rect(t,K);const P=t.x??0,it=t.y??0,et=t.height??0;let G=[];return v?G=[{x:P-y.width/2,y:it-et/2},{x:P+y.width/2,y:it-et/2},{x:P+y.width/2,y:it-et/2+y.height+w},{x:P+f/2,y:it-et/2+y.height+w},{x:P+f/2,y:it+et/2},{x:P-f/2,y:it+et/2},{x:P-f/2,y:it-et/2+y.height+w},{x:P-y.width/2,y:it-et/2+y.height+w}]:G=[{x:P-f/2,y:it-et/2},{x:P+f/2,y:it-et/2},{x:P+f/2,y:it-et/2+p},{x:P+y.width/2,y:it-et/2+p},{x:P+y.width/2/2,y:it+et/2},{x:P-y.width/2,y:it+et/2},{x:P-y.width/2,y:it-et/2+p},{x:P-f/2,y:it-et/2+p}],St.polygon(t,G,K)},g}C(uM,"imageSquare");async function fM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=[{x:0,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:-3*c/6,y:-c}];let f;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=wt.svg(r),y=Tt(t,{}),x=ne(u),v=g.path(x,y);f=r.insert(()=>v,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),p&&f.attr("style",p)}else f=ia(r,l,c,u);return n&&f.attr("style",n),t.width=l,t.height=c,Mt(t,f),t.intersect=function(g){return St.polygon(t,u,g)},r}C(fM,"inv_trapezoid");async function Eh(e,t,i){const{labelStyles:n,nodeStyles:r}=Et(t);t.labelStyle=n;const{shapeSvg:o,bbox:l}=await Wt(e,t,Ht(t)),c=Math.max(l.width+i.labelPaddingX*2,(t==null?void 0:t.width)||0),u=Math.max(l.height+i.labelPaddingY*2,(t==null?void 0:t.height)||0),f=-c/2,p=-u/2;let g,{rx:y,ry:x}=t;const{cssStyles:v}=t;if(i!=null&&i.rx&&i.ry&&(y=i.rx,x=i.ry),t.look==="handDrawn"){const _=wt.svg(o),S=Tt(t,{}),w=y||x?_.path(ea(f,p,c,u,y||0),S):_.rectangle(f,p,c,u,S);g=o.insert(()=>w,":first-child"),g.attr("class","basic label-container").attr("style",Ii(v))}else g=o.insert("rect",":first-child"),g.attr("class","basic label-container").attr("style",r).attr("rx",Ii(y)).attr("ry",Ii(x)).attr("x",f).attr("y",p).attr("width",c).attr("height",u);return Mt(t,g),t.intersect=function(_){return St.rect(t,_)},o}C(Eh,"drawRect");async function dM(e,t){const{shapeSvg:i,bbox:n,label:r}=await Wt(e,t,"label"),o=i.insert("rect",":first-child");return o.attr("width",.1).attr("height",.1),i.attr("class","label edgeLabel"),r.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Mt(t,o),t.intersect=function(u){return St.rect(t,u)},i}C(dM,"labelRect");async function pM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),u=[{x:0,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:-(3*c)/6,y:-c}];let f;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=wt.svg(r),y=Tt(t,{}),x=ne(u),v=g.path(x,y);f=r.insert(()=>v,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),p&&f.attr("style",p)}else f=ia(r,l,c,u);return n&&f.attr("style",n),t.width=l,t.height=c,Mt(t,f),t.intersect=function(g){return St.polygon(t,u,g)},r}C(pM,"lean_left");async function gM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),u=[{x:-3*c/6,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:0,y:-c}];let f;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=wt.svg(r),y=Tt(t,{}),x=ne(u),v=g.path(x,y);f=r.insert(()=>v,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),p&&f.attr("style",p)}else f=ia(r,l,c,u);return n&&f.attr("style",n),t.width=l,t.height=c,Mt(t,f),t.intersect=function(g){return St.polygon(t,u,g)},r}C(gM,"lean_right");function mM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.label="",t.labelStyle=i;const r=e.insert("g").attr("class",Ht(t)).attr("id",t.domId??t.id),{cssStyles:o}=t,l=Math.max(35,(t==null?void 0:t.width)??0),c=Math.max(35,(t==null?void 0:t.height)??0),u=7,f=[{x:l,y:0},{x:0,y:c+u/2},{x:l-2*u,y:c+u/2},{x:0,y:2*c},{x:l,y:c-u/2},{x:2*u,y:c-u/2}],p=wt.svg(r),g=Tt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=ne(f),x=p.path(y,g),v=r.insert(()=>x,":first-child");return o&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",o),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(-${l/2},${-c})`),Mt(t,v),t.intersect=function(_){return ct.info("lightningBolt intersect",t,_),St.polygon(t,f,_)},r}C(mM,"lightningBolt");var xI=C((e,t,i,n,r,o,l)=>[`M${e},${t+o}`,`a${r},${o} 0,0,0 ${i},0`,`a${r},${o} 0,0,0 ${-i},0`,`l0,${n}`,`a${r},${o} 0,0,0 ${i},0`,`l0,${-n}`,`M${e},${t+o+l}`,`a${r},${o} 0,0,0 ${i},0`].join(" "),"createCylinderPathD"),bI=C((e,t,i,n,r,o,l)=>[`M${e},${t+o}`,`M${e+i},${t+o}`,`a${r},${o} 0,0,0 ${-i},0`,`l0,${n}`,`a${r},${o} 0,0,0 ${i},0`,`l0,${-n}`,`M${e},${t+o+l}`,`a${r},${o} 0,0,0 ${i},0`].join(" "),"createOuterCylinderPathD"),vI=C((e,t,i,n,r,o)=>[`M${e-i/2},${-n/2}`,`a${r},${o} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function yM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0),t.width??0),u=c/2,f=u/(2.5+c/50),p=Math.max(o.height+f+(t.padding??0),t.height??0),g=p*.1;let y;const{cssStyles:x}=t;if(t.look==="handDrawn"){const v=wt.svg(r),_=bI(0,0,c,p,u,f,g),S=vI(0,f,c,p,u,f),w=Tt(t,{}),T=v.path(_,w),M=v.path(S,w);r.insert(()=>M,":first-child").attr("class","line"),y=r.insert(()=>T,":first-child"),y.attr("class","basic label-container"),x&&y.attr("style",x)}else{const v=xI(0,0,c,p,u,f,g);y=r.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",Ii(x)).attr("style",n)}return y.attr("label-offset-y",f),y.attr("transform",`translate(${-c/2}, ${-(p/2+f)})`),Mt(t,y),l.attr("transform",`translate(${-(o.width/2)-(o.x-(o.left??0))}, ${-(o.height/2)+f-(o.y-(o.top??0))})`),t.intersect=function(v){const _=St.rect(t,v),S=_.x-(t.x??0);if(u!=0&&(Math.abs(S)<(t.width??0)/2||Math.abs(S)==(t.width??0)/2&&Math.abs(_.y-(t.y??0))>(t.height??0)/2-f)){let w=f*f*(1-S*S/(u*u));w>0&&(w=Math.sqrt(w)),w=f-w,v.y-(t.y??0)>0&&(w=-w),_.y+=w}return _},r}C(yM,"linedCylinder");async function xM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=u/4,p=u+f,{cssStyles:g}=t,y=wt.svg(r),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-c/2-c/2*.1,y:-p/2},{x:-c/2-c/2*.1,y:p/2},...Ia(-c/2-c/2*.1,p/2,c/2+c/2*.1,p/2,f,.8),{x:c/2+c/2*.1,y:-p/2},{x:-c/2-c/2*.1,y:-p/2},{x:-c/2,y:-p/2},{x:-c/2,y:p/2*1.1},{x:-c/2,y:-p/2}],_=y.polygon(v.map(w=>[w.x,w.y]),x),S=r.insert(()=>_,":first-child");return S.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)+c/2*.1/2-(o.x-(o.left??0))},${-u/2+(t.padding??0)-f/2-(o.y-(o.top??0))})`),Mt(t,S),t.intersect=function(w){return St.polygon(t,v,w)},r}C(xM,"linedWaveEdgedRect");async function bM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=5,p=-c/2,g=-u/2,{cssStyles:y}=t,x=wt.svg(r),v=Tt(t,{}),_=[{x:p-f,y:g+f},{x:p-f,y:g+u+f},{x:p+c-f,y:g+u+f},{x:p+c-f,y:g+u},{x:p+c,y:g+u},{x:p+c,y:g+u-f},{x:p+c+f,y:g+u-f},{x:p+c+f,y:g-f},{x:p+f,y:g-f},{x:p+f,y:g},{x:p,y:g},{x:p,y:g+f}],S=[{x:p,y:g+f},{x:p+c-f,y:g+f},{x:p+c-f,y:g+u},{x:p+c,y:g+u},{x:p+c,y:g},{x:p,y:g}];t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const w=ne(_),T=x.path(w,v),M=ne(S),z=x.path(M,{...v,fill:"none"}),D=r.insert(()=>z,":first-child");return D.insert(()=>T,":first-child"),D.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",y),n&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",n),l.attr("transform",`translate(${-(o.width/2)-f-(o.x-(o.left??0))}, ${-(o.height/2)+f-(o.y-(o.top??0))})`),Mt(t,D),t.intersect=function(E){return St.polygon(t,_,E)},r}C(bM,"multiRect");async function vM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=u/4,p=u+f,g=-c/2,y=-p/2,x=5,{cssStyles:v}=t,_=Ia(g-x,y+p+x,g+c-x,y+p+x,f,.8),S=_==null?void 0:_[_.length-1],w=[{x:g-x,y:y+x},{x:g-x,y:y+p+x},..._,{x:g+c-x,y:S.y-x},{x:g+c,y:S.y-x},{x:g+c,y:S.y-2*x},{x:g+c+x,y:S.y-2*x},{x:g+c+x,y:y-x},{x:g+x,y:y-x},{x:g+x,y},{x:g,y},{x:g,y:y+x}],T=[{x:g,y:y+x},{x:g+c-x,y:y+x},{x:g+c-x,y:S.y-x},{x:g+c,y:S.y-x},{x:g+c,y},{x:g,y}],M=wt.svg(r),z=Tt(t,{});t.look!=="handDrawn"&&(z.roughness=0,z.fillStyle="solid");const D=ne(w),E=M.path(D,z),R=ne(T),I=M.path(R,z),J=r.insert(()=>E,":first-child");return J.insert(()=>I),J.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&J.selectAll("path").attr("style",v),n&&t.look!=="handDrawn"&&J.selectAll("path").attr("style",n),J.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-(o.width/2)-x-(o.x-(o.left??0))}, ${-(o.height/2)+x-f/2-(o.y-(o.top??0))})`),Mt(t,J),t.intersect=function(K){return St.polygon(t,w,K)},r}C(vM,"multiWaveEdgedRectangle");async function _M(e,t,{config:{themeVariables:i}}){var w;const{labelStyles:n,nodeStyles:r}=Et(t);t.labelStyle=n,t.useHtmlLabels||((w=tn().flowchart)==null?void 0:w.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:l,bbox:c}=await Wt(e,t,Ht(t)),u=Math.max(c.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(c.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),p=-u/2,g=-f/2,{cssStyles:y}=t,x=wt.svg(l),v=Tt(t,{fill:i.noteBkgColor,stroke:i.noteBorderColor});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=x.rectangle(p,g,u,f,v),S=l.insert(()=>_,":first-child");return S.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",y),r&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",r),Mt(t,S),t.intersect=function(T){return St.rect(t,T)},l}C(_M,"note");var _I=C((e,t,i)=>[`M${e+i/2},${t}`,`L${e+i},${t-i/2}`,`L${e+i/2},${t-i}`,`L${e},${t-i/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function SM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=o.width+t.padding,c=o.height+t.padding,u=l+c,f=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const y=wt.svg(r),x=Tt(t,{}),v=_I(0,0,u),_=y.path(v,x);p=r.insert(()=>_,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`),g&&p.attr("style",g)}else p=ia(r,u,u,f);return n&&p.attr("style",n),Mt(t,p),t.intersect=function(y){return ct.debug(`APA12 Intersect called SPLIT
point:`,y,`
node:
`,t,`
res:`,St.polygon(t,f,y)),St.polygon(t,f,y)},r}C(SM,"question");async function CM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),f=-c/2,p=-u/2,g=p/2,y=[{x:f+g,y:p},{x:f,y:0},{x:f+g,y:-p},{x:-f,y:-p},{x:-f,y:p}],{cssStyles:x}=t,v=wt.svg(r),_=Tt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=ne(y),w=v.path(S,_),T=r.insert(()=>w,":first-child");return T.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",x),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(${-g/2},0)`),l.attr("transform",`translate(${-g/2-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Mt(t,T),t.intersect=function(M){return St.polygon(t,y,M)},r}C(CM,"rect_left_inv_arrow");async function wM(e,t){var I,J;const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;let r;t.cssClasses?r="node "+t.cssClasses:r="node default";const o=e.insert("g").attr("class",r).attr("id",t.domId||t.id),l=o.insert("g"),c=o.insert("g").attr("class","label").attr("style",n),u=t.description,f=t.label,p=c.node().appendChild(await ks(f,t.labelStyle,!0,!0));let g={width:0,height:0};if(ni((J=(I=he())==null?void 0:I.flowchart)==null?void 0:J.htmlLabels)){const K=p.children[0],P=ee(p);g=K.getBoundingClientRect(),P.attr("width",g.width),P.attr("height",g.height)}ct.info("Text 2",u);const y=u||[],x=p.getBBox(),v=c.node().appendChild(await ks(y.join?y.join("<br/>"):y,t.labelStyle,!0,!0)),_=v.children[0],S=ee(v);g=_.getBoundingClientRect(),S.attr("width",g.width),S.attr("height",g.height);const w=(t.padding||0)/2;ee(v).attr("transform","translate( "+(g.width>x.width?0:(x.width-g.width)/2)+", "+(x.height+w+5)+")"),ee(p).attr("transform","translate( "+(g.width<x.width?0:-(x.width-g.width)/2)+", 0)"),g=c.node().getBBox(),c.attr("transform","translate("+-g.width/2+", "+(-g.height/2-w+3)+")");const T=g.width+(t.padding||0),M=g.height+(t.padding||0),z=-g.width/2-w,D=-g.height/2-w;let E,R;if(t.look==="handDrawn"){const K=wt.svg(o),P=Tt(t,{}),it=K.path(ea(z,D,T,M,t.rx||0),P),et=K.line(-g.width/2-w,-g.height/2-w+x.height+w,g.width/2+w,-g.height/2-w+x.height+w,P);R=o.insert(()=>(ct.debug("Rough node insert CXC",it),et),":first-child"),E=o.insert(()=>(ct.debug("Rough node insert CXC",it),it),":first-child")}else E=l.insert("rect",":first-child"),R=l.insert("line"),E.attr("class","outer title-state").attr("style",n).attr("x",-g.width/2-w).attr("y",-g.height/2-w).attr("width",g.width+(t.padding||0)).attr("height",g.height+(t.padding||0)),R.attr("class","divider").attr("x1",-g.width/2-w).attr("x2",g.width/2+w).attr("y1",-g.height/2-w+x.height+w).attr("y2",-g.height/2-w+x.height+w);return Mt(t,E),t.intersect=function(K){return St.rect(t,K)},o}C(wM,"rectWithTitle");async function kM(e,t){const i={rx:5,ry:5,labelPaddingX:((t==null?void 0:t.padding)||0)*1,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Eh(e,t,i)}C(kM,"roundedRect");async function TM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=(t==null?void 0:t.padding)??0,u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),p=-o.width/2-c,g=-o.height/2-c,{cssStyles:y}=t,x=wt.svg(r),v=Tt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:p,y:g},{x:p+u+8,y:g},{x:p+u+8,y:g+f},{x:p-8,y:g+f},{x:p-8,y:g},{x:p,y:g},{x:p,y:g+f}],S=x.polygon(_.map(T=>[T.x,T.y]),v),w=r.insert(()=>S,":first-child");return w.attr("class","basic label-container").attr("style",Ii(y)),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),y&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),l.attr("transform",`translate(${-u/2+4+(t.padding??0)-(o.x-(o.left??0))},${-f/2+(t.padding??0)-(o.y-(o.top??0))})`),Mt(t,w),t.intersect=function(T){return St.rect(t,T)},r}C(TM,"shadedProcess");async function AM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=-c/2,p=-u/2,{cssStyles:g}=t,y=wt.svg(r),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:f,y:p},{x:f,y:p+u},{x:f+c,y:p+u},{x:f+c,y:p-u/2}],_=ne(v),S=y.path(_,x),w=r.insert(()=>S,":first-child");return w.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",g),n&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),w.attr("transform",`translate(0, ${u/4})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(o.x-(o.left??0))}, ${-u/4+(t.padding??0)-(o.y-(o.top??0))})`),Mt(t,w),t.intersect=function(T){return St.polygon(t,v,T)},r}C(AM,"slopedRect");async function MM(e,t){const i={rx:0,ry:0,labelPaddingX:((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Eh(e,t,i)}C(MM,"squareRect");async function EM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=o.height+t.padding,c=o.width+l/4+t.padding;let u;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=wt.svg(r),g=Tt(t,{}),y=ea(-c/2,-l/2,c,l,l/2),x=p.path(y,g);u=r.insert(()=>x,":first-child"),u.attr("class","basic label-container").attr("style",Ii(f))}else u=r.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",n).attr("rx",l/2).attr("ry",l/2).attr("x",-c/2).attr("y",-l/2).attr("width",c).attr("height",l);return Mt(t,u),t.intersect=function(p){return St.rect(t,p)},r}C(EM,"stadium");async function BM(e,t){return Eh(e,t,{rx:5,ry:5})}C(BM,"state");function LM(e,t,{config:{themeVariables:i}}){const{labelStyles:n,nodeStyles:r}=Et(t);t.labelStyle=n;const{cssStyles:o}=t,{lineColor:l,stateBorder:c,nodeBorder:u}=i,f=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),p=wt.svg(f),g=Tt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=p.circle(0,0,14,{...g,stroke:l,strokeWidth:2}),x=c??u,v=p.circle(0,0,5,{...g,fill:x,stroke:x,strokeWidth:2,fillStyle:"solid"}),_=f.insert(()=>y,":first-child");return _.insert(()=>v),o&&_.selectAll("path").attr("style",o),r&&_.selectAll("path").attr("style",r),Mt(t,_),t.intersect=function(S){return St.circle(t,7,S)},f}C(LM,"stateEnd");function DM(e,t,{config:{themeVariables:i}}){const{lineColor:n}=i,r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let o;if(t.look==="handDrawn"){const c=wt.svg(r).circle(0,0,14,eI(n));o=r.insert(()=>c),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else o=r.insert("circle",":first-child"),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Mt(t,o),t.intersect=function(l){return St.circle(t,7,l)},r}C(DM,"stateStart");async function OM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=((t==null?void 0:t.padding)||0)/2,c=o.width+t.padding,u=o.height+t.padding,f=-o.width/2-l,p=-o.height/2-l,g=[{x:0,y:0},{x:c,y:0},{x:c,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){const y=wt.svg(r),x=Tt(t,{}),v=y.rectangle(f-8,p,c+16,u,x),_=y.line(f,p,f,p+u,x),S=y.line(f+c,p,f+c,p+u,x);r.insert(()=>_,":first-child"),r.insert(()=>S,":first-child");const w=r.insert(()=>v,":first-child"),{cssStyles:T}=t;w.attr("class","basic label-container").attr("style",Ii(T)),Mt(t,w)}else{const y=ia(r,c,u,g);n&&y.attr("style",n),Mt(t,y)}return t.intersect=function(y){return St.polygon(t,g,y)},r}C(OM,"subroutine");async function RM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=-l/2,f=-c/2,p=.2*c,g=.2*c,{cssStyles:y}=t,x=wt.svg(r),v=Tt(t,{}),_=[{x:u-p/2,y:f},{x:u+l+p/2,y:f},{x:u+l+p/2,y:f+c},{x:u-p/2,y:f+c}],S=[{x:u+l-p/2,y:f+c},{x:u+l+p/2,y:f+c},{x:u+l+p/2,y:f+c-g}];t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const w=ne(_),T=x.path(w,v),M=ne(S),z=x.path(M,{...v,fillStyle:"solid"}),D=r.insert(()=>z,":first-child");return D.insert(()=>T,":first-child"),D.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",y),n&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",n),Mt(t,D),t.intersect=function(E){return St.polygon(t,_,E)},r}C(RM,"taggedRect");async function zM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=u/4,p=.2*c,g=.2*u,y=u+f,{cssStyles:x}=t,v=wt.svg(r),_=Tt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=[{x:-c/2-c/2*.1,y:y/2},...Ia(-c/2-c/2*.1,y/2,c/2+c/2*.1,y/2,f,.8),{x:c/2+c/2*.1,y:-y/2},{x:-c/2-c/2*.1,y:-y/2}],w=-c/2+c/2*.1,T=-y/2-g*.4,M=[{x:w+c-p,y:(T+u)*1.4},{x:w+c,y:T+u-g},{x:w+c,y:(T+u)*.9},...Ia(w+c,(T+u)*1.3,w+c-p,(T+u)*1.5,-u*.03,.5)],z=ne(S),D=v.path(z,_),E=ne(M),R=v.path(E,{..._,fillStyle:"solid"}),I=r.insert(()=>R,":first-child");return I.insert(()=>D,":first-child"),I.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",x),n&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(o.x-(o.left??0))},${-u/2+(t.padding??0)-f/2-(o.y-(o.top??0))})`),Mt(t,I),t.intersect=function(J){return St.polygon(t,S,J)},r}C(zM,"taggedWaveEdgedRectangle");async function NM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=Math.max(o.width+t.padding,(t==null?void 0:t.width)||0),c=Math.max(o.height+t.padding,(t==null?void 0:t.height)||0),u=-l/2,f=-c/2,p=r.insert("rect",":first-child");return p.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",u).attr("y",f).attr("width",l).attr("height",c),Mt(t,p),t.intersect=function(g){return St.rect(t,g)},r}C(NM,"text");var SI=C((e,t,i,n,r,o)=>`M${e},${t}
    a${r},${o} 0,0,1 0,${-n}
    l${i},0
    a${r},${o} 0,0,1 0,${n}
    M${i},${-n}
    a${r},${o} 0,0,0 0,${n}
    l${-i},0`,"createCylinderPathD"),CI=C((e,t,i,n,r,o)=>[`M${e},${t}`,`M${e+i},${t}`,`a${r},${o} 0,0,0 0,${-n}`,`l${-i},0`,`a${r},${o} 0,0,0 0,${n}`,`l${i},0`].join(" "),"createOuterCylinderPathD"),wI=C((e,t,i,n,r,o)=>[`M${e+i/2},${-n/2}`,`a${r},${o} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function FM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l,halfPadding:c}=await Wt(e,t,Ht(t)),u=t.look==="neo"?c*2:c,f=o.height+u,p=f/2,g=p/(2.5+f/50),y=o.width+g+u,{cssStyles:x}=t;let v;if(t.look==="handDrawn"){const _=wt.svg(r),S=CI(0,0,y,f,g,p),w=wI(0,0,y,f,g,p),T=_.path(S,Tt(t,{})),M=_.path(w,Tt(t,{fill:"none"}));v=r.insert(()=>M,":first-child"),v=r.insert(()=>T,":first-child"),v.attr("class","basic label-container"),x&&v.attr("style",x)}else{const _=SI(0,0,y,f,g,p);v=r.insert("path",":first-child").attr("d",_).attr("class","basic label-container").attr("style",Ii(x)).attr("style",n),v.attr("class","basic label-container"),x&&v.selectAll("path").attr("style",x),n&&v.selectAll("path").attr("style",n)}return v.attr("label-offset-x",g),v.attr("transform",`translate(${-y/2}, ${f/2} )`),l.attr("transform",`translate(${-(o.width/2)-g-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Mt(t,v),t.intersect=function(_){const S=St.rect(t,_),w=S.y-(t.y??0);if(p!=0&&(Math.abs(w)<(t.height??0)/2||Math.abs(w)==(t.height??0)/2&&Math.abs(S.x-(t.x??0))>(t.width??0)/2-g)){let T=g*g*(1-w*w/(p*p));T!=0&&(T=Math.sqrt(Math.abs(T))),T=g-T,_.x-(t.x??0)>0&&(T=-T),S.x+=T}return S},r}C(FM,"tiltedCylinder");async function $M(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=o.width+t.padding,c=o.height+t.padding,u=[{x:-3*c/6,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:0,y:-c}];let f;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=wt.svg(r),y=Tt(t,{}),x=ne(u),v=g.path(x,y);f=r.insert(()=>v,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),p&&f.attr("style",p)}else f=ia(r,l,c,u);return n&&f.attr("style",n),t.width=l,t.height=c,Mt(t,f),t.intersect=function(g){return St.polygon(t,u,g)},r}C($M,"trapezoid");async function jM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=60,c=20,u=Math.max(l,o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(c,o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:p}=t,g=wt.svg(r),y=Tt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-u/2*.8,y:-f/2},{x:u/2*.8,y:-f/2},{x:u/2,y:-f/2*.6},{x:u/2,y:f/2},{x:-u/2,y:f/2},{x:-u/2,y:-f/2*.6}],v=ne(x),_=g.path(v,y),S=r.insert(()=>_,":first-child");return S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",n),Mt(t,S),t.intersect=function(w){return St.polygon(t,x,w)},r}C(jM,"trapezoidalPentagon");async function HM(e,t){var T;const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=ni((T=he().flowchart)==null?void 0:T.htmlLabels),u=o.width+(t.padding??0),f=u+o.height,p=u+o.height,g=[{x:0,y:0},{x:p,y:0},{x:p/2,y:-f}],{cssStyles:y}=t,x=wt.svg(r),v=Tt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=ne(g),S=x.path(_,v),w=r.insert(()=>S,":first-child").attr("transform",`translate(${-f/2}, ${f/2})`);return y&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",y),n&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",n),t.width=u,t.height=f,Mt(t,w),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${f/2-(o.height+(t.padding??0)/(c?2:1)-(o.y-(o.top??0)))})`),t.intersect=function(M){return ct.info("Triangle intersect",t,g,M),St.polygon(t,g,M)},r}C(HM,"triangle");async function IM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=u/8,p=u+f,{cssStyles:g}=t,x=70-c,v=x>0?x/2:0,_=wt.svg(r),S=Tt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const w=[{x:-c/2-v,y:p/2},...Ia(-c/2-v,p/2,c/2+v,p/2,f,.8),{x:c/2+v,y:-p/2},{x:-c/2-v,y:-p/2}],T=ne(w),M=_.path(T,S),z=r.insert(()=>M,":first-child");return z.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",n),z.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(o.x-(o.left??0))},${-u/2+(t.padding??0)-f-(o.y-(o.top??0))})`),Mt(t,z),t.intersect=function(D){return St.polygon(t,w,D)},r}C(IM,"waveEdgedRectangle");async function PM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o}=await Wt(e,t,Ht(t)),l=100,c=50,u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),p=u/f;let g=u,y=f;g>y*p?y=g/p:g=y*p,g=Math.max(g,l),y=Math.max(y,c);const x=Math.min(y*.2,y/4),v=y+x*2,{cssStyles:_}=t,S=wt.svg(r),w=Tt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=[{x:-g/2,y:v/2},...Ia(-g/2,v/2,g/2,v/2,x,1),{x:g/2,y:-v/2},...Ia(g/2,-v/2,-g/2,-v/2,x,-1)],M=ne(T),z=S.path(M,w),D=r.insert(()=>z,":first-child");return D.attr("class","basic label-container"),_&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",_),n&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",n),Mt(t,D),t.intersect=function(E){return St.polygon(t,T,E)},r}C(PM,"waveRectangle");async function qM(e,t){const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const{shapeSvg:r,bbox:o,label:l}=await Wt(e,t,Ht(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=5,p=-c/2,g=-u/2,{cssStyles:y}=t,x=wt.svg(r),v=Tt(t,{}),_=[{x:p-f,y:g-f},{x:p-f,y:g+u},{x:p+c,y:g+u},{x:p+c,y:g-f}],S=`M${p-f},${g-f} L${p+c},${g-f} L${p+c},${g+u} L${p-f},${g+u} L${p-f},${g-f}
                M${p-f},${g} L${p+c},${g}
                M${p},${g-f} L${p},${g+u}`;t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const w=x.path(S,v),T=r.insert(()=>w,":first-child");return T.attr("transform",`translate(${f/2}, ${f/2})`),T.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",y),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),l.attr("transform",`translate(${-(o.width/2)+f/2-(o.x-(o.left??0))}, ${-(o.height/2)+f/2-(o.y-(o.top??0))})`),Mt(t,T),t.intersect=function(M){return St.polygon(t,_,M)},r}C(qM,"windowPane");async function tx(e,t){var ht,nt,gt,yt;const i=t;if(i.alias&&(t.label=i.alias),t.look==="handDrawn"){const{themeVariables:st}=tn(),{background:Ct}=st,zt={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${Ct}`]};await tx(e,zt)}const n=tn();t.useHtmlLabels=n.htmlLabels;let r=((ht=n.er)==null?void 0:ht.diagramPadding)??10,o=((nt=n.er)==null?void 0:nt.entityPadding)??6;const{cssStyles:l}=t,{labelStyles:c,nodeStyles:u}=Et(t);if(i.attributes.length===0&&t.label){const st={rx:0,ry:0,labelPaddingX:r,labelPaddingY:r*1.5};Jr(t.label,n)+st.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const Ct=await Eh(e,t,st);if(!ni(n.htmlLabels)){const zt=Ct.select("text"),Gt=(gt=zt.node())==null?void 0:gt.getBBox();zt.attr("transform",`translate(${-Gt.width/2}, 0)`)}return Ct}n.htmlLabels||(r*=1.25,o*=1.25);let f=Ht(t);f||(f="node default");const p=e.insert("g").attr("class",f).attr("id",t.domId||t.id),g=await Ro(p,t.label??"",n,0,0,["name"],c);g.height+=o;let y=0;const x=[],v=[];let _=0,S=0,w=0,T=0,M=!0,z=!0;for(const st of i.attributes){const Ct=await Ro(p,st.type,n,0,y,["attribute-type"],c);_=Math.max(_,Ct.width+r);const zt=await Ro(p,st.name,n,0,y,["attribute-name"],c);S=Math.max(S,zt.width+r);const Gt=await Ro(p,st.keys.join(),n,0,y,["attribute-keys"],c);w=Math.max(w,Gt.width+r);const It=await Ro(p,st.comment,n,0,y,["attribute-comment"],c);T=Math.max(T,It.width+r);const Jt=Math.max(Ct.height,zt.height,Gt.height,It.height)+o;v.push({yOffset:y,rowHeight:Jt}),y+=Jt}let D=4;w<=r&&(M=!1,w=0,D--),T<=r&&(z=!1,T=0,D--);const E=p.node().getBBox();if(g.width+r*2-(_+S+w+T)>0){const st=g.width+r*2-(_+S+w+T);_+=st/D,S+=st/D,w>0&&(w+=st/D),T>0&&(T+=st/D)}const R=_+S+w+T,I=wt.svg(p),J=Tt(t,{});t.look!=="handDrawn"&&(J.roughness=0,J.fillStyle="solid");let K=0;v.length>0&&(K=v.reduce((st,Ct)=>st+((Ct==null?void 0:Ct.rowHeight)??0),0));const P=Math.max(E.width+r*2,(t==null?void 0:t.width)||0,R),it=Math.max((K??0)+g.height,(t==null?void 0:t.height)||0),et=-P/2,G=-it/2;p.selectAll("g:not(:first-child)").each((st,Ct,zt)=>{const Gt=ee(zt[Ct]),It=Gt.attr("transform");let Jt=0,Te=0;if(It){const _i=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(It);_i&&(Jt=parseFloat(_i[1]),Te=parseFloat(_i[2]),Gt.attr("class").includes("attribute-name")?Jt+=_:Gt.attr("class").includes("attribute-keys")?Jt+=_+S:Gt.attr("class").includes("attribute-comment")&&(Jt+=_+S+w))}Gt.attr("transform",`translate(${et+r/2+Jt}, ${Te+G+g.height+o/2})`)}),p.select(".name").attr("transform","translate("+-g.width/2+", "+(G+o/2)+")");const q=I.rectangle(et,G,P,it,J),L=p.insert(()=>q,":first-child").attr("style",l.join("")),{themeVariables:F}=tn(),{rowEven:j,rowOdd:ut,nodeBorder:O}=F;x.push(0);for(const[st,Ct]of v.entries()){const Gt=(st+1)%2===0&&Ct.yOffset!==0,It=I.rectangle(et,g.height+G+(Ct==null?void 0:Ct.yOffset),P,Ct==null?void 0:Ct.rowHeight,{...J,fill:Gt?j:ut,stroke:O});p.insert(()=>It,"g.label").attr("style",l.join("")).attr("class",`row-rect-${Gt?"even":"odd"}`)}let W=I.line(et,g.height+G,P+et,g.height+G,J);p.insert(()=>W).attr("class","divider"),W=I.line(_+et,g.height+G,_+et,it+G,J),p.insert(()=>W).attr("class","divider"),M&&(W=I.line(_+S+et,g.height+G,_+S+et,it+G,J),p.insert(()=>W).attr("class","divider")),z&&(W=I.line(_+S+w+et,g.height+G,_+S+w+et,it+G,J),p.insert(()=>W).attr("class","divider"));for(const st of x)W=I.line(et,g.height+G+st,P+et,g.height+G+st,J),p.insert(()=>W).attr("class","divider");if(Mt(t,L),u&&t.look!=="handDrawn"){const st=u.split(";"),Ct=(yt=st==null?void 0:st.filter(zt=>zt.includes("stroke")))==null?void 0:yt.map(zt=>`${zt}`).join("; ");p.selectAll("path").attr("style",Ct??""),p.selectAll(".row-rect-even path").attr("style",u)}return t.intersect=function(st){return St.rect(t,st)},p}C(tx,"erBox");async function Ro(e,t,i,n=0,r=0,o=[],l=""){const c=e.insert("g").attr("class",`label ${o.join(" ")}`).attr("transform",`translate(${n}, ${r})`).attr("style",l);t!==x2(t)&&(t=x2(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const u=c.node().appendChild(await qa(c,t,{width:Jr(t,i)+100,style:l,useHtmlLabels:i.htmlLabels},i));if(t.includes("&lt;")||t.includes("&gt;")){let p=u.children[0];for(p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");p.childNodes[0];)p=p.childNodes[0],p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let f=u.getBBox();if(ni(i.htmlLabels)){const p=u.children[0];p.style.textAlign="start";const g=ee(u);f=p.getBoundingClientRect(),g.attr("width",f.width),g.attr("height",f.height)}return f}C(Ro,"addText");async function UM(e,t,i,n,r=i.class.padding??12){const o=n?0:3,l=e.insert("g").attr("class",Ht(t)).attr("id",t.domId||t.id);let c=null,u=null,f=null,p=null,g=0,y=0,x=0;if(c=l.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const T=t.annotations[0];await Hc(c,{text:`«${T}»`},0),g=c.node().getBBox().height}u=l.insert("g").attr("class","label-group text"),await Hc(u,t,0,["font-weight: bolder"]);const v=u.node().getBBox();y=v.height,f=l.insert("g").attr("class","members-group text");let _=0;for(const T of t.members){const M=await Hc(f,T,_,[T.parseClassifier()]);_+=M+o}x=f.node().getBBox().height,x<=0&&(x=r/2),p=l.insert("g").attr("class","methods-group text");let S=0;for(const T of t.methods){const M=await Hc(p,T,S,[T.parseClassifier()]);S+=M+o}let w=l.node().getBBox();if(c!==null){const T=c.node().getBBox();c.attr("transform",`translate(${-T.width/2})`)}return u.attr("transform",`translate(${-v.width/2}, ${g})`),w=l.node().getBBox(),f.attr("transform",`translate(0, ${g+y+r*2})`),w=l.node().getBBox(),p.attr("transform",`translate(0, ${g+y+(x?x+r*4:r*2)})`),w=l.node().getBBox(),{shapeSvg:l,bbox:w}}C(UM,"textHelper");async function Hc(e,t,i,n=[]){const r=e.insert("g").attr("class","label").attr("style",n.join("; ")),o=tn();let l="useHtmlLabels"in t?t.useHtmlLabels:ni(o.htmlLabels)??!0,c="";"text"in t?c=t.text:c=t.label,!l&&c.startsWith("\\")&&(c=c.substring(1)),el(c)&&(l=!0);const u=await qa(r,Ad(Is(c)),{width:Jr(c,o)+50,classes:"markdown-node-label",useHtmlLabels:l},o);let f,p=1;if(l){const g=u.children[0],y=ee(u);p=g.innerHTML.split("<br>").length,g.innerHTML.includes("</math>")&&(p+=g.innerHTML.split("<mrow>").length-1);const x=g.getElementsByTagName("img");if(x){const v=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(_=>new Promise(S=>{function w(){var T;if(_.style.display="flex",_.style.flexDirection="column",v){const M=((T=o.fontSize)==null?void 0:T.toString())??window.getComputedStyle(document.body).fontSize,D=parseInt(M,10)*5+"px";_.style.minWidth=D,_.style.maxWidth=D}else _.style.width="100%";S(_)}C(w,"setupImage"),setTimeout(()=>{_.complete&&w()}),_.addEventListener("error",w),_.addEventListener("load",w)})))}f=g.getBoundingClientRect(),y.attr("width",f.width),y.attr("height",f.height)}else{n.includes("font-weight: bolder")&&ee(u).selectAll("tspan").attr("font-weight",""),p=u.children.length;const g=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(g.textContent=c[0]+c.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),c[1]===" "&&(g.textContent=g.textContent[0]+" "+g.textContent.substring(1))),g.textContent==="undefined"&&(g.textContent=""),f=u.getBBox()}return r.attr("transform","translate(0,"+(-f.height/(2*p)+i)+")"),f.height}C(Hc,"addText");async function WM(e,t){var J,K;const i=he(),n=i.class.padding??12,r=n,o=t.useHtmlLabels??ni(i.htmlLabels)??!0,l=t;l.annotations=l.annotations??[],l.members=l.members??[],l.methods=l.methods??[];const{shapeSvg:c,bbox:u}=await UM(e,t,i,o,r),{labelStyles:f,nodeStyles:p}=Et(t);t.labelStyle=f,t.cssStyles=l.styles||"";const g=((J=l.styles)==null?void 0:J.join(";"))||p||"";t.cssStyles||(t.cssStyles=g.replaceAll("!important","").split(";"));const y=l.members.length===0&&l.methods.length===0&&!((K=i.class)!=null&&K.hideEmptyMembersBox),x=wt.svg(c),v=Tt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=u.width;let S=u.height;l.members.length===0&&l.methods.length===0?S+=r:l.members.length>0&&l.methods.length===0&&(S+=r*2);const w=-_/2,T=-S/2,M=x.rectangle(w-n,T-n-(y?n:l.members.length===0&&l.methods.length===0?-n/2:0),_+2*n,S+2*n+(y?n*2:l.members.length===0&&l.methods.length===0?-n:0),v),z=c.insert(()=>M,":first-child");z.attr("class","basic label-container");const D=z.node().getBBox();c.selectAll(".text").each((P,it,et)=>{var ut;const G=ee(et[it]),q=G.attr("transform");let L=0;if(q){const W=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(q);W&&(L=parseFloat(W[2]))}let F=L+T+n-(y?n:l.members.length===0&&l.methods.length===0?-n/2:0);o||(F-=4);let j=w;(G.attr("class").includes("label-group")||G.attr("class").includes("annotation-group"))&&(j=-((ut=G.node())==null?void 0:ut.getBBox().width)/2||0,c.selectAll("text").each(function(O,W,ht){window.getComputedStyle(ht[W]).textAnchor==="middle"&&(j=0)})),G.attr("transform",`translate(${j}, ${F})`)});const E=c.select(".annotation-group").node().getBBox().height-(y?n/2:0)||0,R=c.select(".label-group").node().getBBox().height-(y?n/2:0)||0,I=c.select(".members-group").node().getBBox().height-(y?n/2:0)||0;if(l.members.length>0||l.methods.length>0||y){const P=x.line(D.x,E+R+T+n,D.x+D.width,E+R+T+n,v);c.insert(()=>P).attr("class","divider").attr("style",g)}if(y||l.members.length>0||l.methods.length>0){const P=x.line(D.x,E+R+I+T+r*2+n,D.x+D.width,E+R+I+T+n+r*2,v);c.insert(()=>P).attr("class","divider").attr("style",g)}if(l.look!=="handDrawn"&&c.selectAll("path").attr("style",g),z.select(":nth-child(2)").attr("style",g),c.selectAll(".divider").select("path").attr("style",g),t.labelStyle?c.selectAll("span").attr("style",t.labelStyle):c.selectAll("span").attr("style",g),!o){const P=RegExp(/color\s*:\s*([^;]*)/),it=P.exec(g);if(it){const et=it[0].replace("color","fill");c.selectAll("tspan").attr("style",et)}else if(f){const et=P.exec(f);if(et){const G=et[0].replace("color","fill");c.selectAll("tspan").attr("style",G)}}}return Mt(t,z),t.intersect=function(P){return St.rect(t,P)},c}C(WM,"classBox");async function YM(e,t){var E,R;const{labelStyles:i,nodeStyles:n}=Et(t);t.labelStyle=i;const r=t,o=t,l=20,c=20,u="verifyMethod"in t,f=Ht(t),p=e.insert("g").attr("class",f).attr("id",t.domId??t.id);let g;u?g=await dr(p,`&lt;&lt;${r.type}&gt;&gt;`,0,t.labelStyle):g=await dr(p,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let y=g;const x=await dr(p,r.name,y,t.labelStyle+"; font-weight: bold;");if(y+=x+c,u){const I=await dr(p,`${r.requirementId?`id: ${r.requirementId}`:""}`,y,t.labelStyle);y+=I;const J=await dr(p,`${r.text?`Text: ${r.text}`:""}`,y,t.labelStyle);y+=J;const K=await dr(p,`${r.risk?`Risk: ${r.risk}`:""}`,y,t.labelStyle);y+=K,await dr(p,`${r.verifyMethod?`Verification: ${r.verifyMethod}`:""}`,y,t.labelStyle)}else{const I=await dr(p,`${o.type?`Type: ${o.type}`:""}`,y,t.labelStyle);y+=I,await dr(p,`${o.docRef?`Doc Ref: ${o.docRef}`:""}`,y,t.labelStyle)}const v=(((E=p.node())==null?void 0:E.getBBox().width)??200)+l,_=(((R=p.node())==null?void 0:R.getBBox().height)??200)+l,S=-v/2,w=-_/2,T=wt.svg(p),M=Tt(t,{});t.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const z=T.rectangle(S,w,v,_,M),D=p.insert(()=>z,":first-child");if(D.attr("class","basic label-container").attr("style",n),p.selectAll(".label").each((I,J,K)=>{const P=ee(K[J]),it=P.attr("transform");let et=0,G=0;if(it){const j=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(it);j&&(et=parseFloat(j[1]),G=parseFloat(j[2]))}const q=G-_/2;let L=S+l/2;(J===0||J===1)&&(L=et),P.attr("transform",`translate(${L}, ${q+l})`)}),y>g+x+c){const I=T.line(S,w+g+x+c,S+v,w+g+x+c,M);p.insert(()=>I).attr("style",n)}return Mt(t,D),t.intersect=function(I){return St.rect(t,I)},p}C(YM,"requirementBox");async function dr(e,t,i,n=""){if(t==="")return 0;const r=e.insert("g").attr("class","label").attr("style",n),o=he(),l=o.htmlLabels??!0,c=await qa(r,Ad(Is(t)),{width:Jr(t,o)+50,classes:"markdown-node-label",useHtmlLabels:l,style:n},o);let u;if(l){const f=c.children[0],p=ee(c);u=f.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}else{const f=c.children[0];for(const p of f.children)p.textContent=p.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&p.setAttribute("style",n);u=c.getBBox(),u.height+=6}return r.attr("transform",`translate(${-u.width/2},${-u.height/2+i})`),u.height}C(dr,"addText");var kI=C(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function GM(e,t,{config:i}){var it,et;const{labelStyles:n,nodeStyles:r}=Et(t);t.labelStyle=n||"";const o=10,l=t.width;t.width=(t.width??200)-10;const{shapeSvg:c,bbox:u,label:f}=await Wt(e,t,Ht(t)),p=t.padding||10;let g="",y;"ticket"in t&&t.ticket&&((it=i==null?void 0:i.kanban)!=null&&it.ticketBaseUrl)&&(g=(et=i==null?void 0:i.kanban)==null?void 0:et.ticketBaseUrl.replace("#TICKET#",t.ticket),y=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",g).attr("target","_blank"));const x={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let v,_;y?{label:v,bbox:_}=await Em(y,"ticket"in t&&t.ticket||"",x):{label:v,bbox:_}=await Em(c,"ticket"in t&&t.ticket||"",x);const{label:S,bbox:w}=await Em(c,"assigned"in t&&t.assigned||"",x);t.width=l;const T=10,M=(t==null?void 0:t.width)||0,z=Math.max(_.height,w.height)/2,D=Math.max(u.height+T*2,(t==null?void 0:t.height)||0)+z,E=-M/2,R=-D/2;f.attr("transform","translate("+(p-M/2)+", "+(-z-u.height/2)+")"),v.attr("transform","translate("+(p-M/2)+", "+(-z+u.height/2)+")"),S.attr("transform","translate("+(p+M/2-w.width-2*o)+", "+(-z+u.height/2)+")");let I;const{rx:J,ry:K}=t,{cssStyles:P}=t;if(t.look==="handDrawn"){const G=wt.svg(c),q=Tt(t,{}),L=J||K?G.path(ea(E,R,M,D,J||0),q):G.rectangle(E,R,M,D,q);I=c.insert(()=>L,":first-child"),I.attr("class","basic label-container").attr("style",P||null)}else{I=c.insert("rect",":first-child"),I.attr("class","basic label-container __APA__").attr("style",r).attr("rx",J??5).attr("ry",K??5).attr("x",E).attr("y",R).attr("width",M).attr("height",D);const G="priority"in t&&t.priority;if(G){const q=c.append("line"),L=E+2,F=R+Math.floor((J??0)/2),j=R+D-Math.floor((J??0)/2);q.attr("x1",L).attr("y1",F).attr("x2",L).attr("y2",j).attr("stroke-width","4").attr("stroke",kI(G))}}return Mt(t,I),t.height=D,t.intersect=function(G){return St.rect(t,G)},c}C(GM,"kanbanItem");var TI=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:MM},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:kM},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:EM},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:OM},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:KA},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:WA},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:SM},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:aM},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:gM},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:pM},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:$M},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:fM},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:tM},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:NM},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:qA},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:TM},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:DM},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:LM},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:nM},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:sM},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:VA},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:XA},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:ZA},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:mM},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:IM},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:rM},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:FM},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:yM},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:QA},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:JA},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:HM},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:qM},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:eM},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:jM},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:iM},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:AM},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:vM},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:bM},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:PA},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:GA},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:zM},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:RM},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:PM},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:CM},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:xM}],AI=C(()=>{const t=[...Object.entries({state:BM,choice:UA,note:_M,rectWithTitle:wM,labelRect:dM,iconSquare:hM,iconCircle:lM,icon:oM,iconRounded:cM,imageSquare:uM,anchor:IA,kanbanItem:GM,classBox:WM,erBox:tx,requirementBox:YM}),...TI.flatMap(i=>[i.shortName,..."aliases"in i?i.aliases:[],..."internalAliases"in i?i.internalAliases:[]].map(r=>[r,i.handler]))];return Object.fromEntries(t)},"generateShapeMap"),VM=AI();function MI(e){return e in VM}C(MI,"isValidShape");var Yd=new Map;async function XM(e,t,i){let n,r;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const o=t.shape?VM[t.shape]:void 0;if(!o)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let l;i.config.securityLevel==="sandbox"?l="_top":t.linkTarget&&(l=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",l??null),r=await o(n,t,i)}else r=await o(e,t,i),n=r;return t.tooltip&&r.attr("title",t.tooltip),Yd.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}C(XM,"insertNode");var $U=C((e,t)=>{Yd.set(t.id,e)},"setNodeElem"),jU=C(()=>{Yd.clear()},"clear"),HU=C(e=>{const t=Yd.get(e.id);ct.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const i=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-i)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),EI=C((e,t,i,n,r,o)=>{t.arrowTypeStart&&wS(e,"start",t.arrowTypeStart,i,n,r,o),t.arrowTypeEnd&&wS(e,"end",t.arrowTypeEnd,i,n,r,o)},"addEdgeMarkers"),BI={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},wS=C((e,t,i,n,r,o,l)=>{var g;const c=BI[i];if(!c){ct.warn(`Unknown arrow type: ${i}`);return}const u=c.type,p=`${r}_${o}-${u}${t==="start"?"Start":"End"}`;if(l&&l.trim()!==""){const y=l.replace(/[^\dA-Za-z]/g,"_"),x=`${p}_${y}`;if(!document.getElementById(x)){const v=document.getElementById(p);if(v){const _=v.cloneNode(!0);_.id=x,_.querySelectorAll("path, circle, line").forEach(w=>{w.setAttribute("stroke",l),c.fill&&w.setAttribute("fill",l)}),(g=v.parentNode)==null||g.appendChild(_)}}e.attr(`marker-${t}`,`url(${n}#${x})`)}else e.attr(`marker-${t}`,`url(${n}#${p})`)},"addEdgeMarker"),yd=new Map,bi=new Map,IU=C(()=>{yd.clear(),bi.clear()},"clear"),Mc=C(e=>e?e.reduce((i,n)=>i+";"+n,""):"","getLabelStyles"),LI=C(async(e,t)=>{let i=ni(he().flowchart.htmlLabels);const n=await qa(e,t.label,{style:Mc(t.labelStyle),useHtmlLabels:i,addSvgBackground:!0,isNode:!1});ct.info("abc82",t,t.labelType);const r=e.insert("g").attr("class","edgeLabel"),o=r.insert("g").attr("class","label");o.node().appendChild(n);let l=n.getBBox();if(i){const u=n.children[0],f=ee(n);l=u.getBoundingClientRect(),f.attr("width",l.width),f.attr("height",l.height)}o.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),yd.set(t.id,r),t.width=l.width,t.height=l.height;let c;if(t.startLabelLeft){const u=await ks(t.startLabelLeft,Mc(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");c=p.node().appendChild(u);const g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),bi.get(t.id)||bi.set(t.id,{}),bi.get(t.id).startLeft=f,Ic(c,t.startLabelLeft)}if(t.startLabelRight){const u=await ks(t.startLabelRight,Mc(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");c=f.node().appendChild(u),p.node().appendChild(u);const g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),bi.get(t.id)||bi.set(t.id,{}),bi.get(t.id).startRight=f,Ic(c,t.startLabelRight)}if(t.endLabelLeft){const u=await ks(t.endLabelLeft,Mc(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");c=p.node().appendChild(u);const g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),f.node().appendChild(u),bi.get(t.id)||bi.set(t.id,{}),bi.get(t.id).endLeft=f,Ic(c,t.endLabelLeft)}if(t.endLabelRight){const u=await ks(t.endLabelRight,Mc(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");c=p.node().appendChild(u);const g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),f.node().appendChild(u),bi.get(t.id)||bi.set(t.id,{}),bi.get(t.id).endRight=f,Ic(c,t.endLabelRight)}return n},"insertEdgeLabel");function Ic(e,t){he().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}C(Ic,"setTerminalWidth");var DI=C((e,t)=>{ct.debug("Moving label abc88 ",e.id,e.label,yd.get(e.id),t);let i=t.updatedPath?t.updatedPath:t.originalPath;const n=he(),{subGraphTitleTotalMargin:r}=xy(n);if(e.label){const o=yd.get(e.id);let l=e.x,c=e.y;if(i){const u=mr.calcLabelPosition(i);ct.debug("Moving label "+e.label+" from (",l,",",c,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(l=u.x,c=u.y)}o.attr("transform",`translate(${l}, ${c+r/2})`)}if(e.startLabelLeft){const o=bi.get(e.id).startLeft;let l=e.x,c=e.y;if(i){const u=mr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",i);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.startLabelRight){const o=bi.get(e.id).startRight;let l=e.x,c=e.y;if(i){const u=mr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",i);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelLeft){const o=bi.get(e.id).endLeft;let l=e.x,c=e.y;if(i){const u=mr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",i);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelRight){const o=bi.get(e.id).endRight;let l=e.x,c=e.y;if(i){const u=mr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",i);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}},"positionEdgeLabel"),OI=C((e,t)=>{const i=e.x,n=e.y,r=Math.abs(t.x-i),o=Math.abs(t.y-n),l=e.width/2,c=e.height/2;return r>=l||o>=c},"outsideNode"),RI=C((e,t,i)=>{ct.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(i)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,r=e.y,o=Math.abs(n-i.x),l=e.width/2;let c=i.x<t.x?l-o:l+o;const u=e.height/2,f=Math.abs(t.y-i.y),p=Math.abs(t.x-i.x);if(Math.abs(r-t.y)*l>Math.abs(n-t.x)*u){let g=i.y<t.y?t.y-u-r:r-u-t.y;c=p*g/f;const y={x:i.x<t.x?i.x+c:i.x-p+c,y:i.y<t.y?i.y+f-g:i.y-f+g};return c===0&&(y.x=t.x,y.y=t.y),p===0&&(y.x=t.x),f===0&&(y.y=t.y),ct.debug(`abc89 top/bottom calc, Q ${f}, q ${g}, R ${p}, r ${c}`,y),y}else{i.x<t.x?c=t.x-l-n:c=n-l-t.x;let g=f*c/p,y=i.x<t.x?i.x+p-c:i.x-p+c,x=i.y<t.y?i.y+g:i.y-g;return ct.debug(`sides calc abc89, Q ${f}, q ${g}, R ${p}, r ${c}`,{_x:y,_y:x}),c===0&&(y=t.x,x=t.y),p===0&&(y=t.x),f===0&&(x=t.y),{x:y,y:x}}},"intersection"),kS=C((e,t)=>{ct.warn("abc88 cutPathAtIntersect",e,t);let i=[],n=e[0],r=!1;return e.forEach(o=>{if(ct.info("abc88 checking point",o,t),!OI(t,o)&&!r){const l=RI(t,n,o);ct.debug("abc88 inside",o,n,l),ct.debug("abc88 intersection",l,t);let c=!1;i.forEach(u=>{c=c||u.x===l.x&&u.y===l.y}),i.some(u=>u.x===l.x&&u.y===l.y)?ct.warn("abc88 no intersect",l,i):i.push(l),r=!0}else ct.warn("abc88 outside",o,n),n=o,r||i.push(o)}),ct.debug("returning points",i),i},"cutPathAtIntersect");function ZM(e){const t=[],i=[];for(let n=1;n<e.length-1;n++){const r=e[n-1],o=e[n],l=e[n+1];(r.x===o.x&&o.y===l.y&&Math.abs(o.x-l.x)>5&&Math.abs(o.y-r.y)>5||r.y===o.y&&o.x===l.x&&Math.abs(o.x-r.x)>5&&Math.abs(o.y-l.y)>5)&&(t.push(o),i.push(n))}return{cornerPoints:t,cornerPointPositions:i}}C(ZM,"extractCornerPoints");var TS=C(function(e,t,i){const n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r),l=i/o;return{x:t.x-l*n,y:t.y-l*r}},"findAdjacentPoint"),zI=C(function(e){const{cornerPointPositions:t}=ZM(e),i=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const r=e[n-1],o=e[n+1],l=e[n],c=TS(r,l,5),u=TS(o,l,5),f=u.x-c.x,p=u.y-c.y;i.push(c);const g=Math.sqrt(2)*2;let y={x:l.x,y:l.y};if(Math.abs(o.x-r.x)>10&&Math.abs(o.y-r.y)>=10){ct.debug("Corner point fixing",Math.abs(o.x-r.x),Math.abs(o.y-r.y));const x=5;l.x===c.x?y={x:f<0?c.x-x+g:c.x+x-g,y:p<0?c.y-g:c.y+g}:y={x:f<0?c.x-g:c.x+g,y:p<0?c.y-x+g:c.y+x-g}}else ct.debug("Corner point skipping fixing",Math.abs(o.x-r.x),Math.abs(o.y-r.y));i.push(y,u)}else i.push(e[n]);return i},"fixCorners"),NI=C(function(e,t,i,n,r,o,l){var J;const{handDrawnSeed:c}=he();let u=t.points,f=!1;const p=r;var g=o;const y=[];for(const K in t.cssCompiledStyles)DA(K)||y.push(t.cssCompiledStyles[K]);g.intersect&&p.intersect&&(u=u.slice(1,t.points.length-1),u.unshift(p.intersect(u[0])),ct.debug("Last point APA12",t.start,"-->",t.end,u[u.length-1],g,g.intersect(u[u.length-1])),u.push(g.intersect(u[u.length-1]))),t.toCluster&&(ct.info("to cluster abc88",i.get(t.toCluster)),u=kS(t.points,i.get(t.toCluster).node),f=!0),t.fromCluster&&(ct.debug("from cluster abc88",i.get(t.fromCluster),JSON.stringify(u,null,2)),u=kS(u.reverse(),i.get(t.fromCluster).node).reverse(),f=!0);let x=u.filter(K=>!Number.isNaN(K.y));x=zI(x);let v=Sf;switch(v=td,t.curve){case"linear":v=td;break;case"basis":v=Sf;break;case"cardinal":v=mT;break;case"bumpX":v=uT;break;case"bumpY":v=fT;break;case"catmullRom":v=xT;break;case"monotoneX":v=wT;break;case"monotoneY":v=kT;break;case"natural":v=AT;break;case"step":v=MT;break;case"stepAfter":v=BT;break;case"stepBefore":v=ET;break;default:v=Sf}const{x:_,y:S}=a8(t),w=BF().x(_).y(S).curve(v);let T;switch(t.thickness){case"normal":T="edge-thickness-normal";break;case"thick":T="edge-thickness-thick";break;case"invisible":T="edge-thickness-invisible";break;default:T="edge-thickness-normal"}switch(t.pattern){case"solid":T+=" edge-pattern-solid";break;case"dotted":T+=" edge-pattern-dotted";break;case"dashed":T+=" edge-pattern-dashed";break;default:T+=" edge-pattern-solid"}let M,z=w(x);const D=Array.isArray(t.style)?t.style:t.style?[t.style]:[];let E=D.find(K=>K==null?void 0:K.startsWith("stroke:"));if(t.look==="handDrawn"){const K=wt.svg(e);Object.assign([],x);const P=K.path(z,{roughness:.3,seed:c});T+=" transition",M=ee(P).select("path").attr("id",t.id).attr("class"," "+T+(t.classes?" "+t.classes:"")).attr("style",D?D.reduce((et,G)=>et+";"+G,""):"");let it=M.attr("d");M.attr("d",it),e.node().appendChild(M.node())}else{const K=y.join(";"),P=D?D.reduce((G,q)=>G+q+";",""):"";let it="";t.animate&&(it=" edge-animation-fast"),t.animation&&(it=" edge-animation-"+t.animation);const et=K?K+";"+P+";":P;M=e.append("path").attr("d",z).attr("id",t.id).attr("class"," "+T+(t.classes?" "+t.classes:"")+(it??"")).attr("style",et),E=(J=et.match(/stroke:([^;]+)/))==null?void 0:J[1]}let R="";(he().flowchart.arrowMarkerAbsolute||he().state.arrowMarkerAbsolute)&&(R=KC(!0)),ct.info("arrowTypeStart",t.arrowTypeStart),ct.info("arrowTypeEnd",t.arrowTypeEnd),EI(M,t,R,l,n,E);let I={};return f&&(I.updatedPath=u),I.originalPath=t.points,I},"insertEdge"),FI=C((e,t,i,n)=>{t.forEach(r=>{JI[r](e,i,n)})},"insertMarkers"),$I=C((e,t,i)=>{ct.trace("Making markers for ",i),e.append("defs").append("marker").attr("id",i+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",i+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),jI=C((e,t,i)=>{e.append("defs").append("marker").attr("id",i+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",i+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),HI=C((e,t,i)=>{e.append("defs").append("marker").attr("id",i+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",i+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),II=C((e,t,i)=>{e.append("defs").append("marker").attr("id",i+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",i+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),PI=C((e,t,i)=>{e.append("defs").append("marker").attr("id",i+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",i+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),qI=C((e,t,i)=>{e.append("marker").attr("id",i+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",i+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),UI=C((e,t,i)=>{e.append("marker").attr("id",i+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",i+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),WI=C((e,t,i)=>{e.append("marker").attr("id",i+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",i+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),YI=C((e,t,i)=>{e.append("defs").append("marker").attr("id",i+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),GI=C((e,t,i)=>{e.append("defs").append("marker").attr("id",i+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",i+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),VI=C((e,t,i)=>{const n=e.append("defs").append("marker").attr("id",i+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const r=e.append("defs").append("marker").attr("id",i+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),XI=C((e,t,i)=>{e.append("defs").append("marker").attr("id",i+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",i+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),ZI=C((e,t,i)=>{const n=e.append("defs").append("marker").attr("id",i+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const r=e.append("defs").append("marker").attr("id",i+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),QI=C((e,t,i)=>{e.append("defs").append("marker").attr("id",i+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),KI=C((e,t,i)=>{const n=e.append("defs").append("marker").attr("id",i+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),JI={extension:$I,composition:jI,aggregation:HI,dependency:II,lollipop:PI,point:qI,circle:UI,cross:WI,barb:YI,only_one:GI,zero_or_one:VI,one_or_more:XI,zero_or_more:ZI,requirement_arrow:QI,requirement_contains:KI},t7=FI,e7={common:hl,getConfig:tn,insertCluster:cI,insertEdge:NI,insertEdgeLabel:LI,insertMarkers:t7,insertNode:XM,interpolateToCurve:zy,labelHelper:Wt,log:ct,positionEdgeLabel:DI},gh={},QM=C(e=>{for(const t of e)gh[t.name]=t},"registerLayoutLoaders"),i7=C(()=>{QM([{name:"dagre",loader:C(async()=>await _e(()=>import("./dagre-IE2X5DAH-EXdlyHCG.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")}])},"registerDefaultLayoutLoaders");i7();var PU=C(async(e,t)=>{if(!(e.layoutAlgorithm in gh))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const i=gh[e.layoutAlgorithm];return(await i.loader()).render(e,t,e7,{algorithm:i.algorithm})},"render"),qU=C((e="",{fallback:t="dagre"}={})=>{if(e in gh)return e;if(t in gh)return ct.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),AS={name:"mermaid",version:"11.7.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.9",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^15.0.7",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",chokidar:"^4.0.3",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.0.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},n7=C(e=>{var r;const{securityLevel:t}=he();let i=ee("body");if(t==="sandbox"){const l=((r=ee(`#i${e}`).node())==null?void 0:r.contentDocument)??document;i=ee(l.body)}return i.select(`#${e}`)},"selectSvgElement"),KM="comm",JM="rule",tE="decl",r7="@import",a7="@namespace",s7="@keyframes",o7="@layer",eE=Math.abs,ex=String.fromCharCode;function iE(e){return e.trim()}function Tf(e,t,i){return e.replace(t,i)}function l7(e,t,i){return e.indexOf(t,i)}function jo(e,t){return e.charCodeAt(t)|0}function sl(e,t,i){return e.slice(t,i)}function gr(e){return e.length}function c7(e){return e.length}function of(e,t){return t.push(e),e}var Gd=1,ol=1,nE=0,Fn=0,Ze=0,gl="";function ix(e,t,i,n,r,o,l,c){return{value:e,root:t,parent:i,type:n,props:r,children:o,line:Gd,column:ol,length:l,return:"",siblings:c}}function h7(){return Ze}function u7(){return Ze=Fn>0?jo(gl,--Fn):0,ol--,Ze===10&&(ol=1,Gd--),Ze}function Qn(){return Ze=Fn<nE?jo(gl,Fn++):0,ol++,Ze===10&&(ol=1,Gd++),Ze}function Ra(){return jo(gl,Fn)}function Af(){return Fn}function Vd(e,t){return sl(gl,e,t)}function mh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f7(e){return Gd=ol=1,nE=gr(gl=e),Fn=0,[]}function d7(e){return gl="",e}function Bm(e){return iE(Vd(Fn-1,R0(e===91?e+2:e===40?e+1:e)))}function p7(e){for(;(Ze=Ra())&&Ze<33;)Qn();return mh(e)>2||mh(Ze)>3?"":" "}function g7(e,t){for(;--t&&Qn()&&!(Ze<48||Ze>102||Ze>57&&Ze<65||Ze>70&&Ze<97););return Vd(e,Af()+(t<6&&Ra()==32&&Qn()==32))}function R0(e){for(;Qn();)switch(Ze){case e:return Fn;case 34:case 39:e!==34&&e!==39&&R0(Ze);break;case 40:e===41&&R0(e);break;case 92:Qn();break}return Fn}function m7(e,t){for(;Qn()&&e+Ze!==57;)if(e+Ze===84&&Ra()===47)break;return"/*"+Vd(t,Fn-1)+"*"+ex(e===47?e:Qn())}function y7(e){for(;!mh(Ra());)Qn();return Vd(e,Fn)}function x7(e){return d7(Mf("",null,null,null,[""],e=f7(e),0,[0],e))}function Mf(e,t,i,n,r,o,l,c,u){for(var f=0,p=0,g=l,y=0,x=0,v=0,_=1,S=1,w=1,T=0,M="",z=r,D=o,E=n,R=M;S;)switch(v=T,T=Qn()){case 40:if(v!=108&&jo(R,g-1)==58){l7(R+=Tf(Bm(T),"&","&\f"),"&\f",eE(f?c[f-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:R+=Bm(T);break;case 9:case 10:case 13:case 32:R+=p7(v);break;case 92:R+=g7(Af()-1,7);continue;case 47:switch(Ra()){case 42:case 47:of(b7(m7(Qn(),Af()),t,i,u),u),(mh(v||1)==5||mh(Ra()||1)==5)&&gr(R)&&sl(R,-1,void 0)!==" "&&(R+=" ");break;default:R+="/"}break;case 123*_:c[f++]=gr(R)*w;case 125*_:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+p:w==-1&&(R=Tf(R,/\f/g,"")),x>0&&(gr(R)-g||_===0&&v===47)&&of(x>32?ES(R+";",n,i,g-1,u):ES(Tf(R," ","")+";",n,i,g-2,u),u);break;case 59:R+=";";default:if(of(E=MS(R,t,i,f,p,r,c,M,z=[],D=[],g,o),o),T===123)if(p===0)Mf(R,t,E,E,z,o,g,c,D);else{switch(y){case 99:if(jo(R,3)===110)break;case 108:if(jo(R,2)===97)break;default:p=0;case 100:case 109:case 115:}p?Mf(e,E,E,n&&of(MS(e,E,E,0,0,r,c,M,r,z=[],g,D),D),r,D,g,c,n?z:D):Mf(R,E,E,E,[""],D,0,c,D)}}f=p=x=0,_=w=1,M=R="",g=l;break;case 58:g=1+gr(R),x=v;default:if(_<1){if(T==123)--_;else if(T==125&&_++==0&&u7()==125)continue}switch(R+=ex(T),T*_){case 38:w=p>0?1:(R+="\f",-1);break;case 44:c[f++]=(gr(R)-1)*w,w=1;break;case 64:Ra()===45&&(R+=Bm(Qn())),y=Ra(),p=g=gr(M=R+=y7(Af())),T++;break;case 45:v===45&&gr(R)==2&&(_=0)}}return o}function MS(e,t,i,n,r,o,l,c,u,f,p,g){for(var y=r-1,x=r===0?o:[""],v=c7(x),_=0,S=0,w=0;_<n;++_)for(var T=0,M=sl(e,y+1,y=eE(S=l[_])),z=e;T<v;++T)(z=iE(S>0?x[T]+" "+M:Tf(M,/&\f/g,x[T])))&&(u[w++]=z);return ix(e,t,i,r===0?JM:c,u,f,p,g)}function b7(e,t,i,n){return ix(e,t,i,KM,ex(h7()),sl(e,2,-2),0,n)}function ES(e,t,i,n,r){return ix(e,t,i,tE,sl(e,0,n),sl(e,n+1,-1),n,r)}function z0(e,t){for(var i="",n=0;n<e.length;n++)i+=t(e[n],n,e,t)||"";return i}function v7(e,t,i,n){switch(e.type){case o7:if(e.children.length)break;case r7:case a7:case tE:return e.return=e.return||e.value;case KM:return"";case s7:return e.return=e.value+"{"+z0(e.children,n)+"}";case JM:if(!gr(e.value=e.props.join(",")))return""}return gr(i=z0(e.children,n))?e.return=e.value+"{"+i+"}":""}var _7=RT(Object.keys,Object),S7=Object.prototype,C7=S7.hasOwnProperty;function w7(e){if(!$d(e))return _7(e);var t=[];for(var i in Object(e))C7.call(e,i)&&i!="constructor"&&t.push(i);return t}var N0=Hs(Sr,"DataView"),F0=Hs(Sr,"Promise"),$0=Hs(Sr,"Set"),j0=Hs(Sr,"WeakMap"),BS="[object Map]",k7="[object Object]",LS="[object Promise]",DS="[object Set]",OS="[object WeakMap]",RS="[object DataView]",T7=js(N0),A7=js(ph),M7=js(F0),E7=js($0),B7=js(j0),xs=ul;(N0&&xs(new N0(new ArrayBuffer(1)))!=RS||ph&&xs(new ph)!=BS||F0&&xs(F0.resolve())!=LS||$0&&xs(new $0)!=DS||j0&&xs(new j0)!=OS)&&(xs=function(e){var t=ul(e),i=t==k7?e.constructor:void 0,n=i?js(i):"";if(n)switch(n){case T7:return RS;case A7:return BS;case M7:return LS;case E7:return DS;case B7:return OS}return t});var L7="[object Map]",D7="[object Set]",O7=Object.prototype,R7=O7.hasOwnProperty;function zS(e){if(e==null)return!0;if(jd(e)&&(od(e)||typeof e=="string"||typeof e.splice=="function"||Oy(e)||Ry(e)||sd(e)))return!e.length;var t=xs(e);if(t==L7||t==D7)return!e.size;if($d(e))return!w7(e).length;for(var i in e)if(R7.call(e,i))return!1;return!0}var rE="c4",z7=C(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),N7=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./c4Diagram-E5VUS4TQ-CuYTKzjS.js");return{diagram:t}},__vite__mapDeps([6,7]));return{id:rE,diagram:e}},"loader"),F7={id:rE,detector:z7,loader:N7},$7=F7,aE="flowchart",j7=C((e,t)=>{var i,n;return((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),H7=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./flowDiagram-OUUYVNGO-32kzAeaE.js");return{diagram:t}},__vite__mapDeps([8,9,10,11]));return{id:aE,diagram:e}},"loader"),I7={id:aE,detector:j7,loader:H7},P7=I7,sE="flowchart-v2",q7=C((e,t)=>{var i,n,r;return((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-d3"?!1:(((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),U7=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./flowDiagram-OUUYVNGO-32kzAeaE.js");return{diagram:t}},__vite__mapDeps([8,9,10,11]));return{id:sE,diagram:e}},"loader"),W7={id:sE,detector:q7,loader:U7},Y7=W7,oE="er",G7=C(e=>/^\s*erDiagram/.test(e),"detector"),V7=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./erDiagram-FWMTN743-CqnLNWsf.js");return{diagram:t}},__vite__mapDeps([12,10,11]));return{id:oE,diagram:e}},"loader"),X7={id:oE,detector:G7,loader:V7},Z7=X7,lE="gitGraph",Q7=C(e=>/^\s*gitGraph/.test(e),"detector"),K7=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./gitGraphDiagram-SOPYED2O-C96MvFKm.js");return{diagram:t}},__vite__mapDeps([13,14,15,16,2,4,5]));return{id:lE,diagram:e}},"loader"),J7={id:lE,detector:Q7,loader:K7},tP=J7,cE="gantt",eP=C(e=>/^\s*gantt/.test(e),"detector"),iP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./ganttDiagram-Y4ZJHTSR-DIOeg6pH.js");return{diagram:t}},__vite__mapDeps([17,18,19]));return{id:cE,diagram:e}},"loader"),nP={id:cE,detector:eP,loader:iP},rP=nP,hE="info",aP=C(e=>/^\s*info/.test(e),"detector"),sP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./infoDiagram-LZPS564M-rteYhD5t.js");return{diagram:t}},__vite__mapDeps([20,16,2,4,5]));return{id:hE,diagram:e}},"loader"),oP={id:hE,detector:aP,loader:sP},uE="pie",lP=C(e=>/^\s*pie/.test(e),"detector"),cP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./pieDiagram-JVH3GP2A-D_xaHGCy.js");return{diagram:t}},__vite__mapDeps([21,14,16,2,4,5,22,23,19]));return{id:uE,diagram:e}},"loader"),hP={id:uE,detector:lP,loader:cP},fE="quadrantChart",uP=C(e=>/^\s*quadrantChart/.test(e),"detector"),fP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./quadrantDiagram-2GFVJBMM-C-9ZfF5B.js");return{diagram:t}},__vite__mapDeps([24,18,19]));return{id:fE,diagram:e}},"loader"),dP={id:fE,detector:uP,loader:fP},pP=dP,dE="xychart",gP=C(e=>/^\s*xychart-beta/.test(e),"detector"),mP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./xychartDiagram-4SJQ7YKO-CmlPZ3yM.js");return{diagram:t}},__vite__mapDeps([25,19,23,18]));return{id:dE,diagram:e}},"loader"),yP={id:dE,detector:gP,loader:mP},xP=yP,pE="requirement",bP=C(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),vP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./requirementDiagram-PBTKI7ZP-DR1rZg6L.js");return{diagram:t}},__vite__mapDeps([26,10]));return{id:pE,diagram:e}},"loader"),_P={id:pE,detector:bP,loader:vP},SP=_P,gE="sequence",CP=C(e=>/^\s*sequenceDiagram/.test(e),"detector"),wP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./sequenceDiagram-BLN7LXEI-D9fRL0-I.js");return{diagram:t}},__vite__mapDeps([27,7,15]));return{id:gE,diagram:e}},"loader"),kP={id:gE,detector:CP,loader:wP},TP=kP,mE="class",AP=C((e,t)=>{var i;return((i=t==null?void 0:t.class)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),MP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./classDiagram-EGQPL23Y-DgT700vZ.js");return{diagram:t}},__vite__mapDeps([28,29,9,10]));return{id:mE,diagram:e}},"loader"),EP={id:mE,detector:AP,loader:MP},BP=EP,yE="classDiagram",LP=C((e,t)=>{var i;return/^\s*classDiagram/.test(e)&&((i=t==null?void 0:t.class)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),DP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./classDiagram-v2-4EBKGCBT-DgT700vZ.js");return{diagram:t}},__vite__mapDeps([30,29,9,10]));return{id:yE,diagram:e}},"loader"),OP={id:yE,detector:LP,loader:DP},RP=OP,xE="state",zP=C((e,t)=>{var i;return((i=t==null?void 0:t.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),NP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./stateDiagram-WEXRT5W7-BfremYbs.js");return{diagram:t}},__vite__mapDeps([31,32,10,1,2,3,4]));return{id:xE,diagram:e}},"loader"),FP={id:xE,detector:zP,loader:NP},$P=FP,bE="stateDiagram",jP=C((e,t)=>{var i;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((i=t==null?void 0:t.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper")},"detector"),HP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./stateDiagram-v2-SNKRMT2F-CAaf2-Fw.js");return{diagram:t}},__vite__mapDeps([33,32,10]));return{id:bE,diagram:e}},"loader"),IP={id:bE,detector:jP,loader:HP},PP=IP,vE="journey",qP=C(e=>/^\s*journey/.test(e),"detector"),UP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./journeyDiagram-KRBQ73NG-DBGh1izk.js");return{diagram:t}},__vite__mapDeps([34,7,9,22]));return{id:vE,diagram:e}},"loader"),WP={id:vE,detector:qP,loader:UP},YP=WP,GP=C((e,t,i)=>{ct.debug(`rendering svg for syntax error
`);const n=n7(t),r=n.append("g");n.attr("viewBox","0 0 2412 512"),JC(n,100,512,!0),r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${i}`)},"draw"),_E={draw:GP},VP=_E,XP={db:{},renderer:_E,parser:{parse:C(()=>{},"parse")}},ZP=XP,SE="flowchart-elk",QP=C((e,t={})=>{var i;return/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),KP=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./flowDiagram-OUUYVNGO-32kzAeaE.js");return{diagram:t}},__vite__mapDeps([8,9,10,11]));return{id:SE,diagram:e}},"loader"),JP={id:SE,detector:QP,loader:KP},tq=JP,CE="timeline",eq=C(e=>/^\s*timeline/.test(e),"detector"),iq=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./timeline-definition-GH3MJCYT-C1IZ6xZT.js");return{diagram:t}},__vite__mapDeps([35,22]));return{id:CE,diagram:e}},"loader"),nq={id:CE,detector:eq,loader:iq},rq=nq,wE="mindmap",aq=C(e=>/^\s*mindmap/.test(e),"detector"),sq=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./mindmap-definition-RDSO3R44-CZuClqCa.js");return{diagram:t}},__vite__mapDeps([36,37]));return{id:wE,diagram:e}},"loader"),oq={id:wE,detector:aq,loader:sq},lq=oq,kE="kanban",cq=C(e=>/^\s*kanban/.test(e),"detector"),hq=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./kanban-definition-TWHLSRP4-D2G5wJ0y.js");return{diagram:t}},__vite__mapDeps([38,9]));return{id:kE,diagram:e}},"loader"),uq={id:kE,detector:cq,loader:hq},fq=uq,TE="sankey",dq=C(e=>/^\s*sankey-beta/.test(e),"detector"),pq=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./sankeyDiagram-XYA53EP7-D0FDT5rI.js");return{diagram:t}},__vite__mapDeps([39,23,19]));return{id:TE,diagram:e}},"loader"),gq={id:TE,detector:dq,loader:pq},mq=gq,AE="packet",yq=C(e=>/^\s*packet-beta/.test(e),"detector"),xq=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./diagram-3XXCIKAB-B15MOS-3.js");return{diagram:t}},__vite__mapDeps([40,14,16,2,4,5]));return{id:AE,diagram:e}},"loader"),bq={id:AE,detector:yq,loader:xq},ME="radar",vq=C(e=>/^\s*radar-beta/.test(e),"detector"),_q=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./diagram-DTTGSU4T-BQQiD66P.js");return{diagram:t}},__vite__mapDeps([41,14,16,2,4,5]));return{id:ME,diagram:e}},"loader"),Sq={id:ME,detector:vq,loader:_q},EE="block",Cq=C(e=>/^\s*block-beta/.test(e),"detector"),wq=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./blockDiagram-ZUX3OVTL-jEcc4jSo.js");return{diagram:t}},__vite__mapDeps([42,9,5,2,1,11]));return{id:EE,diagram:e}},"loader"),kq={id:EE,detector:Cq,loader:wq},Tq=kq,BE="architecture",Aq=C(e=>/^\s*architecture/.test(e),"detector"),Mq=C(async()=>{const{diagram:e}=await _e(async()=>{const{diagram:t}=await import("./architectureDiagram-KYWUMXXP-DjU6tvnS.js");return{diagram:t}},__vite__mapDeps([43,14,15,16,2,4,5,37]));return{id:BE,diagram:e}},"loader"),Eq={id:BE,detector:Aq,loader:Mq},Bq=Eq,NS=!1,Xd=C(()=>{NS||(NS=!0,If("error",ZP,e=>e.toLowerCase().trim()==="error"),If("---",{db:{clear:C(()=>{},"clear")},styles:{},renderer:{draw:C(()=>{},"draw")},parser:{parse:C(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:C(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Gm(tq,lq,Bq),Gm($7,fq,RP,BP,Z7,rP,oP,hP,SP,TP,Y7,P7,rq,tP,PP,$P,YP,pP,mq,bq,xP,Tq,Sq))},"addDiagrams"),Lq=C(async()=>{ct.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Ko).map(async([i,{detector:n,loader:r}])=>{if(r)try{Qm(i)}catch{try{const{diagram:o,id:l}=await r();If(l,o,n)}catch(o){throw ct.error(`Failed to load external diagram with key ${i}. Removing from detectors.`),delete Ko[i],o}}}))).filter(i=>i.status==="rejected");if(t.length>0){ct.error(`Failed to load ${t.length} external diagrams`);for(const i of t)ct.error(i);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),Dq="graphics-document document";function LE(e,t){e.attr("role",Dq),t!==""&&e.attr("aria-roledescription",t)}C(LE,"setA11yDiagramInfo");function DE(e,t,i,n){if(e.insert!==void 0){if(i){const r=`chart-desc-${n}`;e.attr("aria-describedby",r),e.insert("desc",":first-child").attr("id",r).text(i)}if(t){const r=`chart-title-${n}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}C(DE,"addSVGa11yTitleDescription");var Ms,H0=(Ms=class{constructor(t,i,n,r,o){this.type=t,this.text=i,this.db=n,this.parser=r,this.renderer=o}static async fromText(t,i={}){var f,p;const n=tn(),r=ay(t,n);t=Bj(t)+`
`;try{Qm(r)}catch{const g=s4(r);if(!g)throw new jC(`Diagram ${r} not found.`);const{id:y,diagram:x}=await g();If(y,x)}const{db:o,parser:l,renderer:c,init:u}=Qm(r);return l.parser&&(l.parser.yy=o),(f=o.clear)==null||f.call(o),u==null||u(n),i.title&&((p=o.setDiagramTitle)==null||p.call(o,i.title)),await l.parse(t),new Ms(r,t,o,l,c)}async render(t,i){await this.renderer.draw(this.text,t,i,this)}getParser(){return this.parser}getType(){return this.type}},C(Ms,"Diagram"),Ms),FS=[],Oq=C(()=>{FS.forEach(e=>{e()}),FS=[]},"attachFunctions"),Rq=C(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function OE(e){const t=e.match($C);if(!t)return{text:e,metadata:{}};let i=r8(t[1],{schema:n8})??{};i=typeof i=="object"&&!Array.isArray(i)?i:{};const n={};return i.displayMode&&(n.displayMode=i.displayMode.toString()),i.title&&(n.title=i.title.toString()),i.config&&(n.config=i.config),{text:e.slice(t[0].length),metadata:n}}C(OE,"extractFrontMatter");var zq=C(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,i,n)=>"<"+i+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Nq=C(e=>{const{text:t,metadata:i}=OE(e),{displayMode:n,title:r,config:o={}}=i;return n&&(o.gantt||(o.gantt={}),o.gantt.displayMode=n),{title:r,config:o,text:t}},"processFrontmatter"),Fq=C(e=>{const t=mr.detectInit(e)??{},i=mr.detectDirective(e,"wrap");return Array.isArray(i)?t.wrap=i.some(({type:n})=>n==="wrap"):(i==null?void 0:i.type)==="wrap"&&(t.wrap=!0),{text:yj(e),directive:t}},"processDirectives");function nx(e){const t=zq(e),i=Nq(t),n=Fq(i.text),r=Hy(i.config,n.directive);return e=Rq(n.text),{code:e,title:i.title,config:r}}C(nx,"preprocessDiagram");function RE(e){const t=new TextEncoder().encode(e),i=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(i)}C(RE,"toBase64");var $q=5e4,jq="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Hq="sandbox",Iq="loose",Pq="http://www.w3.org/2000/svg",qq="http://www.w3.org/1999/xlink",Uq="http://www.w3.org/1999/xhtml",Wq="100%",Yq="100%",Gq="border:0;margin:0;",Vq="margin:0",Xq="allow-top-navigation-by-user-activation allow-popups",Zq='The "iframe" tag is not supported by your browser.',Qq=["foreignobject"],Kq=["dominant-baseline"];function rx(e){const t=nx(e);return jf(),S4(t.config??{}),t}C(rx,"processAndSetConfigs");async function zE(e,t){Xd();try{const{code:i,config:n}=rx(e);return{diagramType:(await FE(i)).type,config:n}}catch(i){if(t!=null&&t.suppressErrors)return!1;throw i}}C(zE,"parse");var $S=C((e,t,i=[])=>`
.${e} ${t} { ${i.join(" !important; ")} !important; }`,"cssImportantStyles"),Jq=C((e,t=new Map)=>{var n;let i="";if(e.themeCSS!==void 0&&(i+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const c=e.htmlLabels??((n=e.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(u=>{zS(u.styles)||c.forEach(f=>{i+=$S(u.id,f,u.styles)}),zS(u.textStyles)||(i+=$S(u.id,"tspan",((u==null?void 0:u.textStyles)||[]).map(f=>f.replace("color","fill"))))})}return i},"createCssStyles"),tU=C((e,t,i,n)=>{const r=Jq(e,i),o=H4(t,r,e.themeVariables);return z0(x7(`${n}{${o}}`),v7)},"createUserStyles"),eU=C((e="",t,i)=>{let n=e;return!i&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Is(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),iU=C((e="",t)=>{var r,o;const i=(o=(r=t==null?void 0:t.viewBox)==null?void 0:r.baseVal)!=null&&o.height?t.viewBox.baseVal.height+"px":Yq,n=RE(`<body style="${Vq}">${e}</body>`);return`<iframe style="width:${Wq};height:${i};${Gq}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${Xq}">
  ${Zq}
</iframe>`},"putIntoIFrame"),jS=C((e,t,i,n,r)=>{const o=e.append("div");o.attr("id",i),n&&o.attr("style",n);const l=o.append("svg").attr("id",t).attr("width","100%").attr("xmlns",Pq);return r&&l.attr("xmlns:xlink",r),l.append("g"),e},"appendDivSvgG");function I0(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}C(I0,"sandboxedIframe");var nU=C((e,t,i,n)=>{var r,o,l;(r=e.getElementById(t))==null||r.remove(),(o=e.getElementById(i))==null||o.remove(),(l=e.getElementById(n))==null||l.remove()},"removeExistingElements"),rU=C(async function(e,t,i){var it,et,G,q,L,F;Xd();const n=rx(t);t=n.code;const r=tn();ct.debug(r),t.length>((r==null?void 0:r.maxTextSize)??$q)&&(t=jq);const o="#"+e,l="i"+e,c="#"+l,u="d"+e,f="#"+u,p=C(()=>{const ut=ee(y?c:f).node();ut&&"remove"in ut&&ut.remove()},"removeTempElements");let g=ee("body");const y=r.securityLevel===Hq,x=r.securityLevel===Iq,v=r.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),y){const j=I0(ee(i),l);g=ee(j.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=ee(i);jS(g,e,u,`font-family: ${v}`,qq)}else{if(nU(document,e,u,l),y){const j=I0(ee("body"),l);g=ee(j.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=ee("body");jS(g,e,u)}let _,S;try{_=await H0.fromText(t,{title:n.title})}catch(j){if(r.suppressErrorRendering)throw p(),j;_=await H0.fromText("error"),S=j}const w=g.select(f).node(),T=_.type,M=w.firstChild,z=M.firstChild,D=(et=(it=_.renderer).getClasses)==null?void 0:et.call(it,t,_),E=tU(r,T,D,o),R=document.createElement("style");R.innerHTML=E,M.insertBefore(R,z);try{await _.renderer.draw(t,e,AS.version,_)}catch(j){throw r.suppressErrorRendering?p():VP.draw(t,e,AS.version),j}const I=g.select(`${f} svg`),J=(q=(G=_.db).getAccTitle)==null?void 0:q.call(G),K=(F=(L=_.db).getAccDescription)==null?void 0:F.call(L);$E(T,I,J,K),g.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Uq);let P=g.select(f).node().innerHTML;if(ct.debug("config.arrowMarkerAbsolute",r.arrowMarkerAbsolute),P=eU(P,y,ni(r.arrowMarkerAbsolute)),y){const j=g.select(f+" svg").node();P=iU(P,j)}else x||(P=Qo.sanitize(P,{ADD_TAGS:Qq,ADD_ATTR:Kq,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Oq(),S)throw S;return p(),{diagramType:T,svg:P,bindFunctions:_.db.bindFunctions}},"render");function NE(e={}){var n;const t=vi({},e);t!=null&&t.fontFamily&&!((n=t.themeVariables)!=null&&n.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),v4(t),t!=null&&t.theme&&t.theme in Zr?t.themeVariables=Zr[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Zr.default.getThemeVariables(t.themeVariables));const i=typeof t=="object"?b4(t):WC();ry(i.logLevel),Xd()}C(NE,"initialize");var FE=C((e,t={})=>{const{code:i}=nx(e);return H0.fromText(i,t)},"getDiagramFromText");function $E(e,t,i,n){LE(t,e),DE(t,i,n,t.attr("id"))}C($E,"addA11yInfo");var zs=Object.freeze({render:rU,parse:zE,getDiagramFromText:FE,initialize:NE,getConfig:tn,setConfig:YC,getSiteConfig:WC,updateSiteConfig:_4,reset:C(()=>{jf()},"reset"),globalReset:C(()=>{jf(Jo)},"globalReset"),defaultConfig:Jo});ry(tn().logLevel);jf(tn());var aU=C((e,t,i)=>{ct.warn(e),jy(e)?(i&&i(e.str,e.hash),t.push({...e,message:e.str,error:e})):(i&&i(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),jE=C(async function(e={querySelector:".mermaid"}){try{await sU(e)}catch(t){if(jy(t)&&ct.error(t.str),yn.parseError&&yn.parseError(t),!e.suppressErrors)throw ct.error("Use the suppressErrors option to suppress these errors"),t}},"run"),sU=C(async function({postRenderCallback:e,querySelector:t,nodes:i}={querySelector:".mermaid"}){const n=zs.getConfig();ct.debug(`${e?"":"No "}Callback function found`);let r;if(i)r=i;else if(t)r=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");ct.debug(`Found ${r.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(ct.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),zs.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const o=new mr.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let l;const c=[];for(const u of Array.from(r)){if(ct.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");const f=`mermaid-${o.next()}`;l=u.innerHTML,l=uA(mr.entityDecode(l)).trim().replace(/<br\s*\/?>/gi,"<br/>");const p=mr.detectInit(l);p&&ct.debug("Detected early reinit: ",p);try{const{svg:g,bindFunctions:y}=await qE(f,l,u);u.innerHTML=g,e&&await e(f),y&&y(u)}catch(g){aU(g,c,yn.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),HE=C(function(e){zs.initialize(e)},"initialize"),oU=C(async function(e,t,i){ct.warn("mermaid.init is deprecated. Please use run instead."),e&&HE(e);const n={postRenderCallback:i,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await jE(n)},"init"),lU=C(async(e,{lazyLoad:t=!0}={})=>{Xd(),Gm(...e),t===!1&&await Lq()},"registerExternalDiagrams"),IE=C(function(){if(yn.startOnLoad){const{startOnLoad:e}=zs.getConfig();e&&yn.run().catch(t=>ct.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",IE,!1);var cU=C(function(e){yn.parseError=e},"setParseErrorHandler"),xd=[],Lm=!1,PE=C(async()=>{if(!Lm){for(Lm=!0;xd.length>0;){const e=xd.shift();if(e)try{await e()}catch(t){ct.error("Error executing queue",t)}}Lm=!1}},"executeQueue"),hU=C(async(e,t)=>new Promise((i,n)=>{const r=C(()=>new Promise((o,l)=>{zs.parse(e,t).then(c=>{o(c),i(c)},c=>{var u;ct.error("Error parsing",c),(u=yn.parseError)==null||u.call(yn,c),l(c),n(c)})}),"performCall");xd.push(r),PE().catch(n)}),"parse"),qE=C((e,t,i)=>new Promise((n,r)=>{const o=C(()=>new Promise((l,c)=>{zs.render(e,t,i).then(u=>{l(u),n(u)},u=>{var f;ct.error("Error parsing",u),(f=yn.parseError)==null||f.call(yn,u),c(u),r(u)})}),"performCall");xd.push(o),PE().catch(r)}),"render"),yn={startOnLoad:!0,mermaidAPI:zs,parse:hU,render:qE,init:oU,run:jE,registerExternalDiagrams:lU,registerLayoutLoaders:QM,initialize:HE,parseError:void 0,contentLoaded:IE,setParseErrorHandler:cU,detectType:ay,registerIconPacks:RH},UE=yn;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */UE.initialize({startOnLoad:!1});function uU(e){const t=[...e].sort((l,c)=>(l.order||0)-(c.order||0));let i=new Set,n=[];t.forEach(l=>{i.add(l.name),l.prerequisite&&n.push(`${l.prerequisite} --> ${l.name}`)});const r=t.filter(l=>!l.prerequisite).map(l=>l.name);let o=`graph TD
`;return n.forEach(l=>{o+=l+`
`}),r.forEach(l=>{n.some(c=>c.startsWith(l))||(o+=`${l}
`)}),o}const fU=({chainCards:e})=>{const t=xt.useRef();return xt.useEffect(()=>{t.current&&e.length>0&&(t.current.innerHTML=`<pre class='mermaid'>${uU(e)}</pre>`,UE.run({nodes:[t.current]}))},[e]),B.jsx("div",{ref:t,style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:8,padding:16,marginBottom:24,overflowX:"auto"}})},ll="https://script.google.com/macros/s/AKfycbyOJKcFbEUeexGpR0B4F2Pumr5FkAKKgh-ehs2TMv-uProoLkAdae02cvdyEhilDyA5/exec";async function dU(e,t){const i=new URLSearchParams({action:"createSession",createdBy:e});t&&i.append("adminPassword",t);const n=`${ll}?${i.toString()}`;console.log("createSession 請求 URL:",n),console.log("createSession 參數:",{createdBy:e,adminPassword:t});try{const r=await fetch(n);if(console.log("createSession 回應狀態:",r.status,r.statusText),!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();return console.log("createSession 回應內容:",o),o}catch(r){throw console.error("createSession 錯誤:",r),r}}async function mn(e){const t=`${ll}?action=getSessionData&sessionId=${encodeURIComponent(e)}`;console.log("getSessionData 請求 URL:",t),console.log("getSessionData 參數:",{sessionId:e});try{const i=await fetch(t);if(console.log("getSessionData 回應狀態:",i.status,i.statusText),!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const n=await i.json();return console.log("getSessionData 回應內容:",n),n}catch(i){throw console.error("getSessionData 錯誤:",i),i}}async function Yn(e,t){const i=`action=updateSessionData&sessionId=${encodeURIComponent(e)}&gameData=${encodeURIComponent(JSON.stringify(t))}`;console.log("updateSessionData 請求 URL:",ll),console.log("updateSessionData 參數:",{sessionId:e,gameDataSize:JSON.stringify(t).length});try{const n=await fetch(ll,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i});if(console.log("updateSessionData 回應狀態:",n.status,n.statusText),!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return console.log("updateSessionData 回應內容:",r),r}catch(n){throw console.error("updateSessionData 錯誤:",n),n}}async function pU(){const e=`${ll}?action=listActiveSessions`;console.log("listActiveSessions 請求 URL:",e);try{const t=await fetch(e);if(console.log("listActiveSessions 回應狀態:",t.status,t.statusText),!t.ok)throw new Error("Network response was not ok");const i=await t.json();return console.log("listActiveSessions 回應內容:",i),i}catch(t){return console.error("listActiveSessions 錯誤:",t),{status:"error",message:t.message||"Load failed"}}}async function Ef(e,t,i){const n=`${ll}?action=setAdmin&sessionId=${encodeURIComponent(e)}&clientId=${encodeURIComponent(t)}&password=${encodeURIComponent(i)}`;console.log("setAdmin 請求 URL:",n),console.log("setAdmin 參數:",{sessionId:e,clientId:t,password:i});try{const r=await fetch(n);if(console.log("setAdmin 回應狀態:",r.status,r.statusText),!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();return console.log("setAdmin 回應內容:",o),o}catch(r){throw console.error("setAdmin 錯誤:",r),r}}const HS=({onJoinSession:e,onClose:t,clientId:i})=>{const[n,r]=xt.useState(!1),[o,l]=xt.useState(!1),[c,u]=xt.useState(!1),[f,p]=xt.useState(!1),[g,y]=xt.useState(!1),[x,v]=xt.useState(""),[_,S]=xt.useState(""),[w,T]=xt.useState([]),[M,z]=xt.useState(null),[D,E]=xt.useState(""),[R,I]=xt.useState("");console.log("SessionManager render:",{showCreateModal:o,showJoinModal:c,showSessionList:f,newSessionName:x});const J=async()=>{r(!0);try{const L=await pU();L.status==="success"?T(L.sessions||[]):console.error("載入會話列表失敗:",L.message)}catch(L){console.error("載入會話列表錯誤:",L)}r(!1)},K=async()=>{if(console.log("handleCreateSession 被呼叫"),console.log("newSessionName:",x),!x.trim()){alert("請輸入會話名稱");return}console.log("準備儲存會話名稱到 localStorage:",x.trim()),localStorage.setItem("pendingSessionName",x.trim()),l(!1),v(""),console.log("準備呼叫 onJoinSession"),e(null,null,null),typeof t=="function"&&t(),console.log("handleCreateSession 完成")},P=async L=>{if(!L){alert("請輸入會話 ID");return}r(!0);try{const F=await mn(L);F.status==="success"?(e(L,F.gameData,F.adminId),u(!1),l(!1),typeof t=="function"&&t()):alert("加入會話失敗: "+(F.message||"未知錯誤"))}catch(F){console.error("加入會話錯誤:",F),alert("加入會話時發生錯誤")}r(!1)},it=L=>{z(L),y(!0),E(""),I("")},et=async()=>{if(!D.trim()){I("請輸入管理員密碼");return}r(!0);try{const L=await Ef(M.sessionId,i,D);if(L.status==="success"){const F=await mn(M.sessionId);F.status==="success"?(e(M.sessionId,F.gameData,i),y(!1),p(!1),typeof t=="function"&&t()):I("無法獲取會話數據")}else I(L.message||"密碼錯誤")}catch(L){console.error("加入會話錯誤:",L),I("加入會話時發生錯誤")}r(!1)},G=async()=>{r(!0);try{const L=await mn(M.sessionId);L.status==="success"?(e(M.sessionId,L.gameData,""),y(!1),p(!1),typeof t=="function"&&t()):alert("加入會話失敗: "+(L.message||"未知錯誤"))}catch(L){console.error("加入會話錯誤:",L),alert("加入會話時發生錯誤")}r(!1)},q=L=>{const F=window.location.origin+window.location.pathname,j=`${F}?viewer=${L}`;return console.log("生成觀看者網址:",{baseUrl:F,sessionId:L,viewerUrl:j}),j};return B.jsxs("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[B.jsx("h2",{style:{color:"#1976d2",marginBottom:"40px"},children:"人生 RPG 遊戲"}),B.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",alignItems:"center"},children:[B.jsx("button",{onClick:()=>{console.log("創建新會話按鈕被點擊"),l(!0)},style:{padding:"20px 40px",background:"#4caf50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"18px",fontWeight:"600",minWidth:"200px"},children:"🎮 創建新會話"}),B.jsx("button",{onClick:()=>{p(!0),J()},style:{padding:"20px 40px",background:"#2196f3",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"18px",fontWeight:"600",minWidth:"200px"},children:"📋 加入現有會話"}),B.jsx("button",{onClick:()=>u(!0),style:{padding:"20px 40px",background:"#ff9800",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"18px",fontWeight:"600",minWidth:"200px"},children:"🔗 輸入會話ID加入"})]}),o&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:B.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"8px",minWidth:"400px",maxWidth:"500px"},children:[B.jsx("h3",{style:{margin:"0 0 20px 0",color:"#1976d2"},children:"創建新會話"}),B.jsx("input",{type:"text",value:x,onChange:L=>v(L.target.value),placeholder:"請輸入會話名稱",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px",marginBottom:"20px"}}),B.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[B.jsx("button",{onClick:()=>l(!1),style:{padding:"10px 20px",background:"#666",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"取消"}),B.jsx("button",{onClick:K,disabled:n,style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:n?"not-allowed":"pointer"},children:n?"創建中...":"創建"})]})]})}),f&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:B.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"8px",minWidth:"500px",maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[B.jsx("h3",{style:{margin:"0 0 20px 0",color:"#1976d2"},children:"活躍會話列表"}),n?B.jsx("div",{style:{textAlign:"center",padding:"20px"},children:"載入中..."}):w.length===0?B.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#666"},children:"目前沒有活躍的會話"}):B.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:w.map(L=>B.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:F=>F.target.style.backgroundColor="#f5f5f5",onMouseLeave:F=>F.target.style.backgroundColor="white",onClick:()=>it(L),children:[B.jsx("div",{style:{fontWeight:"600",marginBottom:"5px"},children:L.createdBy||"未命名會話"}),B.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:["會話ID: ",L.sessionId]}),B.jsxs("div",{style:{fontSize:"12px",color:"#999"},children:["創建時間: ",new Date(L.createdTime).toLocaleString()]})]},L.sessionId))}),B.jsx("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"20px"},children:B.jsx("button",{onClick:()=>p(!1),style:{padding:"10px 20px",background:"#666",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"關閉"})})]})}),g&&M&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:B.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"8px",minWidth:"400px",maxWidth:"500px"},children:[B.jsxs("h3",{style:{margin:"0 0 20px 0",color:"#1976d2"},children:["加入會話: ",M.createdBy||"未命名會話"]}),B.jsxs("div",{style:{marginBottom:"20px"},children:[B.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"管理員密碼:"}),B.jsx("input",{type:"password",value:D,onChange:L=>E(L.target.value),placeholder:"請輸入管理員密碼",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}}),R&&B.jsx("div",{style:{color:"red",fontSize:"14px",marginTop:"5px"},children:R})]}),B.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#f5f5f5",borderRadius:"4px"},children:[B.jsx("div",{style:{fontSize:"14px",marginBottom:"10px",fontWeight:"600"},children:"觀看者網址:"}),B.jsx("div",{style:{fontSize:"12px",color:"#666",wordBreak:"break-all"},children:q(M.sessionId)})]}),B.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[B.jsx("button",{onClick:G,disabled:n,style:{padding:"10px 20px",background:"#ff9800",color:"white",border:"none",borderRadius:"4px",cursor:n?"not-allowed":"pointer",flex:1},children:"👀 觀看者模式"}),B.jsx("button",{onClick:et,disabled:n,style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:n?"not-allowed":"pointer",flex:1},children:n?"加入中...":"🔑 管理者模式"})]}),B.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"15px"},children:B.jsx("button",{onClick:()=>y(!1),style:{padding:"8px 16px",background:"#666",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"取消"})})]})}),c&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:B.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"8px",minWidth:"400px",maxWidth:"500px"},children:[B.jsx("h3",{style:{margin:"0 0 20px 0",color:"#1976d2"},children:"輸入會話ID加入"}),B.jsx("input",{type:"text",value:_,onChange:L=>S(L.target.value),placeholder:"請輸入會話 ID",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px",marginBottom:"20px"}}),B.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[B.jsx("button",{onClick:()=>u(!1),style:{padding:"10px 20px",background:"#666",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"取消"}),B.jsx("button",{onClick:()=>P(_),disabled:n,style:{padding:"10px 20px",background:"#2196f3",color:"white",border:"none",borderRadius:"4px",cursor:n?"not-allowed":"pointer"},children:n?"加入中...":"加入"})]})]})})]})},yh="https://script.google.com/macros/s/AKfycbyOJKcFbEUeexGpR0B4F2Pumr5FkAKKgh-ehs2TMv-uProoLkAdae02cvdyEhilDyA5/exec";async function gU(e,t){const i=`action=save&presetId=${encodeURIComponent(e)}&data=${encodeURIComponent(JSON.stringify(t))}`;return await(await fetch(yh,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i})).json()}async function mU(e){try{console.log("開始載入預設:",e),console.log("API URL:",`${yh}?action=load&preset_id=${encodeURIComponent(e)}`);const t=await fetch(`${yh}?action=load&preset_id=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=await t.json();if(console.log("Google Apps Script 原始回傳:",i),i.status==="success"){let n;if(typeof i.data=="string")try{n=JSON.parse(i.data)}catch(l){console.error("JSON 解析錯誤:",l),n={}}else n=i.data||{};console.log("解析後的 presetData:",n);let r=[],o=[];return n.events&&Array.isArray(n.events)?r=n.events:n.allCards&&Array.isArray(n.allCards)&&(r=n.allCards),n.tabs&&Array.isArray(n.tabs)?o=n.tabs:n.customTabs&&Array.isArray(n.customTabs)&&(o=n.customTabs),console.log("轉換後的 events:",r),console.log("轉換後的 tabs:",o),{status:"success",data:{events:r,tabs:o}}}return i}catch(t){return console.error("loadPreset 錯誤:",t),{status:"error",message:`載入失敗: ${t.message}`}}}async function yU(){try{console.log("開始獲取預設列表"),console.log("API URL:",`${yh}?action=list`);const e=await fetch(`${yh}?action=list`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return console.log("listPresets 原始回傳:",t),t.status==="success"?{status:"success",presets:t.presets||[]}:t}catch(e){return console.error("listPresets 錯誤:",e),{status:"error",message:`獲取預設列表失敗: ${e.message}`}}}const Ec=[{id:1,name:"名牌小學",type:"chain",group:"小學",order:1,prerequisite:null,cost:500,multiplier:1.4,condition:"父或母為專業生優先"},{id:2,name:"一般小學",type:"chain",group:"小學",order:1,prerequisite:null,cost:500,multiplier:1.3},{id:3,name:"名牌中學",type:"chain",group:"中學",order:2,prerequisite:"小學",cost:500,multiplier:1.4,condition:"須小學畢業、名牌小學畢業生優先"},{id:4,name:"一般中學",type:"chain",group:"中學",order:2,prerequisite:"小學",cost:500,multiplier:1.3,condition:"須小學畢業"},{id:5,name:"中學文憑試",type:"chain",group:"中學文憑試",order:3,prerequisite:"中學",cost:500,multiplier:1.1,condition:"須中學畢業"},{id:6,name:"資助大學學士",type:"chain",group:"大學",order:4,prerequisite:"中學文憑試",cost:500,multiplier:2,condition:"須文憑試合格"},{id:7,name:"是旦福大學學士",type:"chain",group:"大學",order:4,prerequisite:"中學",cost:3e3,multiplier:2.2,condition:"須文憑試合格或「捐款」"},{id:8,name:"Don't傾大學學士",type:"chain",group:"大學",order:4,prerequisite:"中學",cost:2e3,multiplier:2.2,condition:"父或母有海外護照"},{id:9,name:"明愛補習社",type:"single",group:"補習",cost:1e3,multiplier:1.4,condition:"考試後，海關有可能會隨機抽查一人查問"},{id:10,name:"明愛補習社優質內部影片流出",type:"single",group:"補習",cost:200,multiplier:1.4,condition:"如發現非法下載，留案底"},{id:11,name:"電腦/寬頻/手機電話",type:"single",group:"設備",cost:1e3,multiplier:1.4},{id:12,name:"流動數據",type:"single",group:"設備",cost:500,multiplier:1.2},{id:13,name:"體育",type:"single",group:"課外活動",cost:0,multiplier:1.1,condition:"每人最多只可參加2項"},{id:14,name:"藝術",type:"single",group:"課外活動",cost:0,multiplier:1.1,condition:"每人最多只可參加2項"},{id:15,name:"學術",type:"single",group:"課外活動",cost:0,multiplier:1.1,condition:"每人最多只可參加2項"},{id:16,name:"海外交換生計劃",type:"single",group:"海外交換",cost:2e3,multiplier:2,quota:2},{id:17,name:"擂台賽（男）",type:"single",group:"機會",cost:0,multiplier:1.1,quota:1},{id:18,name:"Sit-up（女）",type:"single",group:"機會",cost:0,multiplier:1.2,quota:1}];function xU(){var Ne,sa;const[e,t]=xt.useState(null),[i,n]=xt.useState([]),[r,o]=xt.useState(0),[l,c]=xt.useState(!1),[u,f]=xt.useState([]),[p,g]=xt.useState(0),[y,x]=xt.useState(!1),[v,_]=xt.useState(null),[S,w]=xt.useState("all"),[T,M]=xt.useState(!1),[z,D]=xt.useState(!1),[E,R]=xt.useState(!1),[I,J]=xt.useState([]),[K,P]=xt.useState(!1),[it,et]=xt.useState(!1),[G,q]=xt.useState(""),[L,F]=xt.useState(!1),[j,ut]=xt.useState(!1),[O,W]=xt.useState(null),[ht,nt]=xt.useState(!1),[gt,yt]=xt.useState(null),[st,Ct]=xt.useState(Ec),[zt,Gt]=xt.useState(null),[It,Jt]=xt.useState([]),[Te,ue]=xt.useState(null),[_i,qs]=xt.useState(null),[oe]=xt.useState(()=>{let tt=localStorage.getItem("clientId");return tt||(tt=Math.random().toString(36).slice(2)+Date.now(),localStorage.setItem("clientId",tt)),tt}),[ae,ri]=xt.useState(""),[$n,na]=xt.useState(!1),[bn,Us]=xt.useState(""),[Cr,en]=xt.useState(""),[jn,fi]=xt.useState(!1),[Le,Si]=xt.useState(null),[di,Jn]=xt.useState(null),[Ws,tr]=xt.useState(!1),[Di,ai]=xt.useState(null),[pi,nn]=xt.useState(""),[rn,Ys]=xt.useState(!1),Hn=xt.useRef(!1),[wr,er]=xt.useState(!1),[Ci,Ua]=xt.useState(null),[Gs,Ae]=xt.useState("");xt.useEffect(()=>{localStorage.getItem("pendingSessionName")&&!O&&(console.log("頁面載入時發現 pendingSessionName，但沒有 currentSessionId，清理 localStorage"),localStorage.removeItem("pendingSessionName"))},[O]),xt.useEffect(()=>{const lt=new URLSearchParams(window.location.search).get("viewer");console.log("檢查觀看者網址:",{urlParams:window.location.search,viewerSessionId:lt,currentSessionId:O}),lt&&!O&&(console.log("檢測到觀看者網址，sessionId:",lt),(async()=>{try{console.log("開始獲取會話數據:",lt);const dt=await mn(lt);console.log("getSessionData 結果:",dt),dt.status==="success"?(console.log("觀看者模式加入成功"),Ge(lt,dt.gameData,null)):(console.error("觀看者模式加入失敗:",dt.message),alert("無法加入會話: "+dt.message))}catch(dt){console.error("觀看者模式加入錯誤:",dt),alert("加入會話時發生錯誤")}})())},[O]);const an=async()=>{console.log("handleLoadPresetClick called"),R(!0),P(!0);try{const tt=await yU();console.log("listPresets 回傳：",tt),J(tt.presets||[])}catch(tt){console.error("handleLoadPresetClick 錯誤:",tt)}finally{P(!1)}},vn=Array.isArray(st)?st:[],Wa=vn.filter(tt=>tt.type==="chain"),Ya=vn.filter(tt=>tt.type==="single"),sn=vn.filter(tt=>tt.isCustom===!0);let Se=vn;S==="chain"?Se=Wa:S==="single"?Se=Ya:S==="custom"?Se=sn:S==="special"?Se=vn.filter(tt=>tt.isCustom===!0):It.includes(S)&&(Se=vn.filter(tt=>tt.isCustom===!0&&tt.customTab===S));const Ge=(tt,lt,Ot)=>{if(console.log("handleJoinSession 被呼叫:",{sessionId:tt,gameData:lt?"有數據":"無數據",adminIdFromServer:Ot}),tr(!0),!lt){console.log("創建新會話流程，重置遊戲狀態"),W(null),t(null),n([]),o(0),c(!1),f([]),g(0),x(!1),_(null),ri(""),Ct(Ec),Jt([]),ue(new Date().toISOString()),tr(!1),nt(!1),console.log("已關閉 SessionManager，應該顯示 CharacterSetup");return}console.log("加入現有會話流程"),W(tt);let dt=lt;if(typeof lt=="string")try{dt=JSON.parse(lt)}catch(At){console.error("JSON parse error:",At,lt),dt={}}Array.isArray(dt.history)&&(dt.history=dt.history.map(At=>{if(!At.cardId&&At.cardName){const $t=(dt.allCards||Ec).find(qt=>qt.name===At.cardName);return{...At,cardId:$t?$t.id:`legacy_${At.cardName}_${Date.now()}`}}return At})),console.log("parsedData.players",dt.players),dt&&Array.isArray(dt.players)&&dt.players.length>0?t(dt.players):t(null),dt&&Array.isArray(dt.history)&&n(dt.history),dt&&typeof dt.currentRound=="number"&&g(dt.currentRound),dt&&Array.isArray(dt.roundHistory)&&f(dt.roundHistory),dt&&Array.isArray(dt.allCards)&&dt.allCards.length>0?Ct(Ri(dt.allCards)):Ct(Ec),dt&&Array.isArray(dt.customTabs)&&Jt(dt.customTabs),dt&&dt.lastUpdate?ue(dt.lastUpdate):ue(new Date().toISOString()),ri(Ot!==null?Ot:""),tr(!1)},Qe=async(tt,lt)=>{if(console.log("=== handleStart 開始 ==="),console.log("傳入參數:",{playersData:tt==null?void 0:tt.length,adminPassword:lt?"有密碼":"無密碼"}),!tt||tt.length===0){console.error("沒有玩家數據，無法開始遊戲"),alert("請先添加玩家數據");return}const Ot=localStorage.getItem("pendingSessionName");if(console.log("待建立的會話名稱:",Ot),Ot){console.log("準備建立新會話:",{pendingSessionName:Ot,adminPassword:lt});try{const $t=await dU(Ot,lt);if(console.log("createSession 完整結果:",$t),$t.status==="success"){console.log("會話建立成功，sessionId:",$t.sessionId),W($t.sessionId),localStorage.removeItem("pendingSessionName"),console.log("已清除待建立的會話名稱");const qt=$t.sessionId;console.log("開始獲取會話數據，sessionId:",qt);const Me=await mn(qt);console.log("getSessionData 結果:",Me);let De=typeof Me.gameData=="string"?JSON.parse(Me.gameData):Me.gameData||{};const Ke=tt.map(si=>({...si,initialPower:si.power}));if(De.players=Ke,De.history=[],De.currentRound=0,De.gameOver=!1,De.roundHistory=[{round:0,playerPowers:Ke.map(si=>({name:si.name,power:si.power,color:si.color}))}],st&&st.length>0&&(De.allCards=st),It&&It.length>0&&(De.customTabs=It),lt&&(De.adminPassword=lt,console.log("已將密碼保存到遊戲數據中")),De.lastUpdate=new Date().toISOString(),console.log("準備同步遊戲數據到伺服器"),console.log("updateSessionData 傳送內容:",JSON.stringify(De)),await Yn(qt,JSON.stringify(De)),console.log("遊戲數據已保存到伺服器"),console.log("等待 1 秒確保數據更新..."),await new Promise(si=>setTimeout(si,1e3)),ue(De.lastUpdate),t(Ke),n([]),o(0),c(!1),f(De.roundHistory),g(0),x(!1),_(null),lt&&(ri(oe),console.log("遊戲開始，自動成為 Admin，clientId:",oe)),lt)try{console.log("準備調用 setAdmin API:",{newSessionId:qt,clientId:oe,adminPassword:lt});const si=await Ef(qt,oe,lt);if(console.log("setAdmin 完整結果:",si),si.status==="success"){console.log("setAdmin 成功，現在重新獲取會話數據確認");const je=await mn(qt);console.log("重新獲取的會話數據:",je),je.status==="success"&&je.adminId&&(ri(je.adminId),console.log("已更新 adminId 為:",je.adminId))}else console.error("設定管理者失敗:",si.message)}catch(si){console.error("設定管理者時發生錯誤:",si)}else console.log("沒有提供 adminPassword，跳過 setAdmin API 調用");console.log("=== handleStart 完成 ===");return}else{console.error("建立會話失敗:",$t.message),alert("建立會話失敗: "+$t.message);return}}catch($t){console.error("建立會話時發生錯誤:",$t),alert("建立會話時發生錯誤: "+$t.message);return}}if(!O){console.error("沒有會話 ID，無法繼續");return}console.log("開始獲取會話數據，sessionId:",O);const dt=await mn(O);console.log("getSessionData 結果:",dt);let At=typeof dt.gameData=="string"?JSON.parse(dt.gameData):dt.gameData||{};const Bt=tt.map($t=>({...$t,initialPower:$t.power}));if(At.players=Bt,At.history=[],At.currentRound=0,At.gameOver=!1,At.roundHistory=[{round:0,playerPowers:Bt.map($t=>({name:$t.name,power:$t.power,color:$t.color}))}],st&&st.length>0&&(At.allCards=st),It&&It.length>0&&(At.customTabs=It),lt&&(At.adminPassword=lt,console.log("已將密碼保存到遊戲數據中")),At.lastUpdate=new Date().toISOString(),console.log("準備同步遊戲數據到伺服器"),console.log("updateSessionData 傳送內容:",JSON.stringify(At)),await Yn(O,JSON.stringify(At)),console.log("遊戲數據已保存到伺服器"),console.log("等待 1 秒確保數據更新..."),await new Promise($t=>setTimeout($t,1e3)),ue(At.lastUpdate),t(Bt),n([]),o(0),c(!1),f(At.roundHistory),g(0),x(!1),_(null),ri(oe),console.log("遊戲開始，自動成為 Admin，clientId:",oe),lt)try{console.log("準備調用 setAdmin API:",{currentSessionId:O,clientId:oe,adminPassword:lt});const $t=await Ef(O,oe,lt);if(console.log("setAdmin 完整結果:",$t),$t.status==="success"){console.log("setAdmin 成功，現在重新獲取會話數據確認");const qt=await mn(O);console.log("重新獲取的會話數據:",qt),qt.status==="success"&&qt.adminId&&(ri(qt.adminId),console.log("已更新 adminId 為:",qt.adminId))}else console.error("設定管理者失敗:",$t.message)}catch($t){console.error("設定管理者時發生錯誤:",$t)}else console.log("沒有提供 adminPassword，跳過 setAdmin API 調用");console.log("=== handleStart 完成 ===")},on=tt=>{const lt=tt._tableSelectPlayerIdx!==void 0?tt._tableSelectPlayerIdx:r,Ot=(e||[]).map(($t,qt)=>{if(qt!==lt)return $t;if(tt.condition&&tt.condition.includes("金錢需大於")){const Me=parseInt(tt.condition.replace(/[^0-9]/g,""));if($t.money<=Me)return $t}return{...$t,power:Math.round($t.power*tt.multiplier)}}),dt=[...i||[],{playerIdx:lt,cardId:tt.id,cardName:tt.name,multiplier:tt.multiplier,cost:tt.cost}],At=new Date().toISOString(),Bt={players:Ot,history:dt,currentRound:p,gameOver:l,roundHistory:u,allCards:st,customTabs:It,lastUpdate:At};ai(At),t(Ot),n(dt),ue(At),Si(Bt),fi(!0)},ra=(tt,lt)=>{const Ot=(st||[]).find(qt=>qt.id===lt);if(!Ot)return;const dt=(e||[]).map((qt,Me)=>Me!==tt?qt:{...qt,power:Math.round(qt.power/(Ot.multiplier||1))});let At=i;if(Array.isArray(i)){const qt=i.map((Me,De)=>Me.playerIdx===tt&&Me.cardId===lt?De:-1).filter(Me=>Me!==-1).pop();qt!==void 0&&(At=[...i.slice(0,qt),...i.slice(qt+1)])}const Bt=new Date().toISOString(),$t={players:dt,history:At,currentRound:p,gameOver:l,roundHistory:u,allCards:st,customTabs:It,lastUpdate:Bt};ai(Bt),t(dt),n(At),ue(Bt),Si($t),fi(!0)},Vs=()=>{ft(()=>{const tt={round:p,playerPowers:e?e.map(lt=>({name:lt.name,power:lt.power,color:lt.color})):[]};_(tt),x(!0)})},aa=async()=>{if(!O)return;const tt=await mn(O);let lt=typeof tt.gameData=="string"?JSON.parse(tt.gameData):tt.gameData||{};v&&(lt.roundHistory=[...lt.roundHistory||[],v],lt.currentRound=(lt.currentRound||0)+1,lt.lastUpdate=new Date().toISOString(),await Yn(O,JSON.stringify(lt)),ue(lt.lastUpdate),f(lt.roundHistory),g(lt.currentRound),x(!1),_(null))},ir=()=>{ft(()=>{x(!1),_(null)})},Oi=async()=>{if(!O)return;const tt=await mn(O);let lt=typeof tt.gameData=="string"?JSON.parse(tt.gameData):tt.gameData||{};lt.gameOver=!0,lt.lastUpdate=new Date().toISOString(),await Yn(O,JSON.stringify(lt)),ue(lt.lastUpdate),c(!0)},In=tt=>{Gt(tt)};function Ri(tt){const lt={};return tt.forEach(Ot=>{const dt=Ot.id||`${Ot.name}|||${Ot.customTab||""}`;lt[dt]=Ot}),Object.values(lt)}const nr=async tt=>{if(!O)return;let lt=[...st||[]],Ot=[...It||[]];tt.customTab&&!Ot.includes(tt.customTab)&&Ot.push(tt.customTab);const dt={...tt,isCustom:!0};if(dt.id)lt=lt.map(Bt=>Bt.id===dt.id?dt:Bt);else{const Bt=Date.now(),$t=Math.random().toString(36).substr(2,9);dt.id=`custom_${Bt}_${$t}`,lt.push(dt)}Ct(Ri(lt)),Jt(Ot);const At={players:e,history:i,currentRound:p,gameOver:l,roundHistory:u,allCards:lt,customTabs:Ot,lastUpdate:new Date().toISOString()};await Yn(O,JSON.stringify(At)),ue(At.lastUpdate),Gt(null)},Pn=async tt=>{if(!O)return;let lt=[...st||[]];lt=lt.filter(dt=>dt.id!==tt),Ct(Ri(lt));const Ot={players:e,history:i,currentRound:p,gameOver:l,roundHistory:u,allCards:lt,customTabs:It,lastUpdate:new Date().toISOString()};await Yn(O,JSON.stringify(Ot)),ue(Ot.lastUpdate),Gt(null)},$e=()=>{Gt(null)},kt=()=>{Gt({})},H=async tt=>{if(!O)return;let lt=[...st||[]];lt=lt.map(dt=>dt.id===tt.id?{...dt,isCustom:!dt.isCustom}:dt),Ct(Ri(lt));const Ot={players:e,history:i,currentRound:p,gameOver:l,roundHistory:u,allCards:lt,customTabs:It,lastUpdate:new Date().toISOString()};await Yn(O,JSON.stringify(Ot)),ue(Ot.lastUpdate)},ft=tt=>{tt(),ue(new Date().toISOString())};xt.useEffect(()=>{if(!O)return;let tt=0,lt=null;const Ot=async()=>{if(jn&&Le&&ae===oe){try{await Yn(O,JSON.stringify(Le)),fi(!1),Jn(null),tt=0}catch{Jn("同步失敗，將自動重試..."),tt++,tt<5&&(lt=setTimeout(Ot,2e3*tt));return}return}if(!O)return;const At=await mn(O);if(At.status==="success"&&At.lastUpdate)if(!Te||new Date(At.lastUpdate)>new Date(Te)){let Bt=At.gameData;if(typeof Bt=="string")try{Bt=JSON.parse(Bt)}catch{Bt={}}(ae===oe?!Di||new Date(At.lastUpdate)>=new Date(Di):!0)&&(Array.isArray(Bt.players)&&t(Bt.players),Array.isArray(Bt.history)&&n(Bt.history),typeof Bt.currentRound=="number"&&g(Bt.currentRound),Array.isArray(Bt.roundHistory)&&f(Bt.roundHistory),Array.isArray(Bt.allCards)&&Bt.allCards.length>0&&Ct(Ri(Bt.allCards)),Array.isArray(Bt.customTabs)&&Jt(Bt.customTabs),ue(At.lastUpdate),ri(At.adminId||""),ae===oe&&(Si(null),ai(null))),Jn(null)}else At.status==="error"&&Jn("無法取得伺服器資料，請檢查網路。")},dt=setInterval(Ot,4e3);return()=>{clearInterval(dt),lt&&clearTimeout(lt)}},[O,Te,jn,Le,ae,oe,Di]),xt.useEffect(()=>{ae===oe&&(Hn.current=!0),Hn.current&&ae&&oe&&ae!==oe&&!rn&&!$n&&(alert("你已失去管理權，現在只可觀戰。"),Ys(!0),Hn.current=!1),ae===oe&&rn&&Ys(!1)},[ae,oe,rn,$n]);const pt=ae&&ae===oe,ye=async()=>{en(""),console.log("login start",O,oe,bn);try{const tt=await mn(O);if(tt.status!=="success"){en("無法獲取會話數據");return}let lt=tt.gameData;typeof lt=="string"&&(lt=JSON.parse(lt));const Ot=lt.adminPassword||"";if(bn!==Ot){en("密碼錯誤");return}const dt=await Ef(O,oe,bn);if(console.log("setAdmin response",dt),dt.status==="success"){na(!1),Us(""),ri(oe);const At=await mn(O);At&&At.adminId&&ri(At.adminId)}else en(dt.message||"設定管理者失敗")}catch(tt){en("API 連線失敗"),console.error("setAdmin error",tt)}},Pe=async()=>{if(!(!Le||!O))try{await Yn(O,JSON.stringify(Le)),fi(!1),Si(null),nn("儲存完成"),setTimeout(()=>nn(""),2e3)}catch{nn("儲存失敗，請重試"),setTimeout(()=>nn(""),2e3)}},re=ae&&ae!==oe?{players:e,history:i,currentRound:p,gameOver:l,roundHistory:u,allCards:st,customTabs:It}:Di&&(!Te||new Date(Te)<new Date(Di))?Le||{players:e,history:i,currentRound:p,gameOver:l,roundHistory:u,allCards:st,customTabs:It}:{players:e,history:i,currentRound:p,gameOver:l,roundHistory:u,allCards:st,customTabs:It},wi=()=>{const tt={round:p,playerPowers:e?e.map(lt=>({name:lt.name,power:lt.power,color:lt.color})):[]};_(tt),x(!0)};function _n(tt,lt){const Ot={};return tt.forEach(dt=>{const At=dt.id||`${dt.name}|||${dt.customTab||""}`;Ot[At]=dt}),lt.forEach(dt=>{const At=dt.id||`${dt.name}|||${dt.customTab||""}`;if(!Ot[At])Ot[At]=dt;else{const Bt=Ot[At];if(Bt.name===dt.name)console.log(`保留現有事件: ${dt.name} (ID: ${Bt.id})`);else{const $t={...dt,id:Date.now()+"_"+Math.random().toString(36).substr(2,9)};Ot[$t.id]=$t,console.log(`ID 衝突，為事件 ${dt.name} 生成新 ID: ${$t.id}`)}}}),Object.values(Ot)}function zi(tt,lt){return Array.from(new Set([...tt||[],...lt||[]]))}return B.jsxs("div",{className:"App",children:[console.log("App render players:",re.players),console.log("App render 條件檢查:",{showSessionManager:ht,currentSessionId:O,hasPlayers:!!re.players,pendingSessionName:localStorage.getItem("pendingSessionName"),gameOver:l}),pi&&B.jsx("div",{style:{position:"fixed",top:8,right:8,zIndex:9999,background:"#e3fbe3",color:"#388e3c",padding:"8px 18px",borderRadius:8,fontWeight:600,boxShadow:"0 2px 8px #388e3c22"},children:pi}),pt&&Le&&B.jsx("button",{onClick:Pe,style:{position:"fixed",top:50,right:8,zIndex:9999,background:"#1976d2",color:"#fff",padding:"8px 18px",border:"none",borderRadius:8,fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px #1976d222"},children:"💾 儲存"}),Ws&&B.jsx("div",{style:{padding:48,textAlign:"center",fontSize:22},children:"載入中..."}),O&&B.jsxs("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"8px",padding:"12px 20px",margin:"0 0 20px 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[B.jsxs("div",{children:[B.jsx("span",{style:{fontWeight:600,color:"#1976d2"},children:"會話ID: "}),B.jsx("span",{style:{fontFamily:"monospace",background:"#fff",padding:"4px 8px",borderRadius:"4px"},children:O})]}),B.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[B.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:600,background:pt?"#4caf50":"#ff9800",color:"white"},children:pt?"👑 管理者":"👀 觀看者"}),pt&&B.jsx("button",{onClick:()=>{W(null),t(null),n([]),o(0),c(!1),f([]),g(0),x(!1),_(null),ri(""),Ct(Ec),Jt([]),ue(null),localStorage.removeItem("pendingSessionName")},style:{padding:"6px 12px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"離開會話"})]})]}),B.jsx("h1",{children:"人生 RPG 遊戲"}),ht?B.jsx(HS,{onJoinSession:Ge,onClose:()=>nt(!1),clientId:oe}):localStorage.getItem("pendingSessionName")||O&&!re.players&&ae===oe?B.jsx(l3,{onStart:Qe,onLoadPreset:an}):O?l?B.jsx(d3,{players:re.players,onRestart:()=>t(null)}):B.jsxs(B.Fragment,{children:[B.jsx("div",{style:{position:"absolute",right:24,top:24,zIndex:10,display:"flex",gap:"1em"},children:pt?B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:Vs,style:{padding:"8px 16px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"結束回合"}),B.jsx("button",{onClick:Oi,style:{padding:"8px 16px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"結束遊戲"})]}):B.jsx("button",{onClick:wi,style:{padding:"8px 16px",background:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:600},children:"查看排名"})}),!pt&&O&&re.players&&B.jsxs("div",{style:{padding:24,background:"#fffbe6",border:"1px solid #ffe082",borderRadius:8,margin:"24px 0",textAlign:"center"},children:[B.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"你是觀看者，無法操作遊戲。"}),B.jsx("div",{style:{color:"#666",fontSize:"14px"},children:"觀看者模式只能查看遊戲狀態，無法進行編輯操作。"})]}),B.jsxs("div",{style:{display:"flex",gap:"2em",padding:"1em"},children:[B.jsx(c3,{players:re.players,history:re.history,currentPlayer:r,onSelectPlayer:o,onUnselectCard:pt?ra:void 0,isCurrentMC:pt}),B.jsxs("div",{style:{flex:1},children:[pt&&B.jsxs("div",{style:{marginBottom:12,padding:"1em",background:"#f5f5f5",borderRadius:"8px"},children:[B.jsxs("h3",{style:{margin:"0 0 0.5em 0"},children:["當前選擇玩家：",B.jsx("span",{style:{color:(Ne=re.players[r])==null?void 0:Ne.color},children:(sa=re.players[r])==null?void 0:sa.name})]}),B.jsx("p",{style:{margin:0,color:"#666"},children:"點擊其他玩家可以切換選擇"})]}),B.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,alignItems:"center",flexWrap:"wrap",position:"relative"},children:[B.jsxs("div",{style:{display:"flex",gap:8,flex:1,flexWrap:"wrap"},children:[B.jsx("button",{onClick:()=>w("all"),style:{padding:"6px 18px",borderRadius:20,border:"none",background:S==="all"?"#1976d2":"#e3eafc",color:S==="all"?"#fff":"#1976d2",fontWeight:600,cursor:"pointer"},children:"全部"}),B.jsx("div",{style:{position:"relative",display:"inline-block"},children:B.jsx("button",{onClick:()=>w("chain"),style:{padding:"6px 18px",borderRadius:20,border:"none",background:S==="chain"?"#1976d2":"#e3eafc",color:S==="chain"?"#fff":"#1976d2",fontWeight:600,cursor:"pointer"},children:"連續事件"})}),B.jsx("button",{onClick:()=>w("single"),style:{padding:"6px 18px",borderRadius:20,border:"none",background:S==="single"?"#1976d2":"#e3eafc",color:S==="single"?"#fff":"#1976d2",fontWeight:600,cursor:"pointer"},children:"非連續事件"}),B.jsx("button",{onClick:()=>w("special"),style:{padding:"6px 18px",borderRadius:20,border:"none",background:S==="special"?"#8e24aa":"#f3e5f5",color:S==="special"?"#fff":"#8e24aa",fontWeight:600,cursor:"pointer"},children:"所有特別事件"}),It.map(tt=>B.jsx("button",{onClick:()=>w(tt),style:{padding:"6px 18px",borderRadius:20,border:"none",background:S===tt?"#8e24aa":"#f3e5f5",color:S===tt?"#fff":"#8e24aa",fontWeight:600,cursor:"pointer"},children:tt},tt))]}),B.jsx("div",{style:{display:"flex",gap:8,marginLeft:"auto",position:"relative"},children:pt&&B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:kt,style:{padding:"6px 18px",borderRadius:20,border:"none",background:"#4caf50",color:"#fff",fontWeight:600,cursor:"pointer"},children:"➕ 新增事件"}),B.jsx("button",{onClick:()=>M(!0),style:{padding:"6px 18px",borderRadius:20,border:"none",background:"#1976d2",color:"#fff",fontWeight:600,cursor:"pointer"},children:"🗂️ 表格選取事件"}),B.jsx("button",{onClick:()=>ri(""),style:{padding:"6px 18px",borderRadius:20,border:"none",background:"#ff9800",color:"#fff",fontWeight:600,cursor:"pointer"},children:"👀 切換成觀看者"}),B.jsx("button",{onClick:()=>ut(tt=>!tt),style:{padding:"6px 12px",borderRadius:20,border:"none",background:"#eee",color:"#333",fontWeight:600,cursor:"pointer",fontSize:22,lineHeight:1},title:"更多功能",children:"⋮"}),j&&B.jsxs("div",{style:{position:"absolute",top:40,right:0,background:"#fff",border:"1px solid #ccc",borderRadius:8,boxShadow:"0 2px 8px #0002",zIndex:1e3,minWidth:180,padding:12},children:[B.jsx("div",{style:{padding:8,cursor:"pointer"},onClick:()=>{ut(!1),et(!0)},children:"💾 儲存預設"}),B.jsx("div",{style:{padding:8,cursor:"pointer"},onClick:()=>{ut(!1),an()},children:"📂 載入預設"})]})]})})]}),B.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[B.jsx("h2",{style:{margin:0},children:"選擇人生事件卡"}),S==="chain"&&B.jsx("a",{href:"#",onClick:tt=>{tt.preventDefault(),D(!0)},style:{marginLeft:12,color:"#1976d2",textDecoration:"underline",fontSize:15,cursor:"pointer"},children:"升學路徑流程圖"})]}),B.jsx(f3,{players:re.players,cards:Se,onSelectCard:pt?on:void 0,history:re.history,currentPlayer:r,onSelectPlayer:pt?o:void 0,onUnselectCard:pt?ra:void 0,onEditCard:pt?In:void 0,onToggleCustom:pt?H:void 0,isCurrentMC:pt})]})]}),y&&v&&B.jsx(_5,{roundData:v,roundHistory:re.roundHistory,onConfirm:aa,onBack:ir,isCurrentMC:pt})]}):B.jsx(HS,{onJoinSession:Ge,onClose:()=>nt(!1),clientId:oe}),T&&pt&&B.jsx(S5,{players:re.players,cards:Se,history:re.history,onSelectCard:pt?on:void 0,onUnselectCard:pt?ra:void 0,onClose:()=>M(!1),isCurrentMC:pt}),zt!==null&&pt&&B.jsx(C5,{card:zt,onSave:nr,onCancel:$e,onDelete:Pn,isCurrentMC:pt}),z&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"#fff",borderRadius:12,padding:24,minWidth:320,maxWidth:700,maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 24px #0002",position:"relative"},children:[B.jsx("button",{onClick:()=>D(!1),style:{position:"absolute",top:12,right:16,background:"none",border:"none",fontSize:22,color:"#888",cursor:"pointer"},title:"關閉",children:"✖️"}),B.jsx("h3",{style:{marginTop:0,marginBottom:16,color:"#1976d2"},children:"升學路徑流程圖"}),B.jsx(fU,{chainCards:re.allCards.filter(tt=>tt.type==="chain")})]})}),it&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"#fff",borderRadius:12,padding:24,minWidth:320,maxWidth:400,boxShadow:"0 4px 24px #0002",position:"relative"},children:[B.jsx("button",{onClick:()=>et(!1),style:{position:"absolute",top:12,right:16,background:"none",border:"none",fontSize:22,color:"#888",cursor:"pointer"},title:"關閉",children:"✖️"}),B.jsx("h3",{style:{marginTop:0,marginBottom:16,color:"#1976d2"},children:"儲存預設"}),B.jsx("input",{type:"text",value:G,onChange:tt=>q(tt.target.value),placeholder:"請輸入預設名稱",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:15,marginBottom:16}}),B.jsx("button",{onClick:async()=>{if(!G.trim())return alert("請輸入預設名稱");F(!0);const tt=await gU(G.trim(),{tabs:It,events:re.allCards});F(!1),tt.status==="success"?(alert("儲存成功！"),et(!1),q("")):alert("儲存失敗："+(tt.message||"未知錯誤"))},style:{padding:"8px 24px",borderRadius:8,border:"none",background:"#1976d2",color:"#fff",fontWeight:600,cursor:"pointer",width:"100%"},disabled:L,children:L?"儲存中...":"儲存"})]})}),$n&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"#fff",borderRadius:12,padding:24,minWidth:320,maxWidth:400,boxShadow:"0 4px 24px #0002",position:"relative"},children:[B.jsx("button",{onClick:()=>na(!1),style:{position:"absolute",top:12,right:16,background:"none",border:"none",fontSize:22,color:"#888",cursor:"pointer"},title:"關閉",children:"✖️"}),B.jsx("h3",{style:{marginTop:0,marginBottom:16,color:"#1976d2"},children:"管理者登入"}),B.jsx("input",{type:"password",value:bn,onChange:tt=>Us(tt.target.value),placeholder:"請輸入管理密碼",style:{width:"100%",padding:8,border:"1px solid #ddd",borderRadius:4,fontSize:15,marginBottom:16}}),Cr&&B.jsx("div",{style:{color:"red",marginBottom:8},children:Cr}),B.jsx("button",{onClick:ye,style:{padding:"8px 24px",borderRadius:8,border:"none",background:"#1976d2",color:"#fff",fontWeight:600,cursor:"pointer",width:"100%"},children:"登入"})]})}),E&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"#fff",borderRadius:12,padding:24,minWidth:320,maxWidth:400,boxShadow:"0 4px 24px #0002",position:"relative"},children:[B.jsx("button",{onClick:()=>R(!1),style:{position:"absolute",top:12,right:16,background:"none",border:"none",fontSize:22,color:"#888",cursor:"pointer"},title:"關閉",children:"✖️"}),B.jsx("h3",{style:{marginTop:0,marginBottom:16,color:"#1976d2"},children:"選擇預設設定"}),K?B.jsx("div",{children:"載入中..."}):B.jsxs(B.Fragment,{children:[console.log("presetList in render:",I),I.length===0?B.jsx("div",{style:{color:"#888",textAlign:"center",margin:"16px 0"},children:"沒有可用的預設"}):B.jsx("ul",{style:{listStyle:"none",padding:0},children:I.map(tt=>B.jsx("li",{style:{marginBottom:8},children:B.jsx("button",{onClick:async()=>{R(!1),console.log("你選擇咗 presetId:",tt);const lt=await mU(tt);if(console.log("loadPreset 回傳：",lt),lt.status==="success"){const Ot=Array.isArray(lt.data.events)?lt.data.events:[],dt=Array.isArray(lt.data.tabs)?lt.data.tabs:[];Ua({events:Ot,tabs:dt}),Ae(tt),er(!0)}else alert("載入失敗："+(lt.message||"未知錯誤"))},style:{padding:"6px 18px",borderRadius:8,border:"1px solid #1976d2",background:"#f3e5f5",color:"#1976d2",fontWeight:600,cursor:"pointer",width:"100%"},children:tt})},tt))})]})]})}),wr&&Ci&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:2100,display:"flex",alignItems:"center",justifyContent:"center"},children:B.jsxs("div",{style:{background:"#fff",borderRadius:12,padding:24,minWidth:400,maxWidth:500,boxShadow:"0 4px 24px #0002",position:"relative"},children:[B.jsx("button",{onClick:()=>er(!1),style:{position:"absolute",top:12,right:16,background:"none",border:"none",fontSize:22,color:"#888",cursor:"pointer"},title:"關閉",children:"✖️"}),B.jsxs("h3",{style:{marginTop:0,marginBottom:16,color:"#1976d2"},children:["載入預設「",Gs,"」"]}),B.jsxs("div",{style:{marginBottom:20},children:[B.jsx("p",{style:{margin:"0 0 12px 0",fontWeight:600},children:"選擇載入方式："}),B.jsxs("div",{style:{marginBottom:8},children:[B.jsx("span",{style:{fontWeight:600,color:"#4CAF50"},children:"• 合併："}),B.jsx("span",{children:"保留現有事件並加入預設事件"})]}),B.jsxs("div",{style:{marginBottom:8},children:[B.jsx("span",{style:{fontWeight:600,color:"#f44336"},children:"• 覆蓋："}),B.jsx("span",{children:"完全替換現有事件"})]}),i&&i.length>0&&e&&e.length>0&&B.jsx("div",{style:{marginTop:12,padding:"8px 12px",background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:6,color:"#856404"},children:"⚠️ 注意：選擇覆蓋會取消所有已選擇的事件！"})]}),B.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[B.jsx("button",{onClick:()=>{const tt=_n(st,Ci.events),lt=zi(It,Ci.tabs);if(Ct(tt),Jt(lt),O){const Ot={players:e||[],history:i||[],currentRound:p||0,gameOver:l||!1,roundHistory:u||[],allCards:tt,customTabs:lt,lastUpdate:new Date().toISOString()};Yn(O,JSON.stringify(Ot)),console.log("創建階段：已同步合併的預設到伺服器")}er(!1),Ua(null),Ae("")},style:{padding:"8px 24px",borderRadius:8,border:"1px solid #4CAF50",background:"#fff",color:"#4CAF50",fontWeight:600,cursor:"pointer"},children:"合併"}),B.jsx("button",{onClick:()=>{const{events:tt,tabs:lt}=Ci;if(i&&i.length>0&&e&&e.length>0){const Ot=i.map(qt=>qt.cardId),dt=[],At=[],Bt=[];tt.forEach(qt=>{Ot.includes(qt.id)?dt.push(qt):At.push(qt)}),Ot.forEach(qt=>{tt.some(De=>De.id===qt)||Bt.push(qt)});const $t=[...dt,...At];if(Ct($t),Jt(lt),Bt.length>0){let qt=[...i],Me=[...e];qt=qt.filter(Ke=>!Bt.includes(Ke.cardId));const De=new Set;i.forEach(Ke=>{Bt.includes(Ke.cardId)&&De.add(Ke.playerIdx)}),De.forEach(Ke=>{const si=qt.filter(Ga=>Ga.playerIdx===Ke);let je=Me[Ke].initialPower||Me[Ke].power;si.forEach(Ga=>{const Xs=$t.find(ml=>ml.id===Ga.cardId);Xs&&Xs.multiplier&&(je=Math.round(je*Xs.multiplier))}),Me[Ke]={...Me[Ke],power:je}}),n(qt),t(Me),console.log("移除的事件:",Bt),console.log("受影響的玩家:",Array.from(De))}console.log("智能保留事件:",dt.map(qt=>qt.name)),console.log("替換事件:",At.map(qt=>qt.name)),console.log("移除事件:",Bt)}else Ct(tt),Jt(lt),console.log("直接覆蓋所有事件（創建玩家階段或無已選擇事件）");if(O){const Ot=i&&i.length>0&&e&&e.length>0?[...eventsToKeep,...eventsToReplace]:tt,dt={players:e||[],history:i||[],currentRound:p||0,gameOver:l||!1,roundHistory:u||[],allCards:Ot,customTabs:lt,lastUpdate:new Date().toISOString()};Yn(O,JSON.stringify(dt)),console.log("創建階段：已同步覆蓋的預設到伺服器")}er(!1),Ua(null),Ae("")},style:{padding:"8px 24px",borderRadius:8,border:"none",background:"#f44336",color:"#fff",fontWeight:600,cursor:"pointer"},children:"覆蓋"})]})]})})]})}n3.createRoot(document.getElementById("root")).render(B.jsx(xt.StrictMode,{children:B.jsx(xU,{})}));export{tw as $,Xc as A,r4 as B,X4 as C,Hy as D,tn as E,qC as F,Sj as G,n7 as H,AS as I,n8 as J,f4 as K,el as L,SU as M,Hd as N,KC as O,sy as P,x2 as Q,BF as R,Sf as S,_j as T,vh as U,F4 as V,bh as W,_t as X,Rt as Y,dj as Z,C as _,q4 as a,E5 as a$,TF as a0,P2 as a1,I2 as a2,OU as a3,MU as a4,LU as a5,BU as a6,TU as a7,Lo as a8,Ty as a9,cj as aA,e$ as aB,ij as aC,Ly as aD,zS as aE,NH as aF,AF as aG,IS as aH,Ah as aI,RH as aJ,OH as aK,$s as aL,hj as aM,PT as aN,zd as aO,jd as aP,od as aQ,UT as aR,IT as aS,H$ as aT,Ji as aU,Jz as aV,_y as aW,Xk as aX,Ch as aY,Kk as aZ,kU as a_,DU as aa,AU as ab,zU as ac,RU as ad,EU as ae,cI as af,XM as ag,HU as ah,a8 as ai,ni as aj,qa as ak,xy as al,CA as am,Is as an,ZT as ao,Ut as ap,br as aq,t7 as ar,jU as as,IU as at,FU as au,Mt as av,$U as aw,NI as ax,DI as ay,LI as az,P4 as b,Sy as b0,Da as b1,z2 as b2,sN as b3,uh as b4,lj as b5,ej as b6,P9 as b7,Dy as b8,N$ as b9,_e as bA,fj as ba,kh as bb,ul as bc,rd as bd,G$ as be,w7 as bf,wh as bg,sd as bh,I$ as bi,zT as bj,W9 as bk,Y9 as bl,xs as bm,nS as bn,G9 as bo,Oy as bp,U9 as bq,Z9 as br,fl as bs,Pa as bt,K2 as bu,Ry as bv,FT as bw,$0 as bx,uj as by,$d as bz,he as c,ee as d,JC as e,vi as f,W4 as g,Jr as h,Bs as i,l8 as j,hl as k,ct as l,KT as m,CU as n,qU as o,Y4 as p,G4 as q,PU as r,U4 as s,r8 as t,mr as u,MI as v,kj as w,NU as x,I4 as y,wU as z};
//# sourceMappingURL=index-BHza-m9Y.js.map
